"use strict";(self.webpackChunk_skatteetaten_designsystemet=self.webpackChunk_skatteetaten_designsystemet||[]).push([[701],{"./apps/ds-playground/src/stories/__tests__/ScrollToTopButton.test.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defaults:()=>Defaults,WithAttributes:()=>WithAttributes,WithChildren:()=>WithChildren,WithCustomClassNames:()=>WithCustomClassNames,WithMobileScreen:()=>WithMobileScreen,WithRef:()=>WithRef,WithShadowDom:()=>WithShadowDom,WithVisibilityThreshold:()=>WithVisibilityThreshold,WithWideScreen:()=>WithWideScreen,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _skatteetaten_ds_buttons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ds-buttons/src/index.ts"),_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ds-core-utils/src/index.ts"),_storybook_test__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./apps/ds-playground/src/stories/__tests__/testUtils/storybook.testing.utils.ts"),_storybook_webcomponent_decorator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./apps/ds-playground/.storybook/webcomponent-decorator.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={component:_skatteetaten_ds_buttons__WEBPACK_IMPORTED_MODULE_0__.UT,title:"Tester/ScrollToTopButton",argTypes:{key:{table:{disable:!0}},ref:{table:{disable:!0}},className:{table:{disable:!0}},id:{table:{disable:!0}},lang:{table:{disable:!0}},"data-testid":{table:{disable:!0}},classNames:{table:{disable:!0}},visibilityThreshold:{table:{disable:!0}},shadowRootNode:{table:{disable:!0}},children:{table:{disable:!0}}},parameters:{backgrounds:{default:"grey"}}},Template=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"height100vh",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("main",{className:"scrollToTopContainer",tabIndex:-1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.Mk,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_buttons__WEBPACK_IMPORTED_MODULE_0__.UT,Object.assign({},args))]})}),defaultArgs={visibilityThreshold:0},WithRef={render:Template,name:"With Ref (FA1)",args:Object.assign({},defaultArgs,{ref:instance=>{instance&&(instance.id="dummyIdForwardedFromRef")}}),argTypes:{ref:{table:{disable:!1}}},parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement);(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(canvas.getByRole("button")).toHaveAttribute("id","dummyIdForwardedFromRef")}},WithAttributes={render:Template,name:"With Attributes(FA2-5)",args:Object.assign({},defaultArgs,{id:"htmlId",className:"dummyClassname",lang:"nb","data-testid":"123ID"}),argTypes:{id:{table:{disable:!1}},className:{table:{disable:!1}},lang:{table:{disable:!1}},"data-testid":{table:{disable:!1}}},play:async({canvasElement})=>{const scrollToTopButton=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement).getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(scrollToTopButton).toHaveAttribute("id","htmlId"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(scrollToTopButton).toHaveAttribute("lang","nb"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(scrollToTopButton).toHaveAttribute("data-testid","123ID");const container=canvasElement.querySelector(`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__.YS} > div > main > div:nth-child(2)`);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(container).toHaveClass("dummyClassname")}},WithCustomClassNames={render:Template,name:"With Custom ClassNames (FA3)",args:Object.assign({},defaultArgs,{classNames:{container:"dummyClassname",button:"dummyClassname",iconContainer:"dummyClassname",icon:"dummyClassname",label:"dummyClassname"}}),argTypes:{classNames:{table:{disable:!1}}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement),container=canvasElement.querySelector(`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__.YS} > div > main > div:nth-child(2)`),button=canvas.getByRole("button"),iconContainer=button.querySelector("div"),icon=canvas.getByRole("img",{hidden:!0}),label=canvas.getByText(_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.g0.t("ds_buttons:scrolltotopbutton.Title"));await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(container).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(button).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(iconContainer).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(icon).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(label).toHaveClass("dummyClassname")}},Defaults={render:Template,name:"Defaults (A1, A3, B4)",args:Object.assign({},defaultArgs),argTypes:{visibilityThreshold:{table:{disable:!1}}},parameters:{imageSnapshot:{hover:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__.YS} > div > main > div:nth-child(2) > button`,focus:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__.YS} > div > main > div:nth-child(2) > button`,click:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_3__.YS} > div > main > div:nth-child(2) > button`}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement),scrollToTopButton=canvas.getByText("Til toppen");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(scrollToTopButton).toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(canvas.getByRole("button")).toHaveAttribute("type","button")}},WithChildren={render:Template,name:"With Children (A2)",args:Object.assign({},defaultArgs,{children:"dummy string"}),argTypes:{children:{table:{disable:!1}}},play:async({args,canvasElement})=>{var _args$children;const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(canvas.getByText(null!=(_args$children=args.children)?_args$children:"")).toBeInTheDocument()}},WithMobileScreen={render:Template,name:"With Small Screen (A5)",args:Object.assign({},defaultArgs),parameters:{viewport:{defaultViewport:"--breakpoint-xs"}}},WithWideScreen={render:Template,name:"With Wide Screen (A6)",args:Object.assign({},defaultArgs),parameters:{viewport:{defaultViewport:"--breakpoint-xl"}}},WithVisibilityThreshold={render:Template,name:"With VisibilityThreshold and Scrolling (A7, A8)",args:Object.assign({},defaultArgs,{visibilityThreshold:3}),argTypes:{visibilityThreshold:{table:{disable:!1}}},parameters:{viewport:{defaultViewport:"--breakpoint-xl"},imageSnapshot:{scroll:{yPixels:10}}}},WithShadowDom={render:args=>{const element=document.querySelector("scrolltotop-customelement"),shadowRoot=null==element?void 0:element.shadowRoot;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"height100vh",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("main",{className:"scrollToTopContainer",tabIndex:-1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.Mk,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_buttons__WEBPACK_IMPORTED_MODULE_0__.UT,Object.assign({},args,{shadowRootNode:null!=shadowRoot?shadowRoot:void 0}))]})})},name:"With ShadowDom (B4)",args:Object.assign({},defaultArgs),decorators:[_storybook_webcomponent_decorator__WEBPACK_IMPORTED_MODULE_4__.a],parameters:{imageSnapshot:{disable:!0},customElementName:"scrolltotop-customelement"},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(canvas.queryByRole("button")).not.toBeInTheDocument();const customElement=canvasElement.querySelector("scrolltotop-customelement");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(customElement).toBeInTheDocument();const button=(null==customElement?void 0:customElement.shadowRoot)&&customElement.shadowRoot.querySelector("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(button).toBeInTheDocument(),await _storybook_test__WEBPACK_IMPORTED_MODULE_2__.mV.click(button);const main=(null==customElement?void 0:customElement.shadowRoot)&&customElement.shadowRoot.querySelector("main:focus");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_2__.l_)(main).toBeInTheDocument()}};WithRef.parameters={...WithRef.parameters,docs:{...WithRef.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLButtonElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    }\n  },\n  argTypes: {\n    ref: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    expect(canvas.getByRole('button')).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  }\n} satisfies Story",...WithRef.parameters?.docs?.source}}},WithAttributes.parameters={...WithAttributes.parameters,docs:{...WithAttributes.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Attributes(FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID'\n  },\n  argTypes: {\n    id: {\n      table: {\n        disable: false\n      }\n    },\n    className: {\n      table: {\n        disable: false\n      }\n    },\n    lang: {\n      table: {\n        disable: false\n      }\n    },\n    'data-testid': {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const scrollToTopButton = canvas.getByRole('button');\n    await expect(scrollToTopButton).toHaveAttribute('id', 'htmlId');\n    await expect(scrollToTopButton).toHaveAttribute('lang', 'nb');\n    await expect(scrollToTopButton).toHaveAttribute('data-testid', '123ID');\n    // eslint-disable-next-line testing-library/no-node-access\n    const container = canvasElement.querySelector(`${wrapper} > div > main > div:nth-child(2)`);\n    await expect(container).toHaveClass('dummyClassname');\n  }\n} satisfies Story",...WithAttributes.parameters?.docs?.source}}},WithCustomClassNames.parameters={...WithCustomClassNames.parameters,docs:{...WithCustomClassNames.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Custom ClassNames (FA3)',\n  args: {\n    ...defaultArgs,\n    classNames: {\n      container: 'dummyClassname',\n      button: 'dummyClassname',\n      iconContainer: 'dummyClassname',\n      icon: 'dummyClassname',\n      label: 'dummyClassname'\n    }\n  },\n  argTypes: {\n    classNames: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    /* eslint-disable testing-library/no-node-access */\n    const container = canvasElement.querySelector(`${wrapper} > div > main > div:nth-child(2)`);\n    const button = canvas.getByRole('button');\n    const iconContainer = button.querySelector('div');\n    /* eslint-disable testing-library/no-node-access */\n    const icon = canvas.getByRole('img', {\n      hidden: true\n    });\n    const label = canvas.getByText(dsI18n.t('ds_buttons:scrolltotopbutton.Title'));\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(button).toHaveClass('dummyClassname');\n    await expect(iconContainer).toHaveClass('dummyClassname');\n    await expect(icon).toHaveClass('dummyClassname');\n    await expect(label).toHaveClass('dummyClassname');\n  }\n} satisfies Story",...WithCustomClassNames.parameters?.docs?.source}}},Defaults.parameters={...Defaults.parameters,docs:{...Defaults.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'Defaults (A1, A3, B4)',\n  args: {\n    ...defaultArgs\n  },\n  argTypes: {\n    visibilityThreshold: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      hover: `${wrapper} > div > main > div:nth-child(2) > button`,\n      focus: `${wrapper} > div > main > div:nth-child(2) > button`,\n      click: `${wrapper} > div > main > div:nth-child(2) > button`\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const scrollToTopButton = canvas.getByText(defaultButtonText);\n    await expect(scrollToTopButton).toBeInTheDocument();\n    await expect(canvas.getByRole('button')).toHaveAttribute('type', 'button');\n  }\n} satisfies Story",...Defaults.parameters?.docs?.source}}},WithChildren.parameters={...WithChildren.parameters,docs:{...WithChildren.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Children (A2)',\n  args: {\n    ...defaultArgs,\n    children: 'dummy string'\n  },\n  argTypes: {\n    children: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    args,\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByText(args.children ?? '')).toBeInTheDocument();\n  }\n} satisfies Story",...WithChildren.parameters?.docs?.source}}},WithMobileScreen.parameters={...WithMobileScreen.parameters,docs:{...WithMobileScreen.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Small Screen (A5)',\n  args: {\n    ...defaultArgs\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: '--breakpoint-xs'\n    }\n  }\n} satisfies Story",...WithMobileScreen.parameters?.docs?.source}}},WithWideScreen.parameters={...WithWideScreen.parameters,docs:{...WithWideScreen.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With Wide Screen (A6)',\n  args: {\n    ...defaultArgs\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: '--breakpoint-xl'\n    }\n  }\n} satisfies Story",...WithWideScreen.parameters?.docs?.source}}},WithVisibilityThreshold.parameters={...WithVisibilityThreshold.parameters,docs:{...WithVisibilityThreshold.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  name: 'With VisibilityThreshold and Scrolling (A7, A8)',\n  args: {\n    ...defaultArgs,\n    visibilityThreshold: 3\n  },\n  argTypes: {\n    visibilityThreshold: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: '--breakpoint-xl'\n    },\n    imageSnapshot: {\n      scroll: {\n        yPixels: 10\n      }\n    }\n  }\n} satisfies Story",...WithVisibilityThreshold.parameters?.docs?.source}}},WithShadowDom.parameters={...WithShadowDom.parameters,docs:{...WithShadowDom.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithShadowDom,\n  name: 'With ShadowDom (B4)',\n  args: {\n    ...defaultArgs\n  },\n  decorators: [webComponent],\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    },\n    customElementName: 'scrolltotop-customelement'\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    //button finnes ikke utenfor shadowDom\n    await expect(canvas.queryByRole('button')).not.toBeInTheDocument();\n    const customElement = canvasElement.querySelector(`scrolltotop-customelement`);\n    await expect(customElement).toBeInTheDocument();\n    const button = customElement?.shadowRoot && customElement.shadowRoot.querySelector('button');\n    await expect(button).toBeInTheDocument();\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    await userEvent.click(button!);\n    const main = customElement?.shadowRoot && customElement.shadowRoot.querySelector('main:focus');\n    await expect(main).toBeInTheDocument();\n  }\n} satisfies Story",...WithShadowDom.parameters?.docs?.source}}};const __namedExportsOrder=["WithRef","WithAttributes","WithCustomClassNames","Defaults","WithChildren","WithMobileScreen","WithWideScreen","WithVisibilityThreshold","WithShadowDom"]}}]);