import { Meta, Primary, Controls } from '@storybook/blocks';
import { PlayroomCanvas as Canvas } from '../../playroom/utils';
import * as AccordionStories from './Accordion.stories';
import { VersionBadge } from '../utils/VersionBadge';
import { DocIntro } from '../utils/DocIntro';
import { DocHeaderWrapper } from '../utils/DocHeaderWrapper';

<Meta of={AccordionStories} />

<DocHeaderWrapper componentName={'Accordion'}>

# Accordion

<VersionBadge packageName={'collections'} />

<DocIntro
  name="Accordion"
  url="https://www.skatteetaten.no/stilogtone/designsystemet/komponenter/accordion/"
/>

</DocHeaderWrapper>

<Primary />

```tsx
import { Accordion } from '@skatteetaten/ds-collections';
```

<Controls />

## Lazy loading av innhold

Standard oppførsel er at alt innhold i Accordion.Item-komponenten rendres i dom, men skjules med display: none dersom den er lukket. Hvis man ønsker at innholdet ikke rendres før elementet har blitt åpnet, kan man for eksempel bruke følgende wrapper:

```tsx
const LazyAccordionItem = ({
  children,
  ...rest
}: AccordionItemProps): JSX.Element => {
  const [opened, setOpened] = useState(false);
  return (
    <Accordion.Item {...rest} onClick={() => !opened && setOpened(true)}>
      {opened ? children : null}
    </Accordion.Item>
  );
};
```

## I venstremeny

<Canvas of={AccordionStories.LeftMenu} />

## I arbeidsoppgave

<Canvas of={AccordionStories.WorkTask} />
