"use strict";(self.webpackChunk_skatteetaten_designsystemet=self.webpackChunk_skatteetaten_designsystemet||[]).push([[3730],{"./apps/ds-playground/src/stories/__tests__/testUtils/storybook.testing.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{YS:()=>wrapper,fH:()=>loremIpsum,ob:()=>loremIpsumWithoutSpaces});const wrapper="[data-test-block]",loremIpsum="Lorem ipsum dolor sit amet. Alle som har laget en nettside, trengt litt fylltekst eller bare surfet rundt på nettet har antageligvis sett disse ordene, etterfulgt av en tilsynelatende eviglang tekst fylt med latinske liksomsetninger.",loremIpsumWithoutSpaces="Loremipsumdolorsitamet.Allesomharlagetennettside,trengtlittfylltekstellerbaresurfetrundtpånettetharantageligvissettdisseordene,etterfulgtaventilsynelatendeeviglangtekstfyltmedlatinskeliksomsetninger."},"./apps/ds-playground/src/stories/__tests__/AccordionItem.test.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defaults:()=>Defaults,IsDefaultExpanded:()=>IsDefaultExpanded,IsExpanded:()=>IsExpanded,PersistFocusOnClick:()=>PersistFocusOnClick,WithAttributes:()=>WithAttributes,WithCustomClassNames:()=>WithCustomClassNames,WithCustomIcon:()=>WithCustomIcon,WithLineBreak:()=>WithLineBreak,WithOnClick:()=>WithOnClick,WithRef:()=>WithRef,WithTitleAs:()=>WithTitleAs,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ds-collections/src/index.ts"),_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ds-core-utils/src/index.ts"),_skatteetaten_ds_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ds-icons/src/index.ts"),_storybook_test__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./apps/ds-playground/src/stories/__tests__/testUtils/storybook.testing.utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const defaultContent="Fikk du over 1 000 kroner i restskatt, deles summen opp i 2 fakturaer. Fristen for når du må betale avhenger av når du fikk skatteoppgjøret ditt.",__WEBPACK_DEFAULT_EXPORT__={component:_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_0__.UQ.Item,title:"Tester/Accordion/Item",argTypes:{key:{table:{disable:!0}},ref:{table:{disable:!0}},className:{table:{disable:!0}},id:{table:{disable:!0}},lang:{table:{disable:!0}},"data-testid":{table:{disable:!0}},classNames:{table:{disable:!0}},children:{table:{disable:!0}},isExpanded:{table:{disable:!0}},isDefaultExpanded:{table:{disable:!0}},svgPath:{table:{disable:!0}},titleAs:{options:[..._skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.C9],control:"inline-radio",table:{disable:!0}},title:{table:{disable:!0}},subtitle:{table:{disable:!0}},onClick:{table:{disable:!0}}}},TemplateWithOnClick=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_0__.UQ.Item,Object.assign({},args,{onClick:e=>{null==args.onClick||args.onClick(e)},children:args.children})),defaultArgs={title:"Meg selv",children:defaultContent},WithRef={name:"With Ref (FA1)",args:Object.assign({},defaultArgs,{ref:instance=>{instance&&(instance.id="dummyIdForwardedFromRef")}}),argTypes:{ref:{table:{disable:!1}}},parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(canvas.getByRole("button")).toHaveAttribute("id","dummyIdForwardedFromRef")}},WithAttributes={name:"With Attributes(FA2-5)",args:Object.assign({},defaultArgs,{id:"htmlId",className:"dummyClassname",lang:"nb","data-testid":"123ID"}),argTypes:{id:{table:{disable:!1}},className:{table:{disable:!1}},lang:{table:{disable:!1}},"data-testid":{table:{disable:!1}}},play:async({canvasElement})=>{const button=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement).getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("id","htmlId"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("lang","nb"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("data-testid","123ID")}},Defaults={name:"Defaults (A2, B1)",args:Object.assign({},defaultArgs),argTypes:{title:{table:{disable:!1}}},parameters:{imageSnapshot:{focus:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_4__.YS} button`,hover:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_4__.YS} button`,click:`${_testUtils_storybook_testing_utils__WEBPACK_IMPORTED_MODULE_4__.YS} button`}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement),button=canvas.getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("type","button"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("aria-expanded","false");const title=canvas.getByText("Meg selv");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(title).toBeInTheDocument();const content=canvas.queryByText(defaultContent);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).not.toBeInTheDocument();const svg=button.querySelector("svg");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(svg).toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(svg).toHaveAttribute("aria-hidden","true")}},WithCustomClassNames={name:"With Custom ClassNames (FA3, A10)",args:Object.assign({},defaultArgs,{subtitle:"Beskrivelse",isExpanded:!0,classNames:{container:"dummyClassname",title:"dummyClassname",subtitle:"dummyClassname",content:"dummyClassname"}}),argTypes:{classNames:{table:{disable:!1}}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement),container=canvas.getByRole("button"),title=canvas.getByText("Meg selv"),subtitle=canvas.getByText("Beskrivelse"),content=canvas.getByText(defaultContent);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(container).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(title).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(subtitle).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).toHaveClass("dummyClassname")}},WithCustomIcon={name:"With Custom Icon (A8)",args:Object.assign({},defaultArgs,{svgPath:_skatteetaten_ds_icons__WEBPACK_IMPORTED_MODULE_2__._0b}),parameters:{imageSnapshot:{disable:!1}}},IsExpanded={name:"With IsExpanded (A6 delvis)",args:Object.assign({},defaultArgs,{isExpanded:!0}),argTypes:{isExpanded:{table:{disable:!1}}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement),content=await canvas.findByText(defaultContent);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).toBeInTheDocument();const button=canvas.getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("aria-expanded","true")}},IsDefaultExpanded={name:"With IsDefaultExpanded (A6 delvis)",args:Object.assign({},defaultArgs,{isDefaultExpanded:!0}),argTypes:{isDefaultExpanded:{table:{disable:!1}}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement),content=await canvas.findByText(defaultContent);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).toBeInTheDocument();const button=canvas.getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("aria-expanded","true")}},WithOnClick={render:TemplateWithOnClick,name:"With OnClick (A5, B1,B2)",args:Object.assign({},defaultArgs,{onClick:(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.fn)()}),parameters:{imageSnapshot:{disable:!0}},play:async({args,canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement),button=canvas.getByRole("button");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("aria-expanded","false"),await _storybook_test__WEBPACK_IMPORTED_MODULE_3__.BX.click(button);const content=canvas.getByText(defaultContent);await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveAttribute("aria-expanded","true"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).toBeInTheDocument(),await _storybook_test__WEBPACK_IMPORTED_MODULE_3__.BX.click(button),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(content).not.toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.X_)((()=>(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(args.onClick).toHaveBeenCalledTimes(2)))}},PersistFocusOnClick={render:TemplateWithOnClick,name:"With Persist Focus On Click (C1))",args:Object.assign({},defaultArgs),parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const button=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement).getByRole("button");await _storybook_test__WEBPACK_IMPORTED_MODULE_3__.BX.focus(button);const user=_storybook_test__WEBPACK_IMPORTED_MODULE_3__.mV.setup();await user.tab(),await user.keyboard("{Space}"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.X_)((()=>{(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button.matches(":focus")).toBe(!0)})),await user.keyboard("{Enter}"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.X_)((()=>{(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(button).toHaveFocus()}))}},WithLineBreak={name:"With Title Line Break (A3)",args:Object.assign({},defaultArgs,{title:"Tittel som\nbrekker over flere\nlinjer"}),parameters:{imageSnapshot:{disable:!0}}},WithTitleAs={render:args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.C9.map(((headingLevel,item)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_0__.UQ.Item,Object.assign({},args,{titleAs:headingLevel,title:`Heading ${headingLevel}`,children:args.children}),`level_${item}`)))}),name:"With TitleAs (B3)",args:Object.assign({},defaultArgs),parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const headings=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.uh)(canvasElement).getAllByRole("heading");for(const[index,heading]of headings.entries())await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.l_)(heading.tagName).toBe(_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_1__.C9[index].toLocaleUpperCase())}};WithRef.parameters={...WithRef.parameters,docs:{...WithRef.parameters?.docs,source:{originalSource:"{\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLButtonElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    }\n  },\n  argTypes: {\n    ref: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByRole('button')).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  }\n} satisfies Story",...WithRef.parameters?.docs?.source}}},WithAttributes.parameters={...WithAttributes.parameters,docs:{...WithAttributes.parameters?.docs,source:{originalSource:"{\n  name: 'With Attributes(FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: elementId,\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID'\n  },\n  argTypes: {\n    id: {\n      table: {\n        disable: false\n      }\n    },\n    className: {\n      table: {\n        disable: false\n      }\n    },\n    lang: {\n      table: {\n        disable: false\n      }\n    },\n    'data-testid': {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveClass('dummyClassname');\n    await expect(button).toHaveAttribute('id', elementId);\n    await expect(button).toHaveAttribute('lang', 'nb');\n    await expect(button).toHaveAttribute('data-testid', '123ID');\n  }\n} satisfies Story",...WithAttributes.parameters?.docs?.source}}},Defaults.parameters={...Defaults.parameters,docs:{...Defaults.parameters?.docs,source:{originalSource:"{\n  name: 'Defaults (A2, B1)',\n  args: {\n    ...defaultArgs\n  },\n  argTypes: {\n    title: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      focus: `${wrapper} button`,\n      hover: `${wrapper} button`,\n      click: `${wrapper} button`\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toBeInTheDocument();\n    await expect(button).toHaveAttribute('type', 'button');\n    await expect(button).toHaveAttribute('aria-expanded', 'false');\n    const title = canvas.getByText(defaultTitle);\n    await expect(title).toBeInTheDocument();\n    const content = canvas.queryByText(defaultContent);\n    await expect(content).not.toBeInTheDocument();\n    // eslint-disable-next-line testing-library/no-node-access\n    const svg = button.querySelector('svg');\n    await expect(svg).toBeInTheDocument();\n    await expect(svg).toHaveAttribute('aria-hidden', 'true');\n  }\n} satisfies Story",...Defaults.parameters?.docs?.source}}},WithCustomClassNames.parameters={...WithCustomClassNames.parameters,docs:{...WithCustomClassNames.parameters?.docs,source:{originalSource:"{\n  name: 'With Custom ClassNames (FA3, A10)',\n  args: {\n    ...defaultArgs,\n    subtitle: defaultSubtitle,\n    isExpanded: true,\n    classNames: {\n      container: 'dummyClassname',\n      title: 'dummyClassname',\n      subtitle: 'dummyClassname',\n      content: 'dummyClassname'\n    }\n  },\n  argTypes: {\n    classNames: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    // eslint-disable-next-line testing-library/no-node-access\n    const container = canvas.getByRole('button');\n    const title = canvas.getByText(defaultTitle);\n    const subtitle = canvas.getByText(defaultSubtitle);\n    const content = canvas.getByText(defaultContent);\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(title).toHaveClass('dummyClassname');\n    await expect(subtitle).toHaveClass('dummyClassname');\n    await expect(content).toHaveClass('dummyClassname');\n  }\n} satisfies Story",...WithCustomClassNames.parameters?.docs?.source}}},WithCustomIcon.parameters={...WithCustomIcon.parameters,docs:{...WithCustomIcon.parameters?.docs,source:{originalSource:"{\n  name: 'With Custom Icon (A8)',\n  args: {\n    ...defaultArgs,\n    svgPath: PersonSVGpath\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: false\n    }\n  }\n} satisfies Story",...WithCustomIcon.parameters?.docs?.source}}},IsExpanded.parameters={...IsExpanded.parameters,docs:{...IsExpanded.parameters?.docs,source:{originalSource:"{\n  name: 'With IsExpanded (A6 delvis)',\n  args: {\n    ...defaultArgs,\n    isExpanded: true\n  },\n  argTypes: {\n    isExpanded: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const content = await canvas.findByText(defaultContent);\n    await expect(content).toBeInTheDocument();\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('aria-expanded', 'true');\n  }\n} satisfies Story",...IsExpanded.parameters?.docs?.source}}},IsDefaultExpanded.parameters={...IsDefaultExpanded.parameters,docs:{...IsDefaultExpanded.parameters?.docs,source:{originalSource:"{\n  name: 'With IsDefaultExpanded (A6 delvis)',\n  args: {\n    ...defaultArgs,\n    isDefaultExpanded: true\n  },\n  argTypes: {\n    isDefaultExpanded: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const content = await canvas.findByText(defaultContent);\n    await expect(content).toBeInTheDocument();\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('aria-expanded', 'true');\n  }\n} satisfies Story",...IsDefaultExpanded.parameters?.docs?.source}}},WithOnClick.parameters={...WithOnClick.parameters,docs:{...WithOnClick.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithOnClick,\n  name: 'With OnClick (A5, B1,B2)',\n  args: {\n    ...defaultArgs,\n    onClick: fn()\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    args,\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('aria-expanded', 'false');\n    await fireEvent.click(button);\n    const content = canvas.getByText(defaultContent);\n    await expect(button).toHaveAttribute('aria-expanded', 'true');\n    await expect(content).toBeInTheDocument();\n    await fireEvent.click(button);\n    await expect(content).not.toBeInTheDocument();\n    await waitFor(() => expect(args.onClick).toHaveBeenCalledTimes(2));\n  }\n} satisfies Story",...WithOnClick.parameters?.docs?.source}}},PersistFocusOnClick.parameters={...PersistFocusOnClick.parameters,docs:{...PersistFocusOnClick.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithOnClick,\n  name: 'With Persist Focus On Click (C1))',\n  args: {\n    ...defaultArgs\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await fireEvent.focus(button);\n    const user = userEvent.setup();\n    await user.tab();\n    await user.keyboard('{Space}');\n    await waitFor(() => {\n      expect(button.matches(':focus')).toBe(true);\n    });\n    await user.keyboard('{Enter}');\n    await waitFor(() => {\n      expect(button).toHaveFocus();\n    });\n  }\n} satisfies Story",...PersistFocusOnClick.parameters?.docs?.source}}},WithLineBreak.parameters={...WithLineBreak.parameters,docs:{...WithLineBreak.parameters?.docs,source:{originalSource:"{\n  name: 'With Title Line Break (A3)',\n  args: {\n    ...defaultArgs,\n    title: 'Tittel som\\nbrekker over flere\\nlinjer'\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  }\n} satisfies Story",...WithLineBreak.parameters?.docs?.source}}},WithTitleAs.parameters={...WithTitleAs.parameters,docs:{...WithTitleAs.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithAllHeadings,\n  name: 'With TitleAs (B3)',\n  args: {\n    ...defaultArgs\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const headings = canvas.getAllByRole('heading');\n    for (const [index, heading] of headings.entries()) {\n      await expect(heading.tagName).toBe(headingAsArr[index].toLocaleUpperCase());\n    }\n  }\n} satisfies Story",...WithTitleAs.parameters?.docs?.source}}};const __namedExportsOrder=["WithRef","WithAttributes","Defaults","WithCustomClassNames","WithCustomIcon","IsExpanded","IsDefaultExpanded","WithOnClick","PersistFocusOnClick","WithLineBreak","WithTitleAs"]}}]);