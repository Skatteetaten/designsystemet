"use strict";(self.webpackChunk_skatteetaten_designsystemet=self.webpackChunk_skatteetaten_designsystemet||[]).push([[3938],{"./apps/ds-playground/src/stories/__tests__/ErrorMessage.test.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defaults:()=>Defaults,WithAttributes:()=>WithAttributes,WithLongText:()=>WithLongText,WithLongTextAndBreaking:()=>WithLongTextAndBreaking,WithPElement:()=>WithPElement,WithRef:()=>WithRef,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ds-forms/src/index.ts"),_storybook_test__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={component:_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_0__.Bc,title:"Tester/ErrorMessage",argTypes:{key:{table:{disable:!0}},ref:{table:{disable:!0}},className:{table:{disable:!0}},id:{table:{disable:!0}},lang:{table:{disable:!0}},"data-testid":{table:{disable:!0}},children:{table:{disable:!0}},showError:{table:{disable:!0}}}},defaultArgs={children:"Feilmelding"},WithRef={name:"With Ref (FA1)",args:Object.assign({},defaultArgs,{ref:instance=>{instance&&(instance.id="dummyIdForwardedFromRef")}}),argTypes:{ref:{table:{disable:!1}}},parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const container=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement).getAllByRole("generic")[1];await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("id","dummyIdForwardedFromRef")}},WithAttributes={name:"With Attributes (FA2-5, B1)",args:Object.assign({},defaultArgs,{id:"htmlId",className:"dummyClassname",lang:"nb","data-testid":"123ID",showError:!0}),argTypes:{id:{table:{disable:!1}},className:{table:{disable:!1}},lang:{table:{disable:!1}},"data-testid":{table:{disable:!1}}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement),container=canvas.getAllByRole("generic")[1],errorMessage=canvas.getAllByRole("generic")[2];await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("id","htmlId"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(errorMessage).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("lang","nb"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("data-testid","123ID")}},Defaults={name:"Default (A1, A2)",args:Object.assign({},defaultArgs),play:async({canvasElement})=>{const container=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement).getAllByRole("generic")[1];await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("aria-live","assertive"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(container).toHaveAttribute("aria-atomic");const textNode=container.querySelector("p");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(textNode).not.toBeInTheDocument()}},WithPElement={name:"With <p>-element (B1)",args:Object.assign({},defaultArgs,{showError:!0}),argTypes:{showError:{table:{disable:!1}}},play:async({canvasElement})=>{const textNode=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement).getByText("Feilmelding");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.l_)(textNode.tagName).toBe("P")}},TemplateWithInput=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"errorMessageContainer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_0__.Bc,Object.assign({},args))}),WithLongText={render:TemplateWithInput,name:"With Long Text (A3)",args:Object.assign({},defaultArgs,{showError:!0,children:"Dette blir en veldig lang feilmelding for å teste om du oppfører seg om den skal."}),argTypes:{children:{table:{disable:!1}}}},WithLongTextAndBreaking={render:TemplateWithInput,name:"With Long Text And Breaking",args:Object.assign({},defaultArgs,{showError:!0,children:"Detteblirenveldiglangfeilmeldingforåtesteomduoppførersegomdenskal."}),argTypes:{children:{table:{disable:!1}}}};WithRef.parameters={...WithRef.parameters,docs:{...WithRef.parameters?.docs,source:{originalSource:"{\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    }\n  },\n  argTypes: {\n    ref: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  }\n} satisfies Story",...WithRef.parameters?.docs?.source}}},WithAttributes.parameters={...WithAttributes.parameters,docs:{...WithAttributes.parameters?.docs,source:{originalSource:"{\n  name: 'With Attributes (FA2-5, B1)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n    showError: true\n  },\n  argTypes: {\n    id: {\n      table: {\n        disable: false\n      }\n    },\n    className: {\n      table: {\n        disable: false\n      }\n    },\n    lang: {\n      table: {\n        disable: false\n      }\n    },\n    'data-testid': {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }: {\n    canvasElement: HTMLElement;\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    const errorMessage = canvas.getAllByRole('generic')[2];\n    await expect(container).toHaveAttribute('id', 'htmlId');\n    await expect(errorMessage).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('lang', 'nb');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  }\n} satisfies Story",...WithAttributes.parameters?.docs?.source}}},Defaults.parameters={...Defaults.parameters,docs:{...Defaults.parameters?.docs,source:{originalSource:"{\n  name: 'Default (A1, A2)',\n  args: {\n    ...defaultArgs\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toBeInTheDocument();\n    await expect(container).toHaveAttribute('aria-live', 'assertive');\n    await expect(container).toHaveAttribute('aria-atomic');\n    // eslint-disable-next-line testing-library/no-node-access\n    const textNode = container.querySelector('p');\n    await expect(textNode).not.toBeInTheDocument();\n  }\n} satisfies Story",...Defaults.parameters?.docs?.source}}},WithPElement.parameters={...WithPElement.parameters,docs:{...WithPElement.parameters?.docs,source:{originalSource:"{\n  name: 'With <p>-element (B1)',\n  args: {\n    ...defaultArgs,\n    showError: true\n  },\n  argTypes: {\n    showError: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const textNode = canvas.getByText(defaultText);\n    await expect(textNode.tagName).toBe('P');\n  }\n} satisfies Story",...WithPElement.parameters?.docs?.source}}},WithLongText.parameters={...WithLongText.parameters,docs:{...WithLongText.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithInput,\n  name: 'With Long Text (A3)',\n  args: {\n    ...defaultArgs,\n    showError: true,\n    children: 'Dette blir en veldig lang feilmelding for å teste om du oppfører seg om den skal.'\n  },\n  argTypes: {\n    children: {\n      table: {\n        disable: false\n      }\n    }\n  }\n} satisfies Story",...WithLongText.parameters?.docs?.source}}},WithLongTextAndBreaking.parameters={...WithLongTextAndBreaking.parameters,docs:{...WithLongTextAndBreaking.parameters?.docs,source:{originalSource:"{\n  render: TemplateWithInput,\n  name: 'With Long Text And Breaking',\n  args: {\n    ...defaultArgs,\n    showError: true,\n    children: 'Detteblirenveldiglangfeilmeldingforåtesteomduoppførersegomdenskal.'\n  },\n  argTypes: {\n    children: {\n      table: {\n        disable: false\n      }\n    }\n  }\n} satisfies Story",...WithLongTextAndBreaking.parameters?.docs?.source}}};const __namedExportsOrder=["WithRef","WithAttributes","Defaults","WithPElement","WithLongText","WithLongTextAndBreaking"]}}]);