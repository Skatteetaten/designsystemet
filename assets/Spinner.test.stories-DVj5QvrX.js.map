{"version":3,"file":"Spinner.test.stories-DVj5QvrX.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/Spinner.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react';\nimport { expect, within } from '@storybook/test';\n\nimport {\n  Spinner,\n  spinnerColorArr,\n  spinnerPositionArr,\n  spinnerSizeArr,\n} from '@skatteetaten/ds-progress';\n\nconst meta = {\n  component: Spinner,\n  title: 'Tester/Spinner',\n  argTypes: {\n    // Baseprops\n    key: { table: { disable: true } },\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    size: {\n      table: { disable: true },\n      control: 'inline-radio',\n      options: [...spinnerSizeArr],\n    },\n    titlePosition: {\n      table: { disable: true },\n      control: 'inline-radio',\n      options: [...spinnerPositionArr],\n    },\n    color: {\n      table: { disable: true },\n      control: 'inline-radio',\n      options: [...spinnerColorArr],\n    },\n    classNames: { table: { disable: true } },\n    percentComplete: { table: { disable: true } },\n    hideTitle: {\n      control: 'boolean',\n      table: { disable: true },\n    },\n  },\n} satisfies Meta<typeof Spinner>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getAllByRole('generic')[1];\n    await expect(spinner).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    id: 'htmlid',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getByTestId('123ID');\n    await expect(spinner).toHaveAttribute('id', 'htmlid');\n    await expect(spinner).toHaveClass('dummyClassname');\n    await expect(spinner).toHaveAttribute('lang', 'nb');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (B2)',\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = await canvas.findByText('Laster inn');\n    await expect(spinner).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithSizeAndPosition = {\n  name: 'With Size, TitlePostition, Children (A1, A2, A4)',\n  render: (args): JSX.Element => {\n    return (\n      <>\n        <Spinner className={'bottomSpacingXL'} size={'small'} {...args} />\n        <Spinner className={'bottomSpacingXL'} size={'medium'} {...args} />\n        <Spinner className={'bottomSpacingXL'} size={'large'} {...args} />\n\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'small'}\n          {...args}\n        />\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'medium'}\n          {...args}\n        />\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'large'}\n          {...args}\n        />\n      </>\n    );\n  },\n  args: {\n    children: 'henter innhold',\n  },\n  argTypes: {\n    children: { table: { disable: false } },\n    size: { table: { disable: false } },\n    titlePosition: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const WithSizeAndPositionLongText = {\n  ...WithSizeAndPosition,\n  name: 'With Size, Text Postition, Children, Long Text (A1, A2, A4)',\n  args: {\n    children: 'Henter årsmiddelkurs fra valutakurstjenesten',\n  },\n};\n\nexport const WithColorsLightBackground = {\n  name: 'With Color (A3)',\n  render: (args): JSX.Element => {\n    return (\n      <>\n        <Spinner\n          className={'bottomSpacingXL'}\n          color={'black'}\n          size={'medium'}\n          {...args}\n        >\n          {'Henter innhold'}\n        </Spinner>\n        <Spinner color={'blue'} size={'medium'} {...args}>\n          {'Henter innhold'}\n        </Spinner>\n      </>\n    );\n  },\n  argTypes: {\n    color: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const WithColorsDarkBackground = {\n  name: 'With Color Dark Background(A3)',\n  args: {\n    color: 'white',\n  },\n  argTypes: {\n    color: {\n      table: { disable: false },\n    },\n  },\n  parameters: {\n    backgrounds: {\n      default: 'dark',\n    },\n  },\n} satisfies Story;\n\nconst spinnerTitle = 'laster data';\nexport const WithHideText = {\n  name: 'With HideTitle (B1)',\n  args: {\n    hideTitle: true,\n    children: spinnerTitle,\n  },\n  argTypes: {\n    hideTitle: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    // vi må bruke findBy i stedet for getBY her siden det er en liten delay før teksten rendres\n    const spinnerTitleElement = await canvas.findByText(spinnerTitle);\n    await expect(spinnerTitleElement).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithPercent = {\n  name: 'With PercentComplete (B3)',\n  args: {\n    percentComplete: 50,\n    children: spinnerTitle,\n  },\n  argTypes: {\n    percentComplete: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getByRole('progressbar');\n    await expect(canvas.getByText('50 %')).toBeInTheDocument();\n    await expect(spinner).toHaveAttribute('aria-busy', 'true');\n    await expect(spinner).toHaveAttribute('aria-valuenow', '50');\n    await expect(spinner).toHaveAttribute('aria-valuemin', '0');\n    await expect(spinner).toHaveAttribute('aria-valuemax', '100');\n    await expect(spinner).toBeInTheDocument();\n  },\n} satisfies Story;\n"],"names":["meta","component","Spinner","title","argTypes","key","table","disable","ref","className","id","lang","children","control","size","options","spinnerSizeArr","titlePosition","spinnerPositionArr","color","spinnerColorArr","classNames","percentComplete","hideTitle","WithRef","name","args","instance","parameters","imageSnapshot","play","canvasElement","spinner","within","getAllByRole","expect","toHaveAttribute","WithAttributes","getByTestId","toHaveClass","Defaults","findByText","toBeInTheDocument","WithSizeAndPosition","render","jsxs","Fragment","jsx","WithSizeAndPositionLongText","WithColorsLightBackground","WithColorsDarkBackground","backgrounds","default","spinnerTitle","WithHideText","spinnerTitleElement","WithPercent","canvas","getByRole","getByText","docs","source","originalSource"],"mappings":"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"}