{"version":3,"file":"Tag.test.stories-CHcN8cS1.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/Tag.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { WarningSVGpath } from '@skatteetaten/ds-icons';\nimport { Tag } from '@skatteetaten/ds-status';\n\nimport { SystemSVGPaths } from '../utils/icon.systems';\n\nconst meta = {\n  component: Tag,\n  title: 'Tester/Tag',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    canBeManuallyFocused: { table: { disable: true } },\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    svgPath: {\n      table: { disable: true },\n      options: Object.keys(SystemSVGPaths),\n      mapping: SystemSVGPaths,\n    },\n    color: { table: { disable: true } },\n    size: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Tag>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultText = 'SÃ¦ravgift';\n\nconst defaultArgs = {\n  children: defaultText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'en',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'htmlId');\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('lang', 'en');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const DefaultYellow = {\n  name: 'Default Variant (ochre) (A3)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    color: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const AllVariants = {\n  name: 'All color variants (A3)',\n  args: {\n    ...defaultArgs,\n  },\n  render: ({ children }): JSX.Element => (\n    <>\n      <Tag color={'ochre'}>{children}</Tag>\n      <Tag color={'forest'}>{children}</Tag>\n      <Tag color={'burgundy'}>{children}</Tag>\n      <Tag color={'graphite'}>{children}</Tag>\n      <Tag color={'denim'}>{children}</Tag>\n      <Tag color={'white'}>{children}</Tag>\n    </>\n  ),\n} satisfies Story;\n\nexport const Small = {\n  name: 'Small (A1)',\n  args: {\n    ...defaultArgs,\n    size: 'small',\n  },\n  argTypes: {\n    size: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const WithCustomIcon = {\n  name: 'With Custom Icon (A5)',\n  args: {\n    ...defaultArgs,\n    svgPath: WarningSVGpath,\n    color: 'burgundy',\n  },\n  argTypes: {\n    svgPath: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const WithCanBeManuallyFocused: Story = {\n  args: {\n    ...defaultArgs,\n    svgPath: WarningSVGpath,\n    canBeManuallyFocused: true,\n  },\n  argTypes: {\n    canBeManuallyFocused: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const tag = canvas.getByText(defaultText);\n    tag.focus();\n    await expect(tag).toBeInTheDocument();\n    await expect(tag).toHaveAttribute('tabIndex', '-1');\n  },\n} satisfies Story;\n"],"names":["expect","within","meta","component","Tag","title","argTypes","ref","table","disable","className","id","lang","canBeManuallyFocused","children","control","svgPath","options","Object","keys","SystemSVGPaths","mapping","color","size","tags","parameters","imageSnapshot","disableSnapshot","defaultText","defaultArgs","WithRef","name","args","instance","play","canvasElement","container","getAllByRole","toHaveAttribute","WithAttributes","a11y","test","toHaveClass","DefaultYellow","AllVariants","render","jsxs","Fragment","jsx","Small","WithCustomIcon","WarningSVGpath","WithCanBeManuallyFocused","tag","getByText","focus","toBeInTheDocument","docs","source","originalSource"],"mappings":"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"}