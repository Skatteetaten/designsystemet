{"version":3,"file":"TableHeaderCell.test.stories-i0GQ12XM.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/TableHeaderCell.test.stories.tsx"],"sourcesContent":["import { Meta, StoryFn, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { Table } from '@skatteetaten/ds-table';\n\nconst meta = {\n  component: Table.HeaderCell,\n  title: 'Tester/Table/HeaderCell',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    alignment: { table: { disable: true } },\n    as: { table: { disable: true } },\n    children: { table: { disable: true } },\n    colSpan: { table: { disable: true } },\n    isSortDisabled: { table: { disable: true } },\n    isSortable: { table: { disable: true } },\n    scope: { table: { disable: true } },\n    sortKey: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Table.HeaderCell>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultArgs = {\n  children: 'cake',\n};\n\nconst Template: StoryFn<typeof Table.HeaderCell> = (args) => (\n  <table>\n    <Table.Header>\n      <Table.Row>\n        {}\n        <Table.HeaderCell {...args}>{args.children}</Table.HeaderCell>\n      </Table.Row>\n    </Table.Header>\n  </table>\n);\n\nexport const WithRef = {\n  render: Template,\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLTableCellElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const table = canvas.getByRole('columnheader');\n    await expect(table).toBeInTheDocument();\n    await expect(table).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  render: Template,\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const dataCell = canvas.getByRole('columnheader');\n    await expect(dataCell).toHaveClass('dummyClassname');\n    await expect(dataCell).toHaveAttribute('id', 'htmlId');\n    await expect(dataCell).toHaveAttribute('lang', 'nb');\n    await expect(dataCell).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const WithChildren = {\n  render: Template,\n  name: 'With Children (Table A8)',\n  args: {\n    children: 'columnheader',\n  },\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const dataCell = canvas.getByText('columnheader');\n    await expect(dataCell).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithSortable = {\n  render: Template,\n  name: 'With Sortable',\n  args: {\n    children: 'columnheader',\n    isSortable: true,\n    sortKey: 'columnheader',\n  },\n  argTypes: {\n    isSortable: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { pseudoStates: ['hover', 'focus-visible', 'active'] },\n  },\n} satisfies Story;\n\nexport const WithDisabled = {\n  render: Template,\n  name: 'With Disabled (Table Header A8)',\n  args: {\n    children: 'columnheader',\n    isSortable: true,\n    isSortDisabled: true,\n    sortKey: 'columnheader',\n  },\n  argTypes: {\n    isSortDisabled: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { pseudoStates: ['hover', 'focus-visible', 'active'] },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const dataCell = canvas.getByText('columnheader');\n    await expect(dataCell).toBeDisabled();\n  },\n} satisfies Story;\n"],"names":["expect","within","meta","component","Table","HeaderCell","title","argTypes","ref","table","disable","className","id","lang","alignment","as","children","colSpan","isSortDisabled","isSortable","scope","sortKey","tags","parameters","imageSnapshot","disableSnapshot","defaultArgs","Template","jsx","args","WithRef","render","name","instance","play","canvasElement","getByRole","toBeInTheDocument","toHaveAttribute","WithAttributes","a11y","test","dataCell","toHaveClass","WithChildren","getByText","WithSortable","pseudoStates","WithDisabled","toBeDisabled","docs","source","originalSource"],"mappings":"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"}