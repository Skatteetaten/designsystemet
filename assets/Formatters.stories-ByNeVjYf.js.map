{"version":3,"file":"Formatters.stories-ByNeVjYf.js","sources":["../../../../apps/ds-playground/src/stories/formatters/Formatters.stories.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { StoryObj } from '@storybook/react-vite';\n\nimport { dsI18n, useFormattedInput } from '@skatteetaten/ds-core-utils';\nimport { TextField } from '@skatteetaten/ds-forms';\n\nexport default {\n  title: 'Verktøy/Formatters',\n};\n\nconst defaultArgs = {\n  className: { table: { disable: true } },\n  'data-testid': { table: { disable: true } },\n  id: { table: { disable: true } },\n  key: { table: { disable: true } },\n  lang: { table: { disable: true } },\n  ref: { table: { disable: true } },\n};\n\nexport const Formatters: StoryObj = {\n  argTypes: defaultArgs,\n  render: function Render() {\n    const [locale, setLocale] = useState(dsI18n.language.replace('_', '-'));\n\n    useEffect(() => {\n      const handleLanguageChange = (lng: string): void => {\n        setLocale(lng.replace('_', '-'));\n      };\n      dsI18n.on('languageChanged', handleLanguageChange);\n      return (): void => {\n        dsI18n.off('languageChanged', handleLanguageChange);\n      };\n    }, []);\n\n    const phoneNumberFormatter = useFormattedInput({\n      type: 'phoneNumber',\n      initialValue: '12345678',\n    });\n\n    const organisationNumberFormatter = useFormattedInput({\n      type: 'organisationNumber',\n      initialValue: '974761076',\n    });\n\n    const nationalIdentityNumberFormatter = useFormattedInput({\n      type: 'nationalIdentityNumber',\n      initialValue: '26301518292',\n    });\n\n    const bankAccountNumberFormatter = useFormattedInput({\n      type: 'bankAccountNumber',\n      initialValue: '76940524802',\n    });\n\n    const numberFormatter = useFormattedInput({\n      type: 'number',\n      initialValue: '50400,32',\n      locale: locale,\n    });\n\n    const decimalNumberFormatter = useFormattedInput({\n      type: 'number',\n      initialValue: '50400,32',\n      locale: locale,\n      allowDecimals: true,\n    });\n\n    console.log('displayValue: ', decimalNumberFormatter.value);\n    console.log('rawValue: ', decimalNumberFormatter.rawValue);\n    console.log('numberValue: ', decimalNumberFormatter.numberValue);\n    return (\n      <>\n        <TextField\n          label={'Telefonnummer'}\n          value={phoneNumberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={phoneNumberFormatter.onChange}\n          onKeyDown={phoneNumberFormatter.onKeyDown}\n        />\n        <TextField\n          label={'Organisasjonsnummer (9 siffer)'}\n          value={organisationNumberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={organisationNumberFormatter.onChange}\n          onKeyDown={organisationNumberFormatter.onKeyDown}\n        />\n        <TextField\n          label={'Fødselsnummer (11 siffer)'}\n          value={nationalIdentityNumberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={nationalIdentityNumberFormatter.onChange}\n          onKeyDown={nationalIdentityNumberFormatter.onKeyDown}\n        />\n        <TextField\n          label={'Kontonummer'}\n          value={bankAccountNumberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={bankAccountNumberFormatter.onChange}\n          onKeyDown={bankAccountNumberFormatter.onKeyDown}\n        />\n        <TextField\n          label={'Beløp'}\n          description={`Formatert etter valgt språk: ${locale}`}\n          value={numberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={numberFormatter.onChange}\n          onKeyDown={numberFormatter.onKeyDown}\n        />\n        <TextField\n          label={'Beløp med desimal'}\n          description={`Formatert etter valgt språk: ${locale}`}\n          value={decimalNumberFormatter.value}\n          className={'textField300'}\n          hasSpacing\n          onChange={decimalNumberFormatter.onChange}\n          onKeyDown={decimalNumberFormatter.onKeyDown}\n        />\n      </>\n    );\n  },\n};\n"],"names":["Formatters_stories","title","defaultArgs","className","table","disable","id","key","lang","ref","Formatters","argTypes","render","locale","setLocale","useState","dsI18n","language","replace","useEffect","handleLanguageChange","lng","on","off","phoneNumberFormatter","useFormattedInput","type","initialValue","organisationNumberFormatter","nationalIdentityNumberFormatter","bankAccountNumberFormatter","numberFormatter","decimalNumberFormatter","allowDecimals","console","log","value","rawValue","numberValue","jsxs","Fragment","jsx","TextField","onChange","onKeyDown","parameters","docs","source","originalSource"],"mappings":"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"}