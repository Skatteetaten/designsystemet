{"version":3,"file":"BreadcrumbsItem.test.stories-DYPxkFOS.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/BreadcrumbsItem.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { BreadcrumbsItemProps, Breadcrumbs } from '@skatteetaten/ds-navigation';\n\nconst elementId = 'htmlId';\n\nconst verifyAttribute =\n  (attribute: string, expectedValue: string) =>\n  async ({ canvasElement }: { canvasElement: HTMLElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByRole('listitem')).toHaveAttribute(\n      attribute,\n      expectedValue\n    );\n  };\n\nconst meta = {\n  component: Breadcrumbs.Item,\n  title: 'Tester/Breadcrumbs/Item',\n  decorators: [\n    (Story): JSX.Element => (\n      <ol>\n        <Story />\n      </ol>\n    ),\n  ],\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    children: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Breadcrumbs.Item>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultArgs: BreadcrumbsItemProps = {\n  children: (\n    <Breadcrumbs.Link href={'#'}>{'Bedrift og organisasjon'}</Breadcrumbs.Link>\n  ),\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: verifyAttribute('id', 'dummyIdForwardedFromRef'),\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes(FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: elementId,\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getByRole('listitem');\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('id', elementId);\n    await expect(container).toHaveAttribute('lang', 'nb');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const WithAriaCurrent = {\n  name: 'With AriaCurrent (B3)',\n  args: {\n    ...defaultArgs,\n    ariaCurrent: 'page',\n  },\n  argTypes: {},\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getByRole('listitem');\n    await expect(container).toHaveAttribute('aria-current', 'page');\n  },\n} satisfies Story;\n"],"names":["expect","within","elementId","verifyAttribute","attribute","expectedValue","canvasElement","canvas","getByRole","toHaveAttribute","meta","component","Breadcrumbs","Item","title","decorators","Story","jsx","argTypes","ref","table","disable","className","id","lang","children","tags","parameters","imageSnapshot","disableSnapshot","defaultArgs","WithRef","name","args","instance","play","WithAttributes","a11y","test","container","toHaveClass","WithAriaCurrent","ariaCurrent","docs","source","originalSource"],"mappings":"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"}