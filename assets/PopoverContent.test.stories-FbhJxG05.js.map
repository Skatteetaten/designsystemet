{"version":3,"file":"PopoverContent.test.stories-FbhJxG05.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/PopoverContent.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { Popover } from '@skatteetaten/ds-overlays';\nimport { Heading, Paragraph } from '@skatteetaten/ds-typography';\n\nimport { loremIpsum } from './testUtils/storybook.testing.utils';\n\nconst meta = {\n  component: Popover.Content,\n  title: 'Tester/Popover/Content',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    as: { table: { disable: true } },\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    classNames: { table: { disable: true } },\n  },\n  render: (args): JSX.Element => (\n    <Popover isOpen>\n      <Popover.Content {...args} />\n    </Popover>\n  ),\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Popover.Content>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultText =\n  'Avvist av kortutsteder. Ta kontakt med kortutsteder for mer informasjon.';\n\nconst defaultArgs = {\n  children: defaultText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'en',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'htmlId');\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('lang', 'en');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults',\n  args: {\n    ...defaultArgs,\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container.tagName.toLowerCase()).toBe('div');\n  },\n} satisfies Story;\n\nexport const WithMarkup = {\n  name: 'With Markup (A6)',\n  args: {\n    ...defaultArgs,\n    children: (\n      <>\n        <Heading as={'h1'} level={4}>\n          {'Avvist av kortutsteder'}\n        </Heading>\n        <Paragraph>\n          {'Ta kontakt med kortutsteder for '}\n          <a href={'#storybook-root'}>{'mer informasjon'}</a>\n        </Paragraph>\n      </>\n    ),\n  },\n  argTypes: {\n    children: {\n      table: { disable: false },\n      control: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const VerticalScroll = {\n  name: 'With Scroll (A7)',\n  args: {\n    children: loremIpsum.repeat(100),\n  },\n} satisfies Story;\n\nexport const AsSpan = {\n  name: 'As Span (A11)',\n  args: {\n    ...defaultArgs,\n    as: 'span',\n  },\n  argTypes: {\n    as: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container.tagName.toLowerCase()).toBe('span');\n  },\n} satisfies Story;\n"],"names":["expect","within","meta","component","Popover","Content","title","argTypes","ref","table","disable","className","id","lang","as","children","control","classNames","render","args","jsx","tags","parameters","imageSnapshot","disableSnapshot","defaultText","defaultArgs","WithRef","name","instance","play","canvasElement","container","getAllByRole","toHaveAttribute","WithAttributes","a11y","test","toHaveClass","Defaults","tagName","toLowerCase","toBe","WithMarkup","jsxs","Fragment","Heading","Paragraph","VerticalScroll","loremIpsum","repeat","AsSpan","docs","source","originalSource"],"mappings":"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"}