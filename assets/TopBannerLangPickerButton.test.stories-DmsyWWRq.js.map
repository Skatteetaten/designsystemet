{"version":3,"file":"TopBannerLangPickerButton.test.stories-DmsyWWRq.js","sources":["../../../../apps/ds-playground/src/assets/no-flag.svg","../../../../apps/ds-playground/src/stories/__tests__/TopBannerLangPickerButton.test.stories.tsx"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='uuid-b0272ea8-d483-4731-ab86-7400d47091d0'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201100%20800'%20focusable='false'%20aria-hidden='true'%3e%3cpolygon%20points='500%200%20450%200%20450%20350%201100%20350%201100%20300%20500%20300%20500%200'%20style='fill:%23fff;'/%3e%3cpolygon%20points='450%20450%20450%20800%20500%20800%20500%20500%201100%20500%201100%20450%20450%20450'%20style='fill:%23fff;'/%3e%3cpolygon%20points='350%20450%200%20450%200%20500%20300%20500%20300%20800%20350%20800%20350%20450'%20style='fill:%23fff;'/%3e%3cpolygon%20points='350%20350%20350%200%20300%200%20300%20300%200%20300%200%20350%20350%20350'%20style='fill:%23fff;'/%3e%3crect%20width='300'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20x='500'%20width='600'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20y='500'%20width='300'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20x='500'%20y='500'%20width='600'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3cpolygon%20points='450%20350%20450%200%20350%200%20350%20350%200%20350%200%20450%20350%20450%20350%20800%20450%20800%20450%20450%201100%20450%201100%20350%20450%20350'%20style='fill:%23002868;'/%3e%3c/svg%3e\"","import { MouseEvent, useState } from 'react';\n\nimport { Meta, StoryFn, StoryObj } from '@storybook/react-vite';\nimport { expect, userEvent, within, waitFor, fn } from 'storybook/test';\n\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLangPickerButton } from '../../../../../libs/ds-layout/src/TopBannerLangPickerButton/TopBannerLangPickerButton';\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLangPickerButtonProps } from '../../../../../libs/ds-layout/src/TopBannerLangPickerButton/TopBannerLangPickerButton.types';\nimport { ReactComponent as NorwegianFlagIcon } from '../../assets/no-flag.svg';\n\nconst meta = {\n  component: TopBannerLangPickerButton,\n  title: 'Tester/TopBanner/TopBannerLangPickerButton (intern)',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    classNames: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    flagIcon: { table: { disable: true } },\n    children: { table: { disable: true } },\n    // Aria\n    ariaCurrent: { table: { disable: true } },\n    // Events\n    onClick: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} as Meta<typeof TopBannerLangPickerButton>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst buttonText = 'Bokmål';\nconst defaultArgs: TopBannerLangPickerButtonProps = {\n  flagIcon: <NorwegianFlagIcon />,\n  children: buttonText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLButtonElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlid',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('id', 'htmlid');\n    await expect(button).toHaveClass('dummyClassname');\n    await expect(button).toHaveAttribute('lang', 'nb');\n    await expect(button).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (LanguagePicker A1, B1, B2, C1 delvis)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    flagIcon: { table: { disable: false } },\n    children: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: {\n      pseudoStates: ['hover', 'focus', 'active'],\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: buttonText });\n    await expect(button).toBeInTheDocument();\n\n    const flagSvg = button.querySelector('svg');\n    await expect(flagSvg).toBeInTheDocument();\n    await expect(flagSvg).toHaveAttribute('aria-hidden', 'true');\n  },\n} satisfies Story;\n\nexport const WithAriaCurrent = {\n  name: 'With AriaCurrent (LanguagePicker A1, B2)',\n  args: {\n    ...defaultArgs,\n    ariaCurrent: true,\n  },\n  argTypes: {\n    ariaCurrent: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: buttonText });\n    await expect(button).toHaveAttribute('aria-current', 'true');\n\n    const checkSvg = button.querySelectorAll('svg')[1];\n    await expect(checkSvg).toBeInTheDocument();\n    await expect(checkSvg).toHaveAttribute('aria-hidden', 'true');\n  },\n} satisfies Story;\n\nconst EventHandlersTemplate: StoryFn<typeof TopBannerLangPickerButton> = (\n  args\n) => {\n  const [buttonText, setButtonText] = useState('Klikk på meg');\n  return (\n    <TopBannerLangPickerButton\n      {...args}\n      onClick={(event: MouseEvent<HTMLButtonElement>): void => {\n        setButtonText('Blitt klikket på');\n        args.onClick && args.onClick(event);\n      }}\n    >\n      {buttonText}\n    </TopBannerLangPickerButton>\n  );\n};\n\nexport const WithEventHandlers = {\n  render: EventHandlersTemplate,\n  name: 'With EventHandlers (LanguagePicker A4)',\n  args: {\n    ...defaultArgs,\n    onClick: fn(),\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ args, canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toBeInTheDocument();\n    await userEvent.click(button);\n    await waitFor(() => expect(args.onClick).toHaveBeenCalled());\n  },\n} satisfies Story;\n"],"names":["_extends","n","e","r","SvgNoFlag","props","React.createElement","expect","userEvent","within","waitFor","fn","meta","component","TopBannerLangPickerButton","title","argTypes","ref","table","disable","className","classNames","id","lang","flagIcon","children","ariaCurrent","onClick","tags","parameters","imageSnapshot","disableSnapshot","buttonText","defaultArgs","NorwegianFlagIcon","WithRef","name","args","instance","play","canvasElement","button","getByRole","toHaveAttribute","WithAttributes","a11y","test","toHaveClass","Defaults","pseudoStates","toBeInTheDocument","flagSvg","querySelector","WithAriaCurrent","checkSvg","querySelectorAll","EventHandlersTemplate","setButtonText","useState","event","WithEventHandlers","render","click","toHaveBeenCalled","docs","source","originalSource"],"mappings":"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"}