{"version":3,"file":"WordInfo.test.stories-DKtXvnss.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/WordInfo.test.stories.tsx"],"sourcesContent":["import { StoryFn, Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { Link } from '@skatteetaten/ds-buttons';\nimport { WordInfo } from '@skatteetaten/ds-overlays';\nimport { Heading, Paragraph } from '@skatteetaten/ds-typography';\n\nconst defaultText = 'arkskrift';\nconst defaultContent = 'En arkskrift er en skrift som er skrevet på et ark.';\nconst Template: StoryFn<typeof WordInfo> = (args) => (\n  <WordInfo {...args}>\n    <WordInfo.Trigger>{defaultText}</WordInfo.Trigger>\n    <WordInfo.Content>{defaultContent}</WordInfo.Content>\n  </WordInfo>\n);\n\nconst meta = {\n  component: WordInfo,\n  title: 'Tester/WordInfo',\n  argTypes: {\n    // Baseprops\n    // @ts-expect-error disable baseprops gir error fordi denne komponenten ikke støtter baseprops, men de skal disables alikevel\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    children: { control: false, table: { disable: true } },\n    disableAutoDismiss: { table: { disable: true } },\n    isOpen: { table: { disable: true } },\n    position: { table: { disable: true } },\n    shouldRestoreFocus: { table: { disable: true } },\n    // Event\n    onClose: { table: { disable: true } },\n  },\n  render: Template,\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof WordInfo>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Defaults = {\n  name: 'Defaults (A1)',\n  args: {},\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: {\n      pseudoStates: ['hover', 'focus-visible', 'active'],\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const text = canvas.getByText(defaultText);\n    await expect(text).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const IsOpen = {\n  name: 'IsOpen (A2)',\n  args: {\n    isOpen: true,\n  },\n  argTypes: {\n    isOpen: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const term = canvas.getByText(defaultText);\n    await expect(term).toBeInTheDocument();\n    await expect(term).toHaveAttribute('aria-expanded', 'true');\n    const content = canvas.getByText(defaultContent);\n    await expect(content).toBeInTheDocument();\n    await expect(content.tagName.toLowerCase()).toBe('span');\n  },\n} satisfies Story;\n\nconst TemplateWithParagraph: StoryFn<typeof WordInfo> = () => (\n  <Paragraph>\n    {'Det er legen som melder dødsfall i Norge til '}\n    <WordInfo>\n      <WordInfo.Trigger>{'Folkeregisteret'}</WordInfo.Trigger>\n      <WordInfo.Content>\n        <Heading as={'h3'} level={4}>\n          {'Folkeregisteret'}\n        </Heading>\n        <Paragraph>{'Forklaring på Folkeregisteret'}</Paragraph>\n      </WordInfo.Content>\n    </WordInfo>\n    {'. Du trenger ikke å melde noe selv.'}\n  </Paragraph>\n);\n\nexport const WithinParagraph = {\n  name: 'Within Paragraph (A4)',\n  render: TemplateWithParagraph,\n  args: {},\n  parameters: {\n    imageSnapshot: {\n      pseudoStates: ['hover', 'focus-visible', 'active'],\n    },\n  },\n} satisfies Story;\n\nconst TemplateWithHeading: StoryFn<typeof WordInfo> = () => (\n  <Heading as={'h2'} level={2}>\n    {'Det er legen som melder dødsfall i Norge til '}\n    <WordInfo>\n      <WordInfo.Trigger>{'Folkeregisteret'}</WordInfo.Trigger>\n      <WordInfo.Content>\n        <Heading as={'h3'} level={4}>\n          {'Folkeregisteret'}\n        </Heading>\n        <Paragraph>{'Forklaring på Folkeregisteret'}</Paragraph>\n      </WordInfo.Content>\n    </WordInfo>\n    {'. Du trenger ikke å melde noe selv.'}\n  </Heading>\n);\n\nexport const WithinHeading = {\n  name: 'Within Heading (A4)',\n  render: TemplateWithHeading,\n  args: {},\n  parameters: {\n    imageSnapshot: {\n      pseudoStates: ['hover', 'focus-visible', 'active'],\n    },\n  },\n} satisfies Story;\n\nconst TemplateWithLink: StoryFn<typeof WordInfo> = () => (\n  <Paragraph>\n    {'Det er legen som melder dødsfall i Norge til '}\n    <WordInfo>\n      <WordInfo.Trigger>{'Folkeregisteret'}</WordInfo.Trigger>\n      <WordInfo.Content>\n        <Heading as={'h3'} level={4}>\n          {'Folkeregisteret'}\n        </Heading>\n        <Paragraph>{'Forklaring på Folkeregisteret'}</Paragraph>\n      </WordInfo.Content>\n    </WordInfo>\n    {'. Du trenger ikke å melde noe selv til '}\n    <Link href={'#'}>{'Folkeregisteret'}</Link>\n    {'.'}\n  </Paragraph>\n);\n\nexport const ParagraphWithLinkAndWordInfo = {\n  name: 'Paragraph with Link and WordInfo',\n  render: TemplateWithLink,\n  args: {},\n  parameters: {\n    imageSnapshot: {\n      pseudoStates: ['hover', 'focus', 'focus-visible', 'active'],\n    },\n  },\n} satisfies Story;\n"],"names":["expect","within","defaultText","defaultContent","Template","args","jsxs","WordInfo","jsx","meta","component","title","argTypes","ref","table","disable","className","id","lang","children","control","disableAutoDismiss","isOpen","position","shouldRestoreFocus","onClose","render","tags","parameters","imageSnapshot","disableSnapshot","Defaults","name","pseudoStates","play","canvasElement","text","getByText","toBeInTheDocument","IsOpen","canvas","term","toHaveAttribute","content","tagName","toLowerCase","toBe","TemplateWithParagraph","Paragraph","Heading","WithinParagraph","TemplateWithHeading","WithinHeading","TemplateWithLink","Link","ParagraphWithLinkAndWordInfo","docs","source","originalSource"],"mappings":"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"}