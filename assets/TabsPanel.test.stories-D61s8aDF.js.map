{"version":3,"file":"TabsPanel.test.stories-D61s8aDF.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/TabsPanel.test.stories.tsx"],"sourcesContent":["import { Meta, StoryFn, StoryObj } from '@storybook/react-vite';\nimport { within, expect, userEvent } from 'storybook/test';\n\nimport { Tabs } from '@skatteetaten/ds-collections';\n\nconst meta = {\n  component: Tabs.Panel,\n  title: 'Tester/Tabs/Panel',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    keepMounted: { table: { disable: true } },\n    children: { table: { disable: false } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Tabs.Panel>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst TemplateTabs: StoryFn<typeof Tabs.Panel> = (args) => {\n  return (\n    <Tabs defaultValue={'tab1'}>\n      <Tabs.List>\n        <Tabs.Tab value={'tab1'}>{'Person'}</Tabs.Tab>\n        <Tabs.Tab value={'tab2'}>{'Bedrift'}</Tabs.Tab>\n      </Tabs.List>\n      <Tabs.Panel {...args} value={'tab1'}>\n        {'PanelInnhold'}\n      </Tabs.Panel>\n      <Tabs.Panel {...args} value={'tab2'}>\n        {'Tabs.Panel Bedrift'}\n      </Tabs.Panel>\n    </Tabs>\n  );\n};\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5, B1)',\n  render: TemplateTabs,\n  args: {\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n    children: 'PanelInnhold',\n    value: 'tab1',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement, step }): Promise<void> => {\n    const canvas = within(canvasElement);\n    await step(\n      'Autogenerert id-attributt basert pÃ¥ tab name \"tab1\"',\n      async () => {\n        const tabpanel = canvas.getByRole('tabpanel', {\n          name: 'Person',\n          hidden: true,\n        });\n        await expect(tabpanel).toHaveAttribute(\n          'id',\n          expect.stringMatching(/^ds-tab-panel-.*-tab1$/)\n        );\n        await expect(tabpanel).toHaveClass('dummyClassname');\n        await expect(tabpanel).toHaveAttribute('lang', 'nb');\n        await expect(tabpanel).toHaveAttribute('data-testid', '123ID');\n      }\n    );\n  },\n} satisfies Story;\n\nconst TemplateWithKeepMounted: StoryFn<typeof Tabs.Panel> = (args) => {\n  return (\n    <Tabs defaultValue={'tab1'}>\n      <Tabs.List>\n        <Tabs.Tab value={'tab1'}>{'Tab 1'}</Tabs.Tab>\n        <Tabs.Tab value={'tab2'}>{'Tab 2'}</Tabs.Tab>\n      </Tabs.List>\n      <Tabs.Panel value={'tab1'} keepMounted={args.keepMounted}>\n        {'Content Tab 1'}\n      </Tabs.Panel>\n      <Tabs.Panel value={'tab2'} keepMounted={args.keepMounted}>\n        {'Content Tab 2'}\n      </Tabs.Panel>\n    </Tabs>\n  );\n};\n\nexport const WithKeepMountedFalse = {\n  name: 'With KeepMounted False (A6)',\n  render: TemplateWithKeepMounted,\n  args: {\n    keepMounted: false,\n    children: 'Test content',\n    value: 'tab1',\n  },\n  argTypes: {\n    keepMounted: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n\n    // Initially tab1 should be active and visible, tab2 content should not be in DOM\n    const tab1Panel = canvas.getByRole('tabpanel', { name: 'Tab 1' });\n    expect(tab1Panel).toBeInTheDocument();\n    expect(tab1Panel).not.toHaveAttribute('hidden');\n\n    const tab2Content = canvas.queryByText('Content Tab 2');\n    expect(tab2Content).not.toBeInTheDocument();\n\n    // Click tab2 to switch\n    const tab2Button = canvas.getByRole('tab', { name: 'Tab 2' });\n    await userEvent.click(tab2Button);\n\n    // Now tab2 should be visible, tab1 content should be removed from DOM\n    const tab2Panel = canvas.getByRole('tabpanel', { name: 'Tab 2' });\n    expect(tab2Panel).toBeInTheDocument();\n    expect(tab2Panel).not.toHaveAttribute('hidden');\n\n    const tab1Content = canvas.queryByText('Content Tab 1');\n    expect(tab1Content).not.toBeInTheDocument();\n  },\n} satisfies Story;\n"],"names":["within","userEvent","meta","component","Tabs","Panel","title","argTypes","ref","table","disable","className","id","lang","keepMounted","children","tags","parameters","imageSnapshot","disableSnapshot","TemplateTabs","args","jsxs","jsx","WithAttributes","name","render","value","a11y","test","play","canvasElement","step","canvas","tabpanel","getByRole","hidden","expect","toHaveAttribute","stringMatching","toHaveClass","TemplateWithKeepMounted","WithKeepMountedFalse","tab1Panel","toBeInTheDocument","not","tab2Content","queryByText","tab2Button","click","tab2Panel","tab1Content","docs","source","originalSource"],"mappings":"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"}