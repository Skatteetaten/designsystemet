{"version":3,"file":"TableEditableRow.test.stories-BsesAo93.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/TableEditableRow.test.stories.tsx"],"sourcesContent":["import { Table } from '@skatteetaten/ds-table';\nimport { Meta, StoryFn, StoryObj } from '@storybook/react';\nimport { expect, fireEvent, within } from '@storybook/test';\n\nconst meta = {\n  component: Table.EditableRow,\n  title: 'Tester/Table/EditableRow',\n  argTypes: {\n    // Baseprops\n    key: { table: { disable: true } },\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    editableContent: { table: { disable: true } },\n    editButtonAriaDescribedby: { table: { disable: true } },\n    editButtonPosition: { table: { disable: true } },\n    editButtonRef: { table: { disable: true } },\n    editableContentRef: { table: { disable: true } },\n    onEdit: { table: { disable: true } },\n    children: { table: { disable: true } },\n  },\n} satisfies Meta<typeof Table.EditableRow>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst Template: StoryFn<typeof Table.EditableRow> = (args) => (\n  <Table caption={'testtabell'}>\n    <Table.Body>\n      <Table.EditableRow {...args}>\n        <Table.DataCell as={'th'}>{'Cake'}</Table.DataCell>\n        <Table.DataCell>{'3,000'}</Table.DataCell>\n      </Table.EditableRow>\n    </Table.Body>\n  </Table>\n);\n\nexport const WithRef = {\n  render: Template,\n  name: 'With Ref (FA1)',\n  args: {\n    ref: (instance: HTMLTableRowElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const table = canvas.getByRole('row');\n    await expect(table).toBeInTheDocument();\n    await expect(table).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithEditButtonRef = {\n  render: Template,\n  name: 'With EditButtonRef',\n  args: {\n    editButtonRef: (instance: HTMLButtonElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n    HTMLSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const editButton = canvas.getByRole('button');\n    await expect(editButton).toBeInTheDocument();\n    await expect(editButton).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithEditableContentRef = {\n  render: Template,\n  name: 'With EditableContentRef',\n  args: {\n    editableContentRef: (instance: HTMLSpanElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n    HTMLSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const editButton = canvas.getByRole('button');\n    await fireEvent.click(editButton);\n    const editableContent = canvas.getByText('Rediger data');\n    await expect(editableContent).toBeInTheDocument();\n    await expect(editableContent).toHaveAttribute(\n      'id',\n      'dummyIdForwardedFromRef'\n    );\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  render: Template,\n  name: 'With Attributes (FA2-5)',\n  args: {\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const table = canvas.getByRole('row');\n    await expect(table).toHaveClass('dummyClassname');\n    await expect(table).toHaveAttribute('id', 'htmlId');\n    await expect(table).toHaveAttribute('lang', 'nb');\n    await expect(table).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n"],"names":["meta","component","Table","EditableRow","title","argTypes","key","table","disable","ref","className","id","lang","editableContent","editButtonAriaDescribedby","editButtonPosition","editButtonRef","editableContentRef","onEdit","children","Template","args","jsx","jsxs","WithRef","render","name","instance","parameters","imageSnapshot","play","canvasElement","within","getByRole","expect","toBeInTheDocument","toHaveAttribute","WithEditButtonRef","HTMLSnapshot","editButton","WithEditableContentRef","canvas","fireEvent","click","getByText","WithAttributes","toHaveClass","docs","source","originalSource"],"mappings":"+TAIA,MAAMA,EAAO,CACXC,UAAWC,EAAMC,YACjBC,MAAO,2BACPC,SAAU,CAERC,IAAK,CAAEC,MAAO,CAAEC,QAAS,EAAK,CAAE,EAChCC,IAAK,CAAEF,MAAO,CAAEC,QAAS,EAAK,CAAE,EAChCE,UAAW,CAAEH,MAAO,CAAEC,QAAS,EAAK,CAAE,EACtCG,GAAI,CAAEJ,MAAO,CAAEC,QAAS,EAAK,CAAE,EAC/BI,KAAM,CAAEL,MAAO,CAAEC,QAAS,EAAK,CAAE,EACjC,cAAe,CAAED,MAAO,CAAEC,QAAS,EAAK,CAAE,EAE1CK,gBAAiB,CAAEN,MAAO,CAAEC,QAAS,EAAK,CAAE,EAC5CM,0BAA2B,CAAEP,MAAO,CAAEC,QAAS,EAAK,CAAE,EACtDO,mBAAoB,CAAER,MAAO,CAAEC,QAAS,EAAK,CAAE,EAC/CQ,cAAe,CAAET,MAAO,CAAEC,QAAS,EAAK,CAAE,EAC1CS,mBAAoB,CAAEV,MAAO,CAAEC,QAAS,EAAK,CAAE,EAC/CU,OAAQ,CAAEX,MAAO,CAAEC,QAAS,EAAK,CAAE,EACnCW,SAAU,CAAEZ,MAAO,CAAEC,QAAS,EAAK,CAAE,CACvC,CACF,EAIMY,EAA+CC,GAClDC,MAAApB,EAAA,CAAM,QAAS,aACd,SAAAoB,EAAA,IAACpB,EAAM,KAAN,CACC,SAACqB,OAAArB,EAAM,YAAN,CAAkB,GAAImB,EACrB,SAAA,CAAAC,EAAA,IAACpB,EAAM,SAAN,CAAe,GAAI,KAAO,SAAO,OAAA,EACjCoB,EAAAA,IAAApB,EAAM,SAAN,CAAgB,SAAQ,OAAA,CAAA,CAAA,EAC3B,EACF,CACF,CAAA,EAGWsB,EAAU,CACrBC,OAAQL,EACRM,KAAM,iBACNL,KAAM,CACJZ,IAAMkB,GAA+C,CAC/CA,IACFA,EAAShB,GAAK,0BAElB,CACF,EACAN,SAAU,CACRI,IAAK,CAAEF,MAAO,CAAEC,QAAS,EAAM,CAAE,CACnC,EACAoB,WAAY,CACVC,cAAe,CAAErB,QAAS,EAAK,CACjC,EACAsB,KAAM,MAAO,CAAEC,cAAAA,CAAAA,IAAmC,CAE1CxB,MAAAA,EADSyB,EAAOD,CAAa,EACdE,UAAU,KAAK,EAC9BC,MAAAA,EAAO3B,CAAK,EAAE4B,oBACpB,MAAMD,EAAO3B,CAAK,EAAE6B,gBAAgB,KAAM,yBAAyB,CACrE,CACF,EAEaC,EAAoB,CAC/BZ,OAAQL,EACRM,KAAM,qBACNL,KAAM,CACJL,cAAgBW,GAA6C,CACvDA,IACFA,EAAShB,GAAK,0BAElB,CACF,EACAN,SAAU,CACRI,IAAK,CAAEF,MAAO,CAAEC,QAAS,EAAM,CAAE,CACnC,EACAoB,WAAY,CACVC,cAAe,CAAErB,QAAS,EAAK,EAC/B8B,aAAc,CAAE9B,QAAS,EAAK,CAChC,EACAsB,KAAM,MAAO,CAAEC,cAAAA,CAAAA,IAAmC,CAE1CQ,MAAAA,EADSP,EAAOD,CAAa,EACTE,UAAU,QAAQ,EACtCC,MAAAA,EAAOK,CAAU,EAAEJ,oBACzB,MAAMD,EAAOK,CAAU,EAAEH,gBAAgB,KAAM,yBAAyB,CAC1E,CACF,EAEaI,EAAyB,CACpCf,OAAQL,EACRM,KAAM,0BACNL,KAAM,CACJJ,mBAAqBU,GAA2C,CAC1DA,IACFA,EAAShB,GAAK,0BAElB,CACF,EACAN,SAAU,CACRI,IAAK,CAAEF,MAAO,CAAEC,QAAS,EAAM,CAAE,CACnC,EACAoB,WAAY,CACVC,cAAe,CAAErB,QAAS,EAAK,EAC/B8B,aAAc,CAAE9B,QAAS,EAAK,CAChC,EACAsB,KAAM,MAAO,CAAEC,cAAAA,CAAAA,IAAmC,CAC1CU,MAAAA,EAAST,EAAOD,CAAa,EAC7BQ,EAAaE,EAAOR,UAAU,QAAQ,EACtCS,MAAAA,EAAUC,MAAMJ,CAAU,EAC1B1B,MAAAA,EAAkB4B,EAAOG,UAAU,cAAc,EACjDV,MAAAA,EAAOrB,CAAe,EAAEsB,oBAC9B,MAAMD,EAAOrB,CAAe,EAAEuB,gBAC5B,KACA,yBACF,CACF,CACF,EAEaS,EAAiB,CAC5BpB,OAAQL,EACRM,KAAM,0BACNL,KAAM,CACJV,GAAI,SACJD,UAAW,iBACXE,KAAM,KACN,cAAe,OACjB,EACAP,SAAU,CACRM,GAAI,CAAEJ,MAAO,CAAEC,QAAS,EAAM,CAAE,EAChCE,UAAW,CAAEH,MAAO,CAAEC,QAAS,EAAM,CAAE,EACvCI,KAAM,CAAEL,MAAO,CAAEC,QAAS,EAAM,CAAE,EAClC,cAAe,CAAED,MAAO,CAAEC,QAAS,EAAM,CAAE,CAC7C,EACAoB,WAAY,CACVC,cAAe,CAAErB,QAAS,EAAK,CACjC,EACAsB,KAAM,MAAO,CAAEC,cAAAA,CAAAA,IAAmC,CAE1CxB,MAAAA,EADSyB,EAAOD,CAAa,EACdE,UAAU,KAAK,EACpC,MAAMC,EAAO3B,CAAK,EAAEuC,YAAY,gBAAgB,EAChD,MAAMZ,EAAO3B,CAAK,EAAE6B,gBAAgB,KAAM,QAAQ,EAClD,MAAMF,EAAO3B,CAAK,EAAE6B,gBAAgB,OAAQ,IAAI,EAChD,MAAMF,EAAO3B,CAAK,EAAE6B,gBAAgB,cAAe,OAAO,CAC5D,CACF,YAAkBZ,EAAAI,WAAA,CAAA,GAAAJ,EAAAI,WAAAmB,KAAA,CAAA,IAAAvB,EAAAA,EAAAI,aAAAJ,YAAAA,EAAAuB,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAAAzB,GAAAA,EAAAA,EAAAI,aAAAJ,YAAAA,EAAAuB,OAAAvB,YAAAA,EAAAwB,MAAA,CAAA,CAAA,YAAAX,EAAAT,WAAA,CAAA,GAAAS,EAAAT,WAAAmB,KAAA,CAAA,IAAAV,EAAAA,EAAAT,aAAAS,YAAAA,EAAAU,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAAAZ,GAAAA,EAAAA,EAAAT,aAAAS,YAAAA,EAAAU,OAAAV,YAAAA,EAAAW,MAAA,CAAA,CAAA,YAAAR,EAAAZ,WAAA,CAAA,GAAAY,EAAAZ,WAAAmB,KAAA,CAAA,IAAAP,EAAAA,EAAAZ,aAAAY,YAAAA,EAAAO,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAAAT,GAAAA,EAAAA,EAAAZ,aAAAY,YAAAA,EAAAO,OAAAP,YAAAA,EAAAQ,MAAA,CAAA,CAAA,YAAAH,EAAAjB,WAAA,CAAA,GAAAiB,EAAAjB,WAAAmB,KAAA,CAAA,IAAAF,EAAAA,EAAAjB,aAAAiB,YAAAA,EAAAE,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAAAJ,GAAAA,EAAAA,EAAAjB,aAAAiB,YAAAA,EAAAE,OAAAF,YAAAA,EAAAG,MAAA,CAAA,CAAA"}