{"version":3,"file":"ErrorSummary.stories-Bl0nhZ2F.js","sources":["../../../../apps/ds-playground/src/stories/components/ErrorSummary.stories.tsx"],"sourcesContent":["import { useState, JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\n\nimport { Button } from '@skatteetaten/ds-buttons';\nimport breakpointsJson from '@skatteetaten/ds-core-designtokens/designtokens/breakpoints.json';\nimport {\n  ErrorSummary,\n  TextField,\n  getErrorSummaryTitleAsDefault,\n} from '@skatteetaten/ds-forms';\nimport { Heading, List, Paragraph } from '@skatteetaten/ds-typography';\n\nimport { category } from '../../../.storybook/helpers';\nimport { exampleParameters } from '../utils/stories.utils';\n\nconst meta = {\n  component: ErrorSummary,\n  title: 'Komponenter/ErrorSummary',\n  argTypes: {\n    // Props\n    children: { control: false, table: { category: category.props } },\n    content: { control: 'text', table: { category: category.props } },\n    hasSpacing: { table: { category: category.props } },\n    shadowRootNode: {\n      control: false,\n      table: { control: false, category: category.props },\n    },\n    showErrorSummary: { table: { category: category.props } },\n    title: { table: { category: category.props } },\n    titleAs: {\n      control: 'inline-radio',\n      table: {\n        category: category.props,\n        defaultValue: { summary: getErrorSummaryTitleAsDefault() },\n      },\n    },\n  },\n  args: {\n    showErrorSummary: true,\n    content: 'Her kan du legge inn vilkårlig innhold.',\n    children: [\n      <ErrorSummary.Error key={'error1'} referenceId={'id1'}>\n        {'Husk å fylle ut type varer'}\n      </ErrorSummary.Error>,\n      <ErrorSummary.Error key={'error2'} referenceId={'id2'}>\n        {'Selger du varer og tjenester for egen regning?'}\n      </ErrorSummary.Error>,\n    ],\n  },\n} satisfies Meta<typeof ErrorSummary>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Preview: Story = {} satisfies Story;\n\nexport const Examples: Story = {\n  render: (_args): JSX.Element => {\n    const [state, setState] = useState({\n      hasError: false,\n    });\n    return (\n      <>\n        <TextField\n          id={'input_aar'}\n          label={'År'}\n          value={1009}\n          errorMessage={'Inntekståret må være etter 2008'}\n          hasSpacing\n          required\n        />\n        <TextField\n          id={'input_epost'}\n          label={'E-post'}\n          value={'Ola.Normann.no'}\n          errorMessage={\n            state.hasError\n              ? 'E-posten ser ikke riktig ut. Skriv slik: ola.normann@norge.no'\n              : undefined\n          }\n          hasSpacing\n          required\n        />\n        <TextField\n          className={'bottomSpacingXL'}\n          id={'input_dager'}\n          label={'Antall dager i Norge i perioden/inntekståret'}\n          errorMessage={\n            state.hasError ? 'Antall dager må fylles ut.' : undefined\n          }\n          hasSpacing\n          required\n        />\n        <ErrorSummary\n          id={'errorSummary1'}\n          showErrorSummary={state.hasError}\n          hasSpacing\n        >\n          <ErrorSummary.Error referenceId={'input_aar'}>\n            {'Inntekståret må være etter 2008'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'input_epost'}>\n            {'E-posten ser ikke riktig ut. Skriv slik: ola.normann@norge.no'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'input_dager'}>\n            {'Antall dager må fylles ut.'}\n          </ErrorSummary.Error>\n        </ErrorSummary>\n        <Button\n          onClick={(): void => {\n            setState({ hasError: !state.hasError });\n          }}\n        >\n          {'Send'}\n        </Button>\n      </>\n    );\n  },\n} satisfies Story;\nExamples.parameters = exampleParameters;\n\nexport const WithContainerQuery: Story = {\n  render: (_args): JSX.Element => {\n    const [width, setWidth] = useState(300);\n\n    return (\n      <>\n        <Heading level={3} as={'h1'} hasSpacing>\n          {'Container Queries i ErrorSummary'}\n        </Heading>\n\n        <Paragraph hasSpacing>\n          {\n            'ErrorSummary støtter container queries, som gjør at komponenten tilpasser seg bredden på sin parent-container i stedet for hele viewporten. Dette er nyttig når komponenten brukes i stegliste, modaler eller andre områder med begrenset bredde.'\n          }\n        </Paragraph>\n\n        <Heading level={4} as={'h2'} hasSpacing>\n          {'Slik aktiverer du container queries'}\n        </Heading>\n\n        <Paragraph className={'bottomSpacingS'}>\n          {\n            'Sett CSS-egenskapen container-type: inline-size på et parent-element:'\n          }\n        </Paragraph>\n\n        <pre className={'bottomSpacingS'}>\n          {`.error-summary-wrapper {\n  container-type: inline-size;\n}`}\n        </pre>\n\n        <Paragraph className={'bottomSpacingS'}>\n          {\n            'Komponenten responderer på følgende breakpoints og tilpasser padding, ikon-størrelse og layout:'\n          }\n        </Paragraph>\n\n        <List hasSpacing>\n          <List.Element>{`${breakpointsJson['--breakpoint-s']} og over: Full layout med horisontal visning`}</List.Element>\n          <List.Element>{`Mellom ${breakpointsJson['--breakpoint-s']} og ${breakpointsJson['--breakpoint-xs']}: Vertikal visning`}</List.Element>\n          <List.Element>{`Under ${breakpointsJson['--breakpoint-xs']}: Vertikal visning med mindre padding`}</List.Element>\n        </List>\n\n        <Heading level={4} as={'h2'} hasSpacing>\n          {'Interaktiv demo'}\n        </Heading>\n\n        <Paragraph className={'bottomSpacingS'}>\n          {'Juster bredden for å se hvordan layouten endrer seg:'}\n        </Paragraph>\n\n        <pre>{`Bredde på container: ${width}px`}</pre>\n\n        <input\n          className={'bottomSpacingS containerQuerySlider'}\n          max={800}\n          min={200}\n          type={'range'}\n          value={width}\n          onChange={(e): void => setWidth(Number(e.target.value))}\n        />\n\n        <div\n          className={'containerQueryWrapper'}\n          // eslint-disable-next-line react/forbid-dom-props -- dynamisk bredde krever inline style\n          style={\n            { '--container-query-width': `${width}px` } as React.CSSProperties\n          }\n        >\n          <ErrorSummary showErrorSummary>\n            <ErrorSummary.Error referenceId={'field1'}>\n              {'Feltet må fylles ut'}\n            </ErrorSummary.Error>\n            <ErrorSummary.Error referenceId={'field2'}>\n              {'Ugyldig verdi'}\n            </ErrorSummary.Error>\n          </ErrorSummary>\n        </div>\n      </>\n    );\n  },\n} satisfies Story;\nWithContainerQuery.parameters = exampleParameters;\nexport const WithErrorGroups: Story = {\n  render: (_args): JSX.Element => {\n    return (\n      <ErrorSummary\n        id={'errorSummaryWithGroups'}\n        title={'For å gå videre må du rette opp i følgende'}\n        hasSpacing\n        showErrorSummary\n      >\n        <ErrorSummary.Error referenceId={'inntekstaaret'}>\n          {'Inntekstsåret må være etter 2008'}\n        </ErrorSummary.Error>\n        <ErrorSummary.Error referenceId={'epost'}>\n          {'E-posten ser ikke riktig ut. Skriv slik: olaug.nordmann@norge.no'}\n        </ErrorSummary.Error>\n\n        <ErrorSummary.Error referenceId={'antallDager'}>\n          {'Antall dager må fylles ut.'}\n        </ErrorSummary.Error>\n\n        <ErrorSummary.Group title={'Mottaker 1 av fullmakt'}>\n          <ErrorSummary.Error referenceId={'navn1'}>\n            {'Navn på person må fylles ut'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'fnummer1'}>\n            {'Fødselsnummer eller D-nummer må fylles ut'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'telefon1'}>\n            {'Telefonnummer må fylles ut'}\n          </ErrorSummary.Error>\n        </ErrorSummary.Group>\n\n        <ErrorSummary.Group title={'Mottaker 2 av fullmakt'}>\n          <ErrorSummary.Error referenceId={'navn2'}>\n            {'Navn på person må fylles ut'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'fnummer2'}>\n            {'Fødselsnummer eller D-nummer må fylles ut'}\n          </ErrorSummary.Error>\n          <ErrorSummary.Error referenceId={'telefon2'}>\n            {'Telefonnummer må fylles ut'}\n          </ErrorSummary.Error>\n        </ErrorSummary.Group>\n      </ErrorSummary>\n    );\n  },\n} satisfies Story;\nWithErrorGroups.parameters = exampleParameters;\n"],"names":["meta","component","ErrorSummary","title","argTypes","children","control","table","category","props","content","hasSpacing","shadowRootNode","showErrorSummary","titleAs","defaultValue","summary","getErrorSummaryTitleAsDefault","args","jsx","Preview","Examples","render","_args","state","setState","useState","hasError","jsxs","Fragment","TextField","undefined","Button","parameters","exampleParameters","WithContainerQuery","width","setWidth","Heading","Paragraph","List","breakpointsJson","e","Number","target","value","WithErrorGroups","docs","source","originalSource"],"mappings":"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"}