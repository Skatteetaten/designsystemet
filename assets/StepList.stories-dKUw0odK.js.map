{"version":3,"file":"StepList.stories-dKUw0odK.js","sources":["../../../../apps/ds-playground/src/stories/components/StepList.stories.tsx"],"sourcesContent":["import { useId, useState, JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\n\nimport { OpenClose, StepList } from '@skatteetaten/ds-collections';\nimport { Card } from '@skatteetaten/ds-content';\nimport { Checkbox, ErrorSummary, RadioGroup } from '@skatteetaten/ds-forms';\nimport { List, Paragraph } from '@skatteetaten/ds-typography';\n\nimport { category } from '../../../.storybook/helpers';\nimport { exampleParameters } from '../utils/stories.utils';\n\nconst meta = {\n  component: StepList,\n  title: 'Komponenter/StepList/StepList',\n  argTypes: {\n    // Props\n    children: { control: false, table: { category: category.props } },\n  },\n  args: {\n    children: [\n      <StepList.Step\n        key={'step2'}\n        stepNumber={1}\n        title={'Overskrift'}\n        variant={'active'}\n      >\n        {'Innhold'}\n      </StepList.Step>,\n      <StepList.Step key={'step1'} stepNumber={2} title={'Overskrift'}>\n        {'Innhold'}\n      </StepList.Step>,\n    ],\n  },\n} satisfies Meta<typeof StepList>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Preview: Story = {} satisfies Story;\n\nexport const Examples: Story = {\n  render: (_args): JSX.Element => {\n    const stepId = useId();\n    const [activeStep, setActiveStep] = useState(1);\n    const [step3, setStep3] = useState<string | undefined>(undefined);\n    const [hasStep3Error, setHasStep3Error] = useState(false);\n\n    const onNext = (): void => {\n      const nextStep = activeStep + 1;\n      setActiveStep(nextStep);\n    };\n\n    return (\n      <StepList>\n        {activeStep >= 1 && (\n          <StepList.Step\n            id={`${stepId}-1`}\n            variant={activeStep === 1 ? 'active' : 'passive'}\n            title={'Hva holder du på med?'}\n            stepNumber={1}\n            //slik at ikke første steg stjeler fokus ved initiell lasting av siden\n            shouldAutoFocusWhenActive={false}\n            onEdit={\n              activeStep > 1 && activeStep < 5\n                ? (): void => setActiveStep(1)\n                : undefined\n            }\n            onNext={onNext}\n          >\n            {'Varer og tjenester'}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 2 && (\n          <StepList.Step\n            id={`${stepId}-2`}\n            variant={activeStep === 2 ? 'active' : 'passive'}\n            title={'Hva gjør du?'}\n            stepNumber={2}\n            onEdit={\n              activeStep > 2 && activeStep < 5\n                ? (): void => setActiveStep(2)\n                : undefined\n            }\n            onNext={onNext}\n          >\n            {'Selger'}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 3 && (\n          <StepList.Step\n            id={`${stepId}-3`}\n            variant={activeStep === 3 ? 'active' : 'passive'}\n            title={'Salg av varer og tjenester'}\n            stepNumber={3}\n            onEdit={\n              activeStep > 3 && activeStep < 5\n                ? (): void => setActiveStep(2)\n                : undefined\n            }\n            onNext={(): void => {\n              if (step3) {\n                onNext();\n              } else {\n                setHasStep3Error(true);\n              }\n            }}\n          >\n            {activeStep === 3 ? (\n              <>\n                <OpenClose title={'Hva er egen regning og risiko?'}>\n                  <Paragraph hasSpacing>\n                    {\n                      'At du driver for egen regning og risiko innebærer at det er du som har det økonomiske ansvaret for gjeld og forpliktelser. Det innebærer også at det er du som dekker kostnadene i virksomheten, for eksempel kostnader til materiale eller andre driftskostnader.'\n                    }{' '}\n                  </Paragraph>\n                  <Paragraph>\n                    {\n                      'I tillegg vil du ha det kontraktsmessige ansvaret for at oppdrag blir utført og ansvar for å dekke et eventuelt underskudd.'\n                    }\n                  </Paragraph>\n                </OpenClose>\n                <RadioGroup\n                  legend={\n                    'Selger du varer og tjenester for egen regning og risiko?'\n                  }\n                  errorMessage={\n                    hasStep3Error\n                      ? 'Kryss av hvorvidt du selger varer  og tjenester'\n                      : undefined\n                  }\n                  hideLegend\n                  onChange={(e): void => {\n                    setHasStep3Error(false);\n                    setStep3(e.target.value);\n                  }}\n                >\n                  <RadioGroup.Radio id={'step3radio'} value={'ja'}>\n                    {'Ja'}\n                  </RadioGroup.Radio>\n                  <RadioGroup.Radio value={'nei'}>{'Nei'}</RadioGroup.Radio>\n                </RadioGroup>\n                <ErrorSummary showErrorSummary={hasStep3Error}>\n                  <ErrorSummary.Error referenceId={'step3radio'}>\n                    {'Selger du varer og tjenester for egen regning?'}\n                  </ErrorSummary.Error>\n                </ErrorSummary>\n              </>\n            ) : (\n              <div>{step3}</div>\n            )}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 4 && (\n          <StepList.Step\n            id={`${stepId}-4`}\n            variant={activeStep === 4 ? 'active' : 'passive'}\n            title={'Oppsummering før innsending'}\n            stepNumber={4}\n            onNext={onNext}\n          >\n            {activeStep === 4 ? (\n              <Card color={'ochre'} className={'topSpacingS'}>\n                <Card.Content>\n                  <List>\n                    <List.Element>\n                      {'Du jobber med varer og tjenester'}\n                    </List.Element>\n                    <List.Element>{'Du selger'}</List.Element>\n                    <List.Element>\n                      {'Du selger for egen regning og risiko'}\n                    </List.Element>\n                  </List>\n                  <Checkbox>\n                    {'Jeg bekrefter at opplysningene ovenfor stemmer'}\n                  </Checkbox>\n                </Card.Content>\n              </Card>\n            ) : (\n              <div>{'Oppsummering'}</div>\n            )}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 5 && step3 === 'ja' && (\n          <StepList.Step\n            id={`${stepId}-5`}\n            title={'Vårt veiledende svar'}\n            variant={'positiveResult'}\n            stepNumber={5}\n            introTitle={'Virksomheten skal registreres som særavgiftspliktig.'}\n            introTitleAs={'h4'}\n            introContent={\n              <Paragraph>\n                {\n                  'For å bli registrert må du sende en søknad til Skatteetaten. Nedenfor beskriver vi hvordan du går frem og hva du må dokumentere.'\n                }\n              </Paragraph>\n            }\n          >\n            <Paragraph>{'Du må gjøre følgende:'}</Paragraph>\n            <List as={'ol'}>\n              <List.Element>\n                {'Du må bestemme hvilken organisasjonsform som passer best.'}\n              </List.Element>\n              <List.Element>\n                {\n                  'Registrere bedriften i Enhetsregisteret ved å fylle ut Samordnet'\n                }\n                {'registermelding'}\n              </List.Element>\n              <List.Element>\n                {\n                  'Dersom bedriften din har avgiftspliktig omsetning og/eller uttak'\n                }\n                {\n                  'overstiger kr 50 000 i løpet av en 12 måneders periode, må du'\n                }\n                {'registrere virksomheten i Merverdiavgiftsregisteret.'}\n              </List.Element>\n            </List>\n          </StepList.Step>\n        )}\n\n        {activeStep >= 5 && step3 === 'nei' && (\n          <StepList.Step\n            id={`${stepId}-5`}\n            title={'neutralt resultat'}\n            variant={'neutralResult'}\n            stepNumber={5}\n          >\n            {'more brødtekst'}\n          </StepList.Step>\n        )}\n      </StepList>\n    );\n  },\n} satisfies Story;\nExamples.parameters = exampleParameters;\n"],"names":["meta","component","StepList","title","argTypes","children","control","table","category","props","args","jsx","Preview","Examples","render","_args","stepId","useId","activeStep","setActiveStep","useState","step3","setStep3","undefined","hasStep3Error","setHasStep3Error","onNext","nextStep","jsxs","Fragment","OpenClose","Paragraph","RadioGroup","e","target","value","ErrorSummary","Card","List","Checkbox","parameters","exampleParameters","docs","source","originalSource"],"mappings":"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"}