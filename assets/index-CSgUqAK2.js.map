{"version":3,"file":"index-CSgUqAK2.js","sources":["../../../../libs/ds-progress/src/Spinner/defaults.ts","../../../../libs/ds-progress/src/Spinner/Spinner.tsx","../../../../libs/ds-progress/src/index.ts"],"sourcesContent":["//export const getSpinnerColorDefault = () =>\nimport { dsI18n } from '@skatteetaten/ds-core-utils';\n\nimport {\n  SpinnerColor,\n  SpinnerTitlePostion,\n  SpinnerSize,\n} from './Spinner.types';\n\nexport const getSpinnerTitlePositionDefault = (): SpinnerTitlePostion =>\n  'bottom';\nexport const getSpinnerSizeDefault = (): SpinnerSize => 'medium';\nexport const getSpinnerColorDefault = (): SpinnerColor => 'black';\nexport const getSpinnerLabelDefault = (): string =>\n  dsI18n.t('ds_progress:spinner.LoadingLabel');\n","import { JSX, useEffect, useId, useState } from 'react';\n\nimport { getCommonClassNameDefault } from '@skatteetaten/ds-core-utils';\n\nimport {\n  getSpinnerColorDefault,\n  getSpinnerTitlePositionDefault,\n  getSpinnerSizeDefault,\n  getSpinnerLabelDefault,\n} from './defaults';\nimport { SpinnerProps } from './Spinner.types';\n\nimport styles from './Spinner.module.scss';\n\n/**\n * Spinner\n *\n * @see [Storybook](https://skatteetaten.github.io/designsystemet/?path=/docs/komponenter-spinner--docs) - Teknisk dokumentasjon\n * @see [Stil og tone](https://www.skatteetaten.no/stilogtone/designsystemet/komponenter/spinner/) - Brukerveiledning\n */\nexport const Spinner = ({\n  ref,\n  id,\n  className = getCommonClassNameDefault(),\n  lang,\n  'data-testid': dataTestId,\n  classNames,\n  color = getSpinnerColorDefault(),\n  titlePosition = getSpinnerTitlePositionDefault(),\n  size = getSpinnerSizeDefault(),\n  hideTitle,\n  percentComplete,\n  children = getSpinnerLabelDefault(),\n}: SpinnerProps): JSX.Element => {\n  const [isRendered, setIsRendered] = useState<boolean>(false);\n  const generatedId = useId();\n  const titleId = `title-${id ?? generatedId}`;\n\n  /**\n   * UseEffect sørger for at div med role=status blir rendret før children.\n   * Dette gjør at skjermleser vet at den skal lytte etter tekster som må leses\n   * opp.\n   */\n  useEffect(() => {\n    setTimeout(() => {\n      setIsRendered(true);\n    }, 0);\n  }, []);\n\n  const positionClassname =\n    titlePosition === 'right'\n      ? styles.spinner_flexRow\n      : styles.spinner_flexColumn;\n\n  const concatenatedClassnames = `${\n    styles.spinner\n  } ${positionClassname} ${className} ${classNames?.container ?? ''}`.trim();\n  const isInPercentageMode = percentComplete !== undefined;\n\n  const getAriaBusyStatus = (): 'true' | 'false' | undefined => {\n    if (!isInPercentageMode) return undefined;\n\n    if (percentComplete < 100) {\n      return 'true';\n    } else {\n      return 'false';\n    }\n  };\n  return (\n    <>\n      <div\n        ref={ref}\n        aria-labelledby={isInPercentageMode ? titleId : undefined}\n        aria-live={!isInPercentageMode ? 'polite' : undefined}\n        aria-atomic={!isInPercentageMode ? 'true' : undefined}\n        role={isInPercentageMode ? 'progressbar' : undefined}\n        aria-valuemin={isInPercentageMode ? 0 : undefined}\n        aria-valuemax={isInPercentageMode ? 100 : undefined}\n        aria-busy={getAriaBusyStatus()}\n        aria-valuenow={percentComplete}\n        id={id}\n        className={concatenatedClassnames}\n        lang={lang}\n        data-testid={dataTestId}\n        data-size={size}\n        data-color={color}\n      >\n        <div\n          className={`${styles.spinnerAnimation} ${\n            classNames?.animation ?? ''\n          }`.trim()}\n        />\n        <span\n          id={titleId}\n          className={`${styles.spinnerTitle} ${\n            hideTitle ? styles.srOnly : ''\n          } ${\n            titlePosition === 'bottom' ? styles.spinnerTitle_centerText : ''\n          } ${classNames?.title ?? ''}`.trim()}\n        >\n          {isInPercentageMode &&\n            `${getSpinnerLabelDefault()} (${percentComplete} %)`}\n          {!isInPercentageMode && isRendered && children}\n        </span>\n      </div>\n      {isInPercentageMode && (\n        <div\n          className={styles.srOnly}\n          aria-atomic={'true'}\n          aria-live={'polite'}\n        >\n          {`${percentComplete} %`}\n        </div>\n      )}\n    </>\n  );\n};\n\nSpinner.displayName = 'Spinner';\n\nexport {\n  getSpinnerColorDefault,\n  getSpinnerSizeDefault,\n  getSpinnerTitlePositionDefault,\n  getSpinnerLabelDefault,\n};\n","export * from './Spinner/Spinner';\nexport * from './Spinner/Spinner.types';\n"],"names":["cov_1kq6ep7op2","dsI18n","getSpinnerTitlePositionDefault","s","getSpinnerSizeDefault","getSpinnerColorDefault","getSpinnerLabelDefault","t","cov_24ed8edmps","actualCoverage","Spinner","id","className","lang","getCommonClassNameDefault","classNames","dataTestId","color","titlePosition","size","hideTitle","percentComplete","children","isRendered","setIsRendered","generatedId","useState","titleId","useEffect","setTimeout","concatenatedClassnames","spinner","positionClassname","styles","container","isInPercentageMode","getAriaBusyStatus","jsxs","ref","b","role","srOnly","jsx","displayName","cov_11p84ama68"],"mappings":"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"}