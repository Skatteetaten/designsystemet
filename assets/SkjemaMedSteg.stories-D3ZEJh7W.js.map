{"version":3,"file":"SkjemaMedSteg.stories-D3ZEJh7W.js","sources":["../../../../apps/ds-playground/src/stories/pages/SkjemaMedSteg.module.css?raw","../../../../apps/ds-playground/src/stories/pages/SkjemaMedSteg.stories.tsx"],"sourcesContent":["export default \".mainExternal {\\n  width: var(--semantic-responsive-container);\\n  box-sizing: border-box;\\n  padding: var(--semantic-responsive-container-spacing);\\n  margin: auto;\\n}\\n\\n.miniNav {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: var(--spacing-m) 0;\\n}\\n\\n.article {\\n  width: var(--semantic-responsive-article);\\n  margin: auto;\\n}\\n\\n.marginTopM {\\n  margin-top: var(--spacing-m);\\n}\\n\\n.marginBottomM {\\n  margin-bottom: var(--spacing-m);\\n}\\n\\n.marginRightM {\\n  margin-right: var(--spacing-m);\\n}\\n\\n.flexWrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.address {\\n  width: 100%;\\n  max-width: 338px;\\n}\\n\\n.postalCode {\\n  width: 109px;\\n}\\n\\n.city {\\n  width: 100%;\\n  max-width: 280px;\\n}\\n\\n.phone {\\n  width: 193px;\\n}\\n\\n.preLine {\\n  white-space: pre-line;\\n}\\n\\n.noWrap {\\n  white-space: nowrap;\\n}\\n\\n.wideContent {\\n  width: var(--semantic-responsive-wide-content);\\n}\\n\\n.marginBottomL {\\n  margin-bottom: var(--spacing-l);\\n}\\n\"","import { ChangeEvent, useEffect, useState, type JSX } from 'react';\n\nimport { linkTo } from '@storybook/addon-links';\n\nimport { InlineButton, Link } from '@skatteetaten/ds-buttons';\nimport { StepList } from '@skatteetaten/ds-collections';\nimport { Card, DescriptionList } from '@skatteetaten/ds-content';\nimport {\n  formatNationalIdentityNumber,\n  formatPhoneNumber,\n} from '@skatteetaten/ds-core-utils';\nimport {\n  Checkbox,\n  ErrorSummary,\n  RadioGroup,\n  TextField,\n} from '@skatteetaten/ds-forms';\nimport { ArrowBackSVGpath, PrintSVGpath } from '@skatteetaten/ds-icons';\nimport { Person } from '@skatteetaten/ds-overlays';\nimport { Heading, Paragraph } from '@skatteetaten/ds-typography';\n\nimport styles from './SkjemaMedSteg.module.css';\nimport stylesAsString from './SkjemaMedSteg.module.css?raw';\nimport { includeStylesTransform } from '../../../.storybook/helpers';\nimport { withPageLayout } from '../../../.storybook/pagelayout-decorator';\n\nexport default {\n  title: 'Sidetyper/Ekstern/Skjema med steg',\n  decorators: [withPageLayout],\n  parameters: {\n    layout: 'fullscreen',\n    controls: {\n      disable: true,\n    },\n    docs: {\n      source: {\n        transform: includeStylesTransform(stylesAsString),\n      },\n    },\n  },\n};\n\nexport const SkjemaMedSteg = (): JSX.Element => {\n  const me: Person = {\n    name: 'Knuslete Foxtrot',\n    personId: '12345678910',\n    type: 'Person',\n  };\n\n  const [activeStep, setActiveStep] = useState(1);\n  const [hasLocalAddress, setHasLocalAddress] = useState<string>('');\n  const [localAddressErrorMessage, setLocalAddressErrorMessage] =\n    useState<string>('');\n\n  type Contacts = {\n    address: string;\n    postalCode: string;\n    city: string;\n    phone: string;\n  };\n\n  type ContactsError = {\n    address: string;\n    postalCode: string;\n    phone: string;\n  };\n\n  const [contactsInput, setContactsInput] = useState<Contacts>({\n    address: '',\n    postalCode: '',\n    city: '',\n    phone: '',\n  });\n\n  const [contactsError, setContactsError] = useState<ContactsError>({\n    address: '',\n    postalCode: '',\n    phone: '',\n  });\n\n  const [showErrorSummary, setShowErrorSummary] = useState(false);\n\n  const [hasGivenConsent, setHasGivenConsent] = useState(false);\n  const [consentError, setConsentError] = useState<string>('');\n\n  useEffect(() => {\n    if (!Object.values(contactsError).some((error) => error)) {\n      setShowErrorSummary(false);\n    }\n  }, [contactsError]);\n\n  const handleInputChange =\n    (field: keyof ContactsError) =>\n    (e: ChangeEvent<HTMLInputElement>): void => {\n      const value = e.target.value;\n      if (contactsError[field] !== '') {\n        setContactsError((prev) => ({\n          ...prev,\n          [field]: '',\n        }));\n      }\n      setContactsInput((prevState) => ({\n        ...prevState,\n        [field]: value,\n        city:\n          field === 'postalCode' && /^\\d{4}$/.test(value)\n            ? 'Oslo'\n            : prevState.city,\n      }));\n    };\n\n  const handleBlur = (field: keyof Contacts, value: string): void => {\n    setContactsError((prev) => ({\n      ...prev,\n      [field]: validateField(field, value),\n    }));\n  };\n\n  const validateField = (field: keyof Contacts, value: string): string => {\n    switch (field) {\n      case 'address':\n        return value ? '' : 'Postadresse må fylles ut.';\n      case 'postalCode':\n        if (!value) return 'Postnummer må fylles ut.';\n        if (!/^\\d{4}$/.test(value)) return 'Postnummer må inneholde fire tall.';\n        return '';\n      case 'phone':\n        if (!value) return 'Telefonnummer må fylles ut.';\n        if (!/^[0-9+ ]*$/.test(value))\n          return 'Telefonnummer må inneholde tall.';\n        return '';\n      default:\n        return '';\n    }\n  };\n\n  const onNext = (): void => {\n    setActiveStep(activeStep + 1);\n    setHasGivenConsent(false);\n  };\n\n  const setLocalAddressError = (): boolean => {\n    if (!hasLocalAddress) {\n      setLocalAddressErrorMessage('Svar på om du har norsk adresse.');\n      return true;\n    }\n    return false;\n  };\n\n  const setConsentErrorMessage = (): void => {\n    setConsentError('Du må bekrefte at opplysningene over stemmer.');\n  };\n\n  const handleNextStep = (): void => {\n    if (setLocalAddressError()) return;\n\n    if (hasLocalAddress === 'ja') {\n      const updatedErrors: ContactsError = { ...contactsError };\n\n      Object.entries(contactsInput).forEach(([field, value]) => {\n        updatedErrors[field as keyof ContactsError] = validateField(\n          field as keyof ContactsError,\n          value\n        );\n      });\n\n      setContactsError(updatedErrors);\n\n      if (Object.values(updatedErrors).filter((error) => error).length > 1) {\n        setShowErrorSummary(true);\n        return;\n      }\n      if (Object.values(updatedErrors).some((error) => error)) {\n        return;\n      }\n    }\n    onNext();\n  };\n\n  return (\n    <main className={styles.mainExternal}>\n      <div className={styles.miniNav}>\n        <Link href={'#'} svgPath={ArrowBackSVGpath}>\n          {'Til Min side'}\n        </Link>\n        <InlineButton svgPath={PrintSVGpath}>{'Skriv ut'}</InlineButton>\n      </div>\n      <div className={styles.article}>\n        <Heading as={'h1'} level={1} hasSpacing>\n          {'Skjematittel'}\n        </Heading>\n        <DescriptionList hasSpacing>\n          <DescriptionList.Element term={'Navn'}>\n            {me.name}\n          </DescriptionList.Element>\n          <DescriptionList.Element term={'Fødselsnummer'}>\n            {formatNationalIdentityNumber(me.personId)}\n          </DescriptionList.Element>\n        </DescriptionList>\n        <Paragraph className={styles.wideContent} hasSpacing>\n          <i>\n            {'Alle felt må fylles ut med mindre feltet er merket valgfritt.'}\n          </i>\n        </Paragraph>\n      </div>\n      <StepList className={styles.marginBottomL}>\n        {activeStep >= 1 && (\n          <StepList.Step\n            title={'Kort beskrivelse av steg'}\n            titleAs={'h2'}\n            stepNumber={1}\n            variant={activeStep === 1 ? 'active' : 'passive'}\n            nextButtonProps={{ ariaDescribedby: 'infoNextButton' }}\n            shouldAutoFocusWhenActive={false}\n            onNext={handleNextStep}\n            onEdit={activeStep > 1 ? (): void => setActiveStep(1) : undefined}\n          >\n            {activeStep === 1 && (\n              <>\n                <Paragraph className={styles.marginTopM} hasSpacing>\n                  {\n                    'Fremskutt hjelpetekst skal forklare brukeren hvordan eller hvorfor de skal fylle ut feltene.'\n                  }\n                </Paragraph>\n                <RadioGroup\n                  legend={'Har du norsk adresse?'}\n                  selectedValue={hasLocalAddress}\n                  errorMessage={localAddressErrorMessage}\n                  onBlur={setLocalAddressError}\n                  onChange={(e): void => {\n                    setLocalAddressErrorMessage('');\n                    setHasLocalAddress(e.target.value);\n                  }}\n                >\n                  <RadioGroup.Radio value={'ja'}>\n                    {'Ja, har norsk adresse'}\n                  </RadioGroup.Radio>\n                  <RadioGroup.Radio value={'nei'}>\n                    {'Nei, har ikke norsk adresse'}\n                  </RadioGroup.Radio>\n                </RadioGroup>\n                {hasLocalAddress === 'ja' && (\n                  <>\n                    <TextField\n                      id={'input_address'}\n                      label={'Postadresse'}\n                      className={styles.address}\n                      value={contactsInput.address}\n                      errorMessage={contactsError.address}\n                      hasSpacing\n                      required\n                      onChange={handleInputChange('address')}\n                      onBlur={(e) => handleBlur('address', e.target.value)}\n                    />\n                    <div className={styles.flexWrap}>\n                      <TextField\n                        id={'input_postalCode'}\n                        label={'Postnummer'}\n                        className={`${styles.postalCode} ${styles.marginRightM}`}\n                        classNames={{ errorMessage: styles.noWrap }}\n                        value={contactsInput.postalCode}\n                        inputMode={'numeric'}\n                        pattern={'[0-9]{4}'}\n                        maxLength={4}\n                        minLength={4}\n                        errorMessage={contactsError.postalCode}\n                        hasSpacing\n                        required\n                        onChange={handleInputChange('postalCode')}\n                        onBlur={(e) => handleBlur('postalCode', e.target.value)}\n                      />\n                      <TextField\n                        label={'Poststed'}\n                        className={styles.city}\n                        value={contactsInput.city}\n                        hasSpacing\n                        required\n                        readOnly\n                      />\n                    </div>\n                    <TextField\n                      id={'input_phone'}\n                      label={'Telefonnummer'}\n                      classNames={{ textbox: styles.phone }}\n                      value={contactsInput.phone}\n                      inputMode={'tel'}\n                      pattern={'[0-9+ ]*'}\n                      errorMessage={contactsError.phone}\n                      required\n                      onChange={handleInputChange('phone')}\n                      onBlur={(e) => handleBlur('phone', e.target.value)}\n                    />\n                    <ErrorSummary\n                      showErrorSummary={showErrorSummary}\n                      className={styles.marginTopM}\n                      title={'For å gå videre må du rette opp i følgende:'}\n                      titleAs={'h3'}\n                    >\n                      {Object.entries(contactsError)\n                        .filter(([_, error]) => error)\n                        .map(([field, error]) => (\n                          <ErrorSummary.Error\n                            key={field}\n                            referenceId={`input_${field}`}\n                          >\n                            {error}\n                          </ErrorSummary.Error>\n                        ))}\n                    </ErrorSummary>\n                  </>\n                )}\n                {hasLocalAddress === 'nei' && (\n                  <Paragraph>\n                    {'Felter med utenlandsk format eller tilsvarende'}\n                  </Paragraph>\n                )}\n              </>\n            )}\n            {activeStep > 1 && (\n              <div className={styles.flexWrap}>\n                <Paragraph className={styles.marginRightM}>\n                  {hasLocalAddress === 'ja'\n                    ? `${me.name}, ${contactsInput.address}, ${contactsInput.postalCode}, ${contactsInput.city}, ${formatPhoneNumber(contactsInput.phone)}`\n                    : `${me.name}, Utenlandsk adresse`}\n                </Paragraph>\n              </div>\n            )}\n          </StepList.Step>\n        )}\n        {activeStep === 2 && (\n          <StepList.Step\n            title={'Oppsummering før innsending'}\n            titleAs={'h2'}\n            stepNumber={2}\n            nextButtonText={'Send inn'}\n            variant={activeStep === 2 ? 'active' : 'passive'}\n            onNext={\n              hasGivenConsent\n                ? linkTo('Sidetyper/Ekstern/Kvittering', 'Kvittering')\n                : setConsentErrorMessage\n            }\n          >\n            <Card color={'ochre'} className={styles.marginTopM}>\n              <Card.Content>\n                <DescriptionList hasSpacing>\n                  <DescriptionList.Element term={'Innsender'}>\n                    {me.name}\n                  </DescriptionList.Element>\n                  <DescriptionList.Element term={'Adresse'}>\n                    <span className={styles.preLine}>\n                      {hasLocalAddress === 'ja'\n                        ? `${contactsInput.address}\\n${contactsInput.postalCode} ${contactsInput.city}`\n                        : 'Utenlandsk adresse'}\n                    </span>\n                  </DescriptionList.Element>\n                  {hasLocalAddress && (\n                    <DescriptionList.Element term={'Telefon'}>\n                      {formatPhoneNumber(contactsInput.phone)}\n                    </DescriptionList.Element>\n                  )}\n                </DescriptionList>\n                <Checkbox\n                  checked={hasGivenConsent}\n                  errorMessage={consentError}\n                  required\n                  onBlur={hasGivenConsent ? undefined : setConsentErrorMessage}\n                  onChange={(e): void => {\n                    setConsentError('');\n                    setHasGivenConsent(e.target.checked);\n                  }}\n                >\n                  {'Jeg bekrefter at opplysningene over stemmer.'}\n                </Checkbox>\n              </Card.Content>\n            </Card>\n          </StepList.Step>\n        )}\n      </StepList>\n      <div className={styles.article}>\n        <div className={styles.flexWrap}>\n          <InlineButton\n            className={`${styles.marginRightM} ${styles.marginBottomM}`}\n          >\n            {'Lagre og fortsett senere'}\n          </InlineButton>\n          <InlineButton className={styles.marginBottomM}>\n            {'Avbryt og slett'}\n          </InlineButton>\n        </div>\n        <Paragraph id={'infoNextButton'} hasSpacing>\n          <i>\n            {\n              'Når du klikker på «Neste», blir informasjonen som du har skrevet inn automatisk lagret.'\n            }\n          </i>\n        </Paragraph>\n      </div>\n    </main>\n  );\n};\n"],"names":["stylesAsString","SkjemaMedSteg_stories","title","decorators","withPageLayout","parameters","layout","controls","disable","docs","source","transform","includeStylesTransform","SkjemaMedSteg","me","name","personId","activeStep","setActiveStep","useState","hasLocalAddress","setHasLocalAddress","localAddressErrorMessage","setLocalAddressErrorMessage","contactsInput","setContactsInput","address","postalCode","city","phone","contactsError","setContactsError","showErrorSummary","setShowErrorSummary","hasGivenConsent","setHasGivenConsent","consentError","setConsentError","useEffect","Object","values","some","error","handleInputChange","field","e","value","target","prev","prevState","test","handleBlur","validateField","onNext","setLocalAddressError","setConsentErrorMessage","handleNextStep","updatedErrors","entries","forEach","filter","length","jsxs","styles","mainExternal","miniNav","jsx","Link","ArrowBackSVGpath","InlineButton","PrintSVGpath","article","Heading","DescriptionList","formatNationalIdentityNumber","Paragraph","wideContent","StepList","marginBottomL","ariaDescribedby","undefined","Fragment","marginTopM","RadioGroup","TextField","flexWrap","marginRightM","errorMessage","noWrap","textbox","ErrorSummary","_","map","formatPhoneNumber","linkTo","Card","preLine","Checkbox","checked","marginBottomM","originalSource"],"mappings":"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"}