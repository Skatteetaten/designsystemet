{"version":3,"file":"chunk-FJGFNJ3B-C_Q3UZfH.js","sources":["../../../../node_modules/@storybook/addon-links/dist/chunk-FJGFNJ3B.mjs"],"sourcesContent":["import { STORY_CHANGED, SELECT_STORY } from 'storybook/internal/core-events';\nimport { makeDecorator, addons } from 'storybook/internal/preview-api';\nimport { toId } from '@storybook/csf';\nimport { global } from '@storybook/global';\n\nvar PARAM_KEY=\"links\";var{document,HTMLElement}=global;function parseQuery(queryString){let query={},pairs=(queryString[0]===\"?\"?queryString.substring(1):queryString).split(\"&\").filter(Boolean);for(let i=0;i<pairs.length;i++){let pair=pairs[i].split(\"=\");query[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]||\"\");}return query}var navigate=params=>addons.getChannel().emit(SELECT_STORY,params),hrefTo=(title,name)=>new Promise(resolve=>{let{location}=document,existingId=parseQuery(location.search).id,titleToLink=title||existingId.split(\"--\",2)[0],path=`/story/${toId(titleToLink,name)}`,sbPath=location.pathname.replace(/iframe\\.html$/,\"\"),url=`${location.origin+sbPath}?${Object.entries({path}).map(item=>`${item[0]}=${item[1]}`).join(\"&\")}`;resolve(url);}),valueOrCall=args=>value=>typeof value==\"function\"?value(...args):value,linkTo=(idOrTitle,nameInput)=>(...args)=>{let resolver=valueOrCall(args),title=resolver(idOrTitle),name=nameInput?resolver(nameInput):!1;title?.match(/--/)&&!name?navigate({storyId:title}):name&&title?navigate({kind:title,story:name}):title?navigate({kind:title}):name&&navigate({story:name});},linksListener=e=>{let{target}=e;if(!(target instanceof HTMLElement))return;let element=target,{sbKind:kind,sbStory:story}=element.dataset;(kind||story)&&(e.preventDefault(),navigate({kind,story}));},hasListener=!1,on=()=>{hasListener||(hasListener=!0,document.addEventListener(\"click\",linksListener));},off=()=>{hasListener&&(hasListener=!1,document.removeEventListener(\"click\",linksListener));},withLinks=makeDecorator({name:\"withLinks\",parameterName:PARAM_KEY,wrapper:(getStory,context)=>(on(),addons.getChannel().once(STORY_CHANGED,off),getStory(context))});\n\nexport { hrefTo, linkTo, navigate, withLinks };\n"],"names":["STORY_CHANGED","SELECT_STORY","makeDecorator","addons","global","PARAM_KEY","document","HTMLElement","navigate","params","valueOrCall","args","value","linkTo","idOrTitle","nameInput","resolver","title","name","linksListener","e","target","element","kind","story","hasListener","on","off","getStory","context"],"mappings":"4BAAA,KAAM,CAAE,cAAAA,EAAe,aAAAC,CAAY,EAAK,iCAClC,CAAE,cAAAC,EAAe,OAAAC,CAAM,EAAK,iCAE5B,CAAE,OAAAC,CAAQ,EAAG,4BAEnB,IAAIC,EAAU,QAAW,CAAC,SAAAC,EAAS,YAAAC,CAAW,EAAEH,EAAoSI,EAASC,GAAQN,EAAO,WAAU,EAAG,KAAKF,EAAaQ,CAAM,EAAiXC,EAAYC,GAAMC,GAAO,OAAOA,GAAO,WAAWA,EAAM,GAAGD,CAAI,EAAEC,EAAMC,EAAO,CAACC,EAAUC,IAAY,IAAIJ,IAAO,CAAC,IAAIK,EAASN,EAAYC,CAAI,EAAEM,EAAMD,EAASF,CAAS,EAAEI,EAAKH,EAAUC,EAASD,CAAS,EAAE,GAAGE,GAAA,MAAAA,EAAO,MAAM,OAAO,CAACC,EAAKV,EAAS,CAAC,QAAQS,CAAK,CAAC,EAAEC,GAAMD,EAAMT,EAAS,CAAC,KAAKS,EAAM,MAAMC,CAAI,CAAC,EAAED,EAAMT,EAAS,CAAC,KAAKS,CAAK,CAAC,EAAEC,GAAMV,EAAS,CAAC,MAAMU,CAAI,CAAC,CAAE,EAAEC,EAAcC,GAAG,CAAC,GAAG,CAAC,OAAAC,CAAM,EAAED,EAAE,GAAG,EAAEC,aAAkBd,GAAa,OAAO,IAAIe,EAAQD,EAAO,CAAC,OAAOE,EAAK,QAAQC,CAAK,EAAEF,EAAQ,SAASC,GAAMC,KAASJ,EAAE,eAAc,EAAGZ,EAAS,CAAC,KAAAe,EAAK,MAAAC,CAAK,CAAC,EAAG,EAAEC,EAAY,GAAGC,EAAG,IAAI,CAACD,IAAcA,EAAY,GAAGnB,EAAS,iBAAiB,QAAQa,CAAa,EAAG,EAAEQ,EAAI,IAAI,CAACF,IAAcA,EAAY,GAAGnB,EAAS,oBAAoB,QAAQa,CAAa,EAAG,EAAYjB,EAAc,CAAC,KAAK,YAAY,cAAcG,EAAU,QAAQ,CAACuB,EAASC,KAAWH,EAAI,EAACvB,EAAO,WAAU,EAAG,KAAKH,EAAc2B,CAAG,EAAEC,EAASC,CAAO,EAAE,CAAC","x_google_ignoreList":[0]}