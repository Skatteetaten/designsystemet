{"version":3,"file":"Help-DtlVvBAO.js","sources":["../../../../libs/ds-forms/src/Help/Help.tsx"],"sourcesContent":["import { JSX, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { IconButton } from '@skatteetaten/ds-buttons';\nimport {\n  dsI18n,\n  getHelpTitleHelpSvgDefault,\n} from '@skatteetaten/ds-core-utils';\nimport { CancelSVGpath, HelpSimpleSVGpath } from '@skatteetaten/ds-icons';\n\nimport { HelpProps } from './Help.types';\n\nimport styles from './Help.module.scss';\n\nexport const Help = ({\n  description,\n  helpText,\n  helpSvgPath,\n  hideHelp,\n  targetId,\n  titleHelpSvg = getHelpTitleHelpSvgDefault(),\n  onHelpToggle,\n  className,\n  classNames,\n}: HelpProps): JSX.Element => {\n  const { t } = useTranslation('Shared', { i18n: dsI18n });\n\n  const [showHelpText, setShowHelpText] = useState(false);\n  const helpButtonRef = useRef<HTMLButtonElement>(null);\n\n  const svgHelpIcon = helpSvgPath ?? HelpSimpleSVGpath;\n\n  const toggleHelpText = (): void => {\n    onHelpToggle?.(!showHelpText);\n    setShowHelpText(!showHelpText);\n  };\n\n  const closeHelpText = (): void => {\n    setShowHelpText(false);\n    helpButtonRef.current?.focus();\n    onHelpToggle?.(false);\n  };\n\n  const marginTopClassName = showHelpText ? styles.descriptionMarginTop : '';\n  const hideHelpClassName = hideHelp ? styles.srOnly : '';\n\n  return (\n    <>\n      {helpText && (\n        <IconButton\n          ref={helpButtonRef}\n          className={`${styles.helpButton} ${hideHelpClassName}`.trim()}\n          svgPath={svgHelpIcon}\n          title={titleHelpSvg}\n          size={'extraSmall'}\n          ariaExpanded={showHelpText}\n          ariaDescribedby={targetId}\n          isOutlined\n          onClick={(): void => toggleHelpText()}\n        />\n      )}\n      {helpText && showHelpText && (\n        <div\n          className={`${styles.helpBox} ${hideHelpClassName} ${\n            className ?? ''\n          } ${classNames?.helpText ?? ''}`.trim()}\n        >\n          <div className={styles.helpBoxText}>{helpText}</div>\n          <IconButton\n            className={styles.helpBoxCloseButton}\n            size={'small'}\n            svgPath={CancelSVGpath}\n            title={t('shared.Close')}\n            onClick={(): void => closeHelpText()}\n          />\n        </div>\n      )}\n      {description && (\n        <div\n          className={`${\n            styles.description\n          } ${marginTopClassName} ${hideHelpClassName} ${\n            classNames?.description ?? ''\n          }`.trim()}\n        >\n          {description}\n        </div>\n      )}\n    </>\n  );\n};\n\nHelp.displayName = 'Help';\n\nexport { getHelpTitleHelpSvgDefault };\n"],"names":["cov_eoaz7z4ej","actualCoverage","Help","description","helpText","helpSvgPath","hideHelp","targetId","titleHelpSvg","onHelpToggle","getHelpTitleHelpSvgDefault","className","classNames","t","i18n","dsI18n","helpButtonRef","useState","svgHelpIcon","HelpSimpleSVGpath","toggleHelpText","s","showHelpText","setShowHelpText","closeHelpText","current","hideHelpClassName","styles","srOnly","Fragment","ref","jsx","IconButton","svgPath","title","size","ariaExpanded","ariaDescribedby","isOutlined","onClick","helpBox","b","children","helpBoxText","helpBoxCloseButton","CancelSVGpath","marginTopClassName"],"mappings":"8/KAkBE,OAAAA,EAAAC,UAAA,CAAA,OAAAA,CAAA,EAAAA,CAAAD,CA6BEA,IAjCGA,IAAAE,EAAA,CAAA,IAAcC,MAAAD,EAAA,CAAA,CACnBE,YAAAA,EACAC,SAAAA,EACAC,YAAAA,EACAC,SAAAA,EACAC,SAAAA,EAC0CC,aAAAA,GAAAT,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAU,KAC1CC,aAAAA,EACAC,UAAAA,EAEF,WAAAA,CAAAZ,IAAAA,CACEA,EAAA,EAAA,EAAA,CAAA,IAAAa,KAAAA,CAAA,EAAAA,CAAAC,GAAAA,EAAAC,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,SAAAA,CAAA,KAAAA,CAEA,CAAA,GACAC,CAAAA,GAAA,GAAAhB,EAAA,EAAA,EAAA,CAAA,IAAAiB,WAAA,EAAA,GAEAC,GAAAlB,EAAA,SAAAA,EAAAA,OAAAA,IAAAA,GAAAA,GAAAA,EAAA,EAAA,EAAA,CAAA,IAAAA,IAAA,EAAA,CAAA,EAAA,CAAA,IAAAK,IAAAL,IAAA,EAAA,CAAA,EAAA,CAAA,IAAAmB,IAEAnB,EAAAoB,EAAAA,EAAAA,CAAAA,IAAApB,MAAAA,EAAA,IAAA,CAAAA,EAAA,EAAAqB,EAAA,CAAA,IACEZ,EAAA,EAAAa,EAAAA,CAAAA,IAAAtB,GAAAA,MAAAA,GAAAqB,GACAE,EAAAA,EAAA,EAAAD,CAAAA,IAA6BC,EAAA,CAAAD,CAAA,CAAAtB,EAG/BA,EAAAwB,EAAAA,EAAAA,CAAA,IAAAxB,MAAAA,EAAA,IAAA,OAAAA,EAAA,EAAAqB,EAAA,CAAA,IACEE,EAAAA,EAAA,OAAAvB,EAAAqB,EAAA,EACAL,EAAA,EAAAS,EAAAA,EAAAA,KAAAzB,EAAAA,YAAAA,MAAAA,EAAA,QACAS,EAAA,MAAA,IAAoBA,GAAA,MAAAA,EAAA,GAGtB,EACAiB,GAAA1B,IAAA,EAAA,EAAA,IAAAM,GAAAN,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA2B,IAAAA,EAAAC,2BAAA,EAAA,CAAA,EAAA,CAAA,IAAA,KAAA5B,GAAAA,IAAA,EAAA,EAAA,IAAAM,GAAAN,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA2B,EAAA,SAAA3B,IAAA,EAAA,CAAA,EAAA,CAAA,IAAA,KAEA,OAAAA,EAAA,EAAA,EAAA,EAAA,IAEKA,EAAAA,KAAA6B,EAAAA,SAAA,CACEC,SAAAd,EAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAZ,IAAAJ,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA+B,EAAAA,IAAAC,EAAA,CACMrB,IAAAA,EACuDsB,UAAAf,GAAAA,EAAA,UAAA,IAAAQ,CAAA,GAAA,KAAA,EACnDQ,QAAA1B,EACF2B,MAAA3B,EACD4B,KAAAA,aACQC,aAAAA,EACGC,gBAAA/B,EACPgC,WAAA,GAAAvC,QAAAA,KAAAA,EAAA,EAAAqB,EAAA,CAAA,IAAArB,YAAAoB,EAAA,EAKXT,CAAAA,KAAAA,EAAAgB,EAAA,EAAAa,CAAAA,EAAAA,CAAAA,QAAAd,EAAA1B,EAAAA,EAAAA,CAAAA,EAAAA,CAAA,IAAAsB,KAAAtB,EAAAA,EAAAA,EAAAA,CAAA,GAAAyC,IAAAzC,EAAAA,KAAAA,MAAA,CAGuC0C,sBAEtCX,KAAA,IAAA/B,IAAA,EAAA,CAAA,EAAA,CAAA,IAAAW,IAAAX,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,GAAA,IAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,KAAAY,GAAA,YAAAA,EAAA,YAAAZ,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,KAAA,WAAAW,CAAAgC,EAAAA,IAAAA,MAAA,CAAAD,UAAAtC,EAAAA,YAAA,aACC2B,EAAAA,IAAAa,EAAAA,CACmBT,UAAAR,EAAA,mBACZM,KAAAA,QACGC,QAAAW,EACcN,MAAA1B,EAAA0B,cAAA,EAAAvC,QAAAA,KAAAA,EAAA,EAAAqB,EAAA,CAAA,IAAArB,QAAA,IAAAwB,EAAA,EAEzB,CAAA,CAAA,CAIDb,CAAAA,KAAAA,EAAAgB,EAAA,EAAAxB,CAAAA,EAAAA,CAAAA,IAAAA,IAAA2C,EAAApB,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,IAAA1B,EAAAA,IAAA,MAAA,CAKS0C,UAAAvC,GAAAA,EAAAA,WAAAA,IAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,KAAAA,GAAAA,YAAAA,EAAAA,eAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,IAAAA,GAAAA,GAAAA,KAAAA,EAEP,SAAAA,CACH,CAAA,GAAA,CAIR,CAAA,CAAAH,EAEAE,IAAA,EAAA,EAAA,IAEAA,EAAA,YAAAQ"}