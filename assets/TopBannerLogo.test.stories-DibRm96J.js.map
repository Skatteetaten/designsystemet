{"version":3,"file":"TopBannerLogo.test.stories-DibRm96J.js","sources":["../../../../apps/ds-playground/src/assets/custom-mobile-logo.svg","../../../../apps/ds-playground/src/stories/__tests__/TopBannerLogo.test.stories.tsx"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='uuid-f322c5d9-df43-406c-9279-e9d4b350e7d9'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%3e%3crect%20x='-.15'%20width='40'%20height='40'%20style='fill:%20%236f2c3f;%20stroke-width:%200px;'/%3e%3cg%3e%3cpath%20d='m5.14,4.1h3.61v11.52h6.54v3.06H5.14V4.1Z'%20style='fill:%20%23fff;%20stroke-width:%200px;'/%3e%3cpath%20d='m15.55,11.42c0-4.36,2.79-7.6,7.2-7.6s7.22,3.24,7.22,7.6-2.79,7.6-7.22,7.6-7.2-3.24-7.2-7.6Zm10.74,0c0-2.65-1.16-4.69-3.53-4.69s-3.55,2.04-3.55,4.69,1.2,4.67,3.55,4.67,3.53-2.02,3.53-4.67Z'%20style='fill:%20%23fff;%20stroke-width:%200px;'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m7.09,34.09c-1.26-1.39-1.96-3.3-1.96-5.52s.77-4.3,2.16-5.69c1.2-1.22,2.89-1.94,4.99-1.94,3.75,0,5.99,2,6.46,5.06h-3.51c-.27-1.18-1.24-2.08-2.83-2.08-2.41,0-3.61,2-3.61,4.65s1.39,4.65,3.67,4.65c1.9,0,3.02-1.26,3.16-2.55v-.04h-2.73v-2.65h6.07v7.83h-2.53l-.2-1.75h-.04c-.96,1.49-2.39,2.08-4.14,2.08-2.08,0-3.77-.73-4.97-2.04Z'%20style='fill:%20%23fff;%20stroke-width:%200px;'/%3e%3cpath%20d='m20.14,28.54c0-4.36,2.79-7.6,7.2-7.6s7.22,3.24,7.22,7.6-2.79,7.6-7.22,7.6-7.2-3.24-7.2-7.6Zm10.74,0c0-2.65-1.16-4.69-3.53-4.69s-3.55,2.04-3.55,4.69,1.2,4.67,3.55,4.67,3.53-2.02,3.53-4.67Z'%20style='fill:%20%23fff;%20stroke-width:%200px;'/%3e%3c/g%3e%3c/svg%3e\"","import { Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, fireEvent, fn, waitFor, within } from 'storybook/test';\n\nimport { dsI18n } from '@skatteetaten/ds-core-utils';\n\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLogo } from '../../../../../libs/ds-layout/src/TopBannerLogo/TopBannerLogo';\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLogoProps } from '../../../../../libs/ds-layout/src/TopBannerLogo/TopBannerLogo.types';\nimport customLogo from '../../assets/custom-logo.svg';\nimport customMobileLogo from '../../assets/custom-mobile-logo.svg';\n\nconst meta = {\n  component: TopBannerLogo,\n  title: 'Tester/TopBanner/TopBannerLogo (intern)',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    as: {\n      table: { disable: true },\n      control: 'inline-radio',\n    },\n    logo: {\n      table: { disable: true },\n      control: 'select',\n      options: ['', customLogo],\n    },\n    mobileLogo: {\n      table: { disable: true },\n      control: 'select',\n      options: ['', customMobileLogo],\n    },\n    // HTML\n    alt: { table: { disable: true } },\n    href: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof TopBannerLogo>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst logoLinkText = dsI18n.t('ds_layout:topbanner.SkeLogoLinkText');\nconst logoText = dsI18n.t('ds_layout:topbanner.SkeLogoImageText');\nconst defaultArgs: TopBannerLogoProps = {};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLAnchorElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const link = canvas.getByRole('link');\n    await expect(link).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'en',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const link = canvas.getByRole('link');\n    await expect(link).toHaveAttribute('id', 'htmlId');\n    await expect(link).toHaveClass('dummyClassname');\n    await expect(link).toHaveAttribute('lang', 'en');\n    await expect(link).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (A8, A9)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {},\n  parameters: {\n    pseudoStates: ['focus-visible'],\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const link = canvas.getByRole('link');\n    await expect(link).toBeInTheDocument();\n    await expect(link).toHaveAttribute('href', 'https://www.skatteetaten.no/');\n    const logo = canvas.getByRole('img', {\n      name: logoLinkText,\n    });\n    await expect(logo).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithAs = {\n  name: 'With As (A8)',\n  args: {\n    ...defaultArgs,\n    as: 'div',\n  },\n  argTypes: {\n    as: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n\n    await expect(canvasElement.querySelector('a')).not.toBeInTheDocument();\n    const logo = canvas.getByRole('img', {\n      name: logoText,\n    });\n    await expect(logo).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithLogoMobileLogoAltAndHref = {\n  name: 'With Logo, MobileLogo, Alt, And Href (A8, A10)',\n  args: {\n    ...defaultArgs,\n    as: 'a',\n    logo: customLogo,\n    mobileLogo: customMobileLogo,\n    alt: 'custom alt text',\n    href: '#',\n  },\n  argTypes: {\n    logo: { table: { disable: false } },\n    mobileLogo: { table: { disable: false } },\n    alt: { table: { disable: false } },\n    href: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const link = canvas.getByRole('link', {\n      name: 'custom alt text',\n    });\n    await expect(link).toBeInTheDocument();\n    await expect(link).toHaveAttribute('href', '#');\n  },\n} satisfies Story;\n\nexport const WithOnClick = {\n  name: 'With OnClick',\n  args: {\n    ...defaultArgs,\n    onClick: fn((e) => {\n      e.preventDefault();\n    }),\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ args, canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const logo = canvas.getByRole('img', {\n      name: logoLinkText,\n    });\n    await fireEvent.click(logo);\n\n    await waitFor(() => expect(args.onClick).toHaveBeenCalledOnce());\n  },\n} satisfies Story;\n"],"names":["customMobileLogo","expect","fireEvent","fn","waitFor","within","meta","component","TopBannerLogo","title","argTypes","ref","table","disable","className","id","lang","as","control","logo","options","customLogo","mobileLogo","alt","href","tags","parameters","imageSnapshot","disableSnapshot","logoLinkText","dsI18n","t","logoText","defaultArgs","WithRef","name","args","instance","play","canvasElement","link","getByRole","toHaveAttribute","WithAttributes","a11y","test","toHaveClass","Defaults","pseudoStates","canvas","toBeInTheDocument","WithAs","querySelector","not","WithLogoMobileLogoAltAndHref","WithOnClick","onClick","e","preventDefault","click","toHaveBeenCalledOnce","docs","source","originalSource"],"mappings":"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"}