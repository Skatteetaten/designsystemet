{"version":3,"file":"Spinner.stories-DTRGiqOs.js","sources":["../../../../apps/ds-playground/src/stories/components/Spinner.stories.tsx"],"sourcesContent":["import { useEffect, useState, JSX, useRef } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react';\n\nimport { Button } from '@skatteetaten/ds-buttons';\nimport {\n  Spinner,\n  getSpinnerColorDefault,\n  getSpinnerLabelDefault,\n  getSpinnerSizeDefault,\n  getSpinnerTitlePositionDefault,\n} from '@skatteetaten/ds-progress';\n\nimport { category } from '../../../.storybook/helpers';\nimport { exampleParameters } from '../utils/stories.utils';\n\nconst meta = {\n  component: Spinner,\n  title: 'Komponenter/Spinner',\n  argTypes: {\n    // Props\n    classNames: { control: false, table: { category: category.props } },\n    children: {\n      table: {\n        category: category.props,\n        defaultValue: { summary: getSpinnerLabelDefault() },\n      },\n    },\n    size: {\n      control: 'inline-radio',\n      table: {\n        category: category.props,\n        defaultValue: { summary: getSpinnerSizeDefault() },\n      },\n    },\n    titlePosition: {\n      control: 'inline-radio',\n      table: {\n        category: category.props,\n        defaultValue: { summary: getSpinnerTitlePositionDefault() },\n      },\n    },\n    color: {\n      control: 'inline-radio',\n      table: {\n        category: category.props,\n        defaultValue: { summary: getSpinnerColorDefault() },\n      },\n    },\n    percentComplete: {\n      table: {\n        category: category.props,\n      },\n    },\n    hideTitle: { table: { category: category.props } },\n  },\n} satisfies Meta<typeof Spinner>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Preview: Story = {} satisfies Story;\n\nexport const Examples: Story = {\n  render: (_args): JSX.Element => {\n    const [showSpinner, setShowSpinner] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const interval = useRef<ReturnType<typeof setTimeout> | undefined>(\n      undefined\n    );\n    useEffect(() => {\n      if (progress === 100) {\n        clearInterval(interval.current);\n      }\n    }, [progress]);\n    return (\n      <>\n        <Button\n          onClick={() => {\n            setProgress(0);\n            setShowSpinner(!showSpinner);\n            if (interval.current) {\n              clearInterval(interval.current);\n              interval.current = undefined;\n            }\n            interval.current = setInterval(() => {\n              setProgress((prev) => (prev >= 100 ? 0 : prev + 10));\n            }, 1000);\n          }}\n        >\n          {'toggle spinner'}\n        </Button>\n        {showSpinner && (\n          <Spinner\n            percentComplete={progress}\n            className={'bottomSpacingXL'}\n            size={'large'}\n            color={'blue'}\n            titlePosition={'right'}\n          />\n        )}\n      </>\n    );\n  },\n} satisfies Story;\nExamples.parameters = exampleParameters;\n"],"names":["meta","component","Spinner","title","argTypes","classNames","control","table","category","props","children","defaultValue","summary","getSpinnerLabelDefault","size","getSpinnerSizeDefault","titlePosition","getSpinnerTitlePositionDefault","color","getSpinnerColorDefault","percentComplete","hideTitle","Preview","Examples","render","_args","showSpinner","setShowSpinner","useState","progress","setProgress","interval","useRef","undefined","useEffect","clearInterval","current","jsxs","Fragment","jsx","Button","setInterval","prev","parameters","exampleParameters","docs","source","originalSource"],"mappings":"4RAgBA,MAAMA,EAAO,CACXC,UAAWC,EACXC,MAAO,sBACPC,SAAU,CAERC,WAAY,CAAEC,QAAS,GAAOC,MAAO,CAAEC,SAAUA,EAASC,KAAAA,CAAQ,EAClEC,SAAU,CACRH,MAAO,CACLC,SAAUA,EAASC,MACnBE,aAAc,CAAEC,QAASC,EAAuB,CAAA,CAAE,CAEtD,EACAC,KAAM,CACJR,QAAS,eACTC,MAAO,CACLC,SAAUA,EAASC,MACnBE,aAAc,CAAEC,QAASG,EAAsB,CAAA,CAAE,CAErD,EACAC,cAAe,CACbV,QAAS,eACTC,MAAO,CACLC,SAAUA,EAASC,MACnBE,aAAc,CAAEC,QAASK,EAA+B,CAAA,CAAE,CAE9D,EACAC,MAAO,CACLZ,QAAS,eACTC,MAAO,CACLC,SAAUA,EAASC,MACnBE,aAAc,CAAEC,QAASO,EAAuB,CAAA,CAAE,CAEtD,EACAC,gBAAiB,CACfb,MAAO,CACLC,SAAUA,EAASC,KAAAA,CAEvB,EACAY,UAAW,CAAEd,MAAO,CAAEC,SAAUA,EAASC,KAAAA,CAAM,CAAE,CAErD,EAKaa,EAAiB,CAAC,EAElBC,EAAkB,CAC7BC,OAASC,GAAuB,CAC9B,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAK,EAC9C,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,CAAC,EACpCG,EAAWC,SACfC,MACF,EACAC,OAAAA,EAAAA,UAAU,IAAM,CACVL,IAAa,KACfM,cAAcJ,EAASK,OAAO,CAChC,EACC,CAACP,CAAQ,CAAC,EAGTQ,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,MAAAC,EAAA,CACC,QAAS,IAAM,CACbV,EAAY,CAAC,EACbH,EAAe,CAACD,CAAW,EACvBK,EAASK,UACXD,cAAcJ,EAASK,OAAO,EAC9BL,EAASK,QAAUH,QAEZG,EAAAA,QAAUK,YAAY,IAAM,CACnCX,EAAuBY,GAAAA,GAAQ,IAAM,EAAIA,EAAO,EAAG,GAClD,GAAI,CAAA,EAGR,SACH,iBAAA,EACChB,GACCa,EAAAA,IAACrC,EACC,CAAA,gBAAiB2B,EACjB,UAAW,kBACX,KAAM,QACN,MAAO,OACP,cAAe,OAElB,CAAA,CAAA,EACH,CAAA,CAGN,EACAN,EAASoB,WAAaC,YAAiBtB,EAAAqB,WAAA,CAAA,GAAArB,EAAAqB,WAAAE,KAAA,CAAA,IAAAvB,EAAAA,EAAAqB,aAAArB,YAAAA,EAAAuB,KAAAC,OAAA,CAAAC,eAAA,qBAAA,IAAAzB,GAAAA,EAAAA,EAAAqB,aAAArB,YAAAA,EAAAuB,OAAAvB,YAAAA,EAAAwB,MAAAA,CAAA,CAAA,YAAAvB,EAAAoB,WAAA,CAAA,GAAApB,EAAAoB,WAAAE,KAAA,CAAA,IAAAtB,EAAAA,EAAAoB,aAAApB,YAAAA,EAAAsB,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAAAxB,GAAAA,EAAAA,EAAAoB,aAAApB,YAAAA,EAAAsB,OAAAtB,YAAAA,EAAAuB,MAAAA,CAAA,CAAA"}