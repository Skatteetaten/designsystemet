{"version":3,"file":"Blockquote.test.stories-BGy_jYno.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/Blockquote.test.stories.tsx"],"sourcesContent":["import { StoryFn, Meta, StoryObj } from '@storybook/react';\nimport { expect, within } from '@storybook/test';\n\nimport { Blockquote, BlockquoteProps } from '@skatteetaten/ds-typography';\n\nimport { loremIpsum, wrapper } from './testUtils/storybook.testing.utils';\n\nconst meta = {\n  component: Blockquote,\n  title: 'Tester/Blockquote',\n  argTypes: {\n    // Baseprops\n    key: { table: { disable: true } },\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    canBeManuallyFocused: { table: { disable: true } },\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    hasSpacing: { table: { disable: true } },\n  },\n} satisfies Meta<typeof Blockquote>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultArgs = {\n  children: loremIpsum,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLQuoteElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const blockquote = canvas.getByText(loremIpsum);\n    await expect(blockquote).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const blockquote = canvas.getByText(loremIpsum);\n    await expect(blockquote).toHaveClass('dummyClassname');\n    await expect(blockquote).toHaveAttribute('id', 'htmlId');\n    await expect(blockquote).toHaveAttribute('lang', 'nb');\n    await expect(blockquote).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (A1, B1)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n} satisfies Story;\n\nconst TemplateWithMarkup: StoryFn<Exclude<BlockquoteProps, 'children'>> = (\n  args\n) => (\n  <Blockquote {...args}>\n    <div>\n      {'Manowar Manowar living on the road '}\n      <a href={'https://en.wikipedia.org/wiki/Manowar'}>{'lenke'}</a>\n    </div>\n    <div>\n      {\"When we're on \"}\n      <strong>{'strong '}</strong>\n      {'explode '}\n      <em>{'italic em '}</em>\n    </div>\n    <div>\n      {\"We don't attract \"}\n      <code>{'code wimps '}</code>\n      {\"'cause we're too \"}\n      <mark>{'mark'}</mark>\n    </div>\n    <div>\n      {'Just '}\n      <i>{'italic i '}</i>\n      {'true '}\n      <small>{'small '}</small>\n      {\"people that's Manowar's \"}\n      <b>{'b'}</b>\n    </div>\n  </Blockquote>\n);\n\nexport const WithMarkup = {\n  render: TemplateWithMarkup,\n  name: 'With Markup (A2, B1)',\n  argTypes: {\n    children: {\n      table: { disable: false },\n      control: { disable: true },\n    },\n  },\n  args: {\n    ...defaultArgs,\n  },\n  parameters: {\n    imageSnapshot: {\n      hover: `${wrapper} > blockquote a`,\n      focus: `${wrapper} > blockquote a`,\n    },\n  },\n} satisfies Story;\n\nconst TemplateWithTwoBlockquotes: StoryFn<BlockquoteProps> = (args) => (\n  <>\n    <Blockquote {...args} />\n    <Blockquote {...args} />\n  </>\n);\n\nexport const WithSpacing = {\n  render: TemplateWithTwoBlockquotes,\n  name: 'With Spacing (A3)',\n  args: {\n    ...defaultArgs,\n    hasSpacing: true,\n  },\n  argTypes: {\n    hasSpacing: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const WithCanBeManuallyFocused: Story = {\n  name: 'With Can Receive Focus',\n  render: (args) => <Blockquote {...args}>{'Litt fylltekst'}</Blockquote>,\n  args: {\n    ...defaultArgs,\n    canBeManuallyFocused: true,\n  },\n  argTypes: {\n    canBeManuallyFocused: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const blockquote = canvas.getByText('Litt fylltekst');\n    blockquote.focus();\n    await expect(blockquote).toBeInTheDocument();\n    await expect(blockquote).toHaveAttribute('tabIndex', '-1');\n  },\n} satisfies Story;\n"],"names":["meta","component","Blockquote","title","argTypes","key","table","disable","ref","className","id","lang","canBeManuallyFocused","children","control","hasSpacing","defaultArgs","loremIpsum","WithRef","name","args","instance","parameters","imageSnapshot","play","canvasElement","blockquote","within","getByText","expect","toHaveAttribute","WithAttributes","toHaveClass","Defaults","TemplateWithMarkup","jsxs","jsx","WithMarkup","render","hover","wrapper","focus","TemplateWithTwoBlockquotes","Fragment","WithSpacing","WithCanBeManuallyFocused","toBeInTheDocument","docs","source","originalSource"],"mappings":"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"}