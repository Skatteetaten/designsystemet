{"version":3,"file":"Help-4dQh7YC4.js","sources":["../../../../libs/ds-forms/src/LabelWithHelp/Help/Help.tsx"],"sourcesContent":["import { JSX, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { IconButton } from '@skatteetaten/ds-buttons';\nimport {\n  dsI18n,\n  getHelpTitleHelpSvgDefault,\n} from '@skatteetaten/ds-core-utils';\nimport { CancelSVGpath, HelpSimpleSVGpath } from '@skatteetaten/ds-icons';\n\nimport { HelpProps } from './Help.types';\n\nimport styles from './Help.module.scss';\n\nexport const Help = ({\n  description,\n  descriptionId,\n  helpText,\n  helpSvgPath,\n  hideHelp,\n  hideDescriptionForScreenReader,\n  targetId,\n  titleHelpSvg = getHelpTitleHelpSvgDefault(),\n  onHelpToggle,\n  className,\n  classNames,\n}: HelpProps): JSX.Element => {\n  const { t } = useTranslation('Shared', { i18n: dsI18n });\n\n  const [showHelpText, setShowHelpText] = useState(false);\n  const helpButtonRef = useRef<HTMLButtonElement>(null);\n\n  const svgHelpIcon = helpSvgPath ?? HelpSimpleSVGpath;\n\n  const toggleHelpText = (): void => {\n    onHelpToggle?.(!showHelpText);\n    setShowHelpText(!showHelpText);\n  };\n\n  const closeHelpText = (): void => {\n    setShowHelpText(false);\n    helpButtonRef.current?.focus();\n    onHelpToggle?.(false);\n  };\n\n  const marginTopClassName = showHelpText ? styles.descriptionMarginTop : '';\n  const hideHelpClassName = hideHelp ? styles.srOnly : '';\n\n  return (\n    <>\n      {helpText && (\n        <IconButton\n          ref={helpButtonRef}\n          className={`${styles.helpButton} ${hideHelpClassName}`.trim()}\n          svgPath={svgHelpIcon}\n          title={titleHelpSvg}\n          size={'extraSmall'}\n          ariaExpanded={showHelpText}\n          ariaDescribedby={targetId}\n          isOutlined\n          onClick={(): void => toggleHelpText()}\n        />\n      )}\n      {helpText && showHelpText && (\n        <div\n          className={`${styles.helpBox} ${hideHelpClassName} ${\n            className ?? ''\n          } ${classNames?.helpText ?? ''}`.trim()}\n        >\n          <div className={styles.helpBoxText}>{helpText}</div>\n          <IconButton\n            className={styles.helpBoxCloseButton}\n            size={'small'}\n            svgPath={CancelSVGpath}\n            title={t('shared.Close')}\n            onClick={(): void => closeHelpText()}\n          />\n        </div>\n      )}\n      {description && (\n        <div\n          id={descriptionId}\n          aria-hidden={hideDescriptionForScreenReader}\n          className={`${\n            styles.description\n          } ${marginTopClassName} ${hideHelpClassName} ${\n            classNames?.description ?? ''\n          }`.trim()}\n        >\n          {description}\n        </div>\n      )}\n    </>\n  );\n};\n\nHelp.displayName = 'Help';\n\nexport { getHelpTitleHelpSvgDefault };\n"],"names":["cov_2pf5yx9lsr","actualCoverage","Help","description","descriptionId","helpText","helpSvgPath","hideHelp","hideDescriptionForScreenReader","targetId","titleHelpSvg","onHelpToggle","getHelpTitleHelpSvgDefault","className","classNames","t","i18n","dsI18n","helpButtonRef","useState","svgHelpIcon","HelpSimpleSVGpath","toggleHelpText","s","showHelpText","setShowHelpText","closeHelpText","current","hideHelpClassName","styles","srOnly","ref","jsx","IconButton","svgPath","title","size","ariaExpanded","ariaDescribedby","isOutlined","onClick","helpBox","b","children","helpBoxText","helpBoxCloseButton","CancelSVGpath","id"],"mappings":"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"}