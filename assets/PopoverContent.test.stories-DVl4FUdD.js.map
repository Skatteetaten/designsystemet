{"version":3,"file":"PopoverContent.test.stories-DVl4FUdD.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/PopoverContent.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react';\nimport { expect, within } from '@storybook/test';\n\nimport { Popover } from '@skatteetaten/ds-overlays';\nimport { Heading, Paragraph } from '@skatteetaten/ds-typography';\n\nimport { loremIpsum } from './testUtils/storybook.testing.utils';\n\nconst meta = {\n  component: Popover.Content,\n  title: 'Tester/Popover/Content',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    // Aria\n  },\n  render: (args): JSX.Element => (\n    <Popover isOpen>\n      <Popover.Content {...args} />\n    </Popover>\n  ),\n} satisfies Meta<typeof Popover.Content>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultText =\n  'Avvist av kortutsteder. Ta kontakt med kortutsteder for mer informasjon.';\n\nconst defaultArgs = {\n  children: defaultText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    console.log(canvas.getAllByRole('generic'));\n    await expect(container).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'en',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'htmlId');\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('lang', 'en');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const WithMarkup = {\n  name: 'With Markup (A2)',\n  args: {\n    ...defaultArgs,\n    children: (\n      <>\n        <Heading as={'h1'} level={4}>\n          {'Avvist av kortutsteder'}\n        </Heading>\n        <Paragraph>\n          {'Ta kontakt med kortutsteder for '}\n          <a href={'#storybook-root'}>{'mer informasjon'}</a>\n        </Paragraph>\n      </>\n    ),\n  },\n  argTypes: {\n    children: {\n      table: { disable: false },\n      control: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const VerticalScroll = {\n  name: 'With Scroll (A7)',\n  args: {\n    children: loremIpsum.repeat(100),\n  },\n} satisfies Story;\n"],"names":["meta","component","Popover","Content","title","argTypes","ref","table","disable","className","id","lang","children","control","render","args","jsx","defaultText","defaultArgs","WithRef","name","instance","parameters","imageSnapshot","play","canvasElement","canvas","within","container","getAllByRole","console","log","expect","toHaveAttribute","WithAttributes","toHaveClass","WithMarkup","jsxs","Fragment","Heading","Paragraph","VerticalScroll","loremIpsum","repeat","docs","source","originalSource"],"mappings":"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"}