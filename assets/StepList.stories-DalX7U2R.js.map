{"version":3,"file":"StepList.stories-DalX7U2R.js","sources":["../../../../apps/ds-playground/src/stories/components/StepList.stories.tsx"],"sourcesContent":["import { useId, useState, JSX } from 'react';\n\nimport { OpenClose, StepList } from '@skatteetaten/ds-collections';\nimport { ErrorSummary, RadioGroup } from '@skatteetaten/ds-forms';\nimport { List, Paragraph } from '@skatteetaten/ds-typography';\nimport { Meta, StoryObj } from '@storybook/react';\n\nimport { category } from '../../../.storybook/helpers';\nimport { exampleParameters } from '../utils/stories.utils';\n\nconst meta = {\n  component: StepList,\n  title: 'Komponenter/StepList/StepList',\n  argTypes: {\n    // Props\n    children: { table: { category: category.props } },\n  },\n  args: {\n    children: [\n      <StepList.Step\n        key={'step2'}\n        stepNumber={1}\n        title={'Overskrift'}\n        variant={'active'}\n      >\n        {'Innhold'}\n      </StepList.Step>,\n      <StepList.Step key={'step1'} stepNumber={2} title={'Overskrift'}>\n        {'Innhold'}\n      </StepList.Step>,\n    ],\n  },\n} satisfies Meta<typeof StepList>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Preview: Story = {} satisfies Story;\n\nexport const Examples: Story = {\n  render: (_args): JSX.Element => {\n    const stepId = useId();\n    const [activeStep, setActiveStep] = useState(1);\n    const [step3, setStep3] = useState<string | undefined>(undefined);\n    const [hasStep3Error, setHasStep3Error] = useState(false);\n\n    const onNext = (): void => {\n      const nextStep = activeStep + 1;\n      setActiveStep(nextStep);\n      setTimeout((): void => {\n        const el = document.getElementById(\n          `${stepId}-${nextStep}-focus-target`\n        );\n        el?.focus();\n      }, 0);\n    };\n\n    return (\n      <StepList>\n        {activeStep >= 1 && (\n          <StepList.Step\n            id={`${stepId}-1`}\n            variant={activeStep === 1 ? 'active' : 'passive'}\n            title={'Hva holder du på med?'}\n            stepNumber={1}\n            onEdit={\n              activeStep > 1 && activeStep < 4\n                ? (): void => setActiveStep(1)\n                : undefined\n            }\n            onNext={onNext}\n          >\n            {'Varer og tjenester'}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 2 && (\n          <StepList.Step\n            id={`${stepId}-2`}\n            variant={activeStep === 2 ? 'active' : 'passive'}\n            title={'Hva gjør du?'}\n            stepNumber={2}\n            onEdit={\n              activeStep > 2 && activeStep < 4\n                ? (): void => setActiveStep(2)\n                : undefined\n            }\n            onNext={onNext}\n          >\n            {'Selger'}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 3 && (\n          <StepList.Step\n            id={`${stepId}-3`}\n            variant={activeStep === 3 ? 'active' : 'passive'}\n            title={'Salg av varer og tjenester'}\n            stepNumber={3}\n            onNext={(): void => {\n              if (step3) {\n                onNext();\n              } else {\n                setHasStep3Error(true);\n              }\n            }}\n          >\n            {activeStep === 3 ? (\n              <>\n                <OpenClose title={'Hva er egen regning og risiko?'}>\n                  <Paragraph hasSpacing>\n                    {\n                      'At du driver for egen regning og risiko innebærer at det er du som har det økonomiske ansvaret for gjeld og forpliktelser. Det innebærer også at det er du som dekker kostnadene i virksomheten, for eksempel kostnader til materiale eller andre driftskostnader.'\n                    }{' '}\n                  </Paragraph>\n                  <Paragraph>\n                    {\n                      'I tillegg vil du ha det kontraktsmessige ansvaret for at oppdrag blir utført og ansvar for å dekke et eventuelt underskudd.'\n                    }\n                  </Paragraph>\n                </OpenClose>\n                <RadioGroup\n                  id={'step3radio'}\n                  legend={\n                    'Selger du varer og tjenester for egen regning og risiko? Selger du varer og tjenester for egen regning og risiko? Selger du varer og tjenester for egen regning og risiko?'\n                  }\n                  errorMessage={\n                    hasStep3Error\n                      ? 'Kryss av hvorvidt du selger varer  og tjenester'\n                      : undefined\n                  }\n                  hideLegend\n                  onChange={(e): void => {\n                    setHasStep3Error(false);\n                    setStep3(e.target.value);\n                  }}\n                >\n                  <RadioGroup.Radio value={'ja'}>{'Ja'}</RadioGroup.Radio>\n                  <RadioGroup.Radio value={'nei'}>{'Nei'}</RadioGroup.Radio>\n                </RadioGroup>\n                <ErrorSummary showErrorSummary={hasStep3Error}>\n                  <ErrorSummary.Error referenceId={'step3radio'}>\n                    {'Selger du varer og tjenester for egen regning?'}\n                  </ErrorSummary.Error>\n                </ErrorSummary>\n              </>\n            ) : (\n              <div>{step3}</div>\n            )}\n          </StepList.Step>\n        )}\n\n        {activeStep >= 4 && step3 === 'ja' && (\n          <StepList.Step\n            id={`${stepId}-4`}\n            title={'Vårt veiledende svar'}\n            variant={'positiveResult'}\n            stepNumber={4}\n            introTitle={'Virksomheten skal registreres som særavgiftspliktig.'}\n            introTitleAs={'h4'}\n            introContent={\n              <Paragraph>\n                {\n                  'For å bli registrert må du sende en søknad til Skatteetaten. Nedenfor beskriver vi hvordan du går frem og hva du må dokumentere.'\n                }\n              </Paragraph>\n            }\n          >\n            <Paragraph>{'Du må gjøre følgende:'}</Paragraph>\n            <List as={'ol'}>\n              <List.Element>\n                {'Du må bestemme hvilken organisasjonsform som passer best.'}\n              </List.Element>\n              <List.Element>\n                {\n                  'Registrere bedriften i Enhetsregisteret ved å fylle ut Samordnet'\n                }\n                {'registermelding'}\n              </List.Element>\n              <List.Element>\n                {\n                  'Dersom bedriften din har avgiftspliktig omsetning og/eller uttak'\n                }\n                {\n                  'overstiger kr 50 000 i løpet av en 12 måneders periode, må du'\n                }\n                {'registrere virksomheten i Merverdiavgiftsregisteret.'}\n              </List.Element>\n            </List>\n          </StepList.Step>\n        )}\n\n        {activeStep >= 4 && step3 === 'nei' && (\n          <StepList.Step\n            id={`${stepId}-4`}\n            title={'neutralt resultat'}\n            variant={'neutralResult'}\n            stepNumber={4}\n          >\n            {'more brødtekst'}\n          </StepList.Step>\n        )}\n      </StepList>\n    );\n  },\n} satisfies Story;\nExamples.parameters = exampleParameters;\n"],"names":["meta","component","StepList","title","argTypes","children","table","category","props","args","jsx","Preview","Examples","render","_args","stepId","useId","activeStep","setActiveStep","useState","step3","setStep3","undefined","hasStep3Error","setHasStep3Error","onNext","nextStep","setTimeout","el","document","getElementById","focus","jsxs","Fragment","OpenClose","Paragraph","RadioGroup","e","target","value","ErrorSummary","List","parameters","exampleParameters","docs","source","originalSource"],"mappings":"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"}