{"version":3,"file":"Help-BJCAuNeo.js","sources":["../../../../libs/ds-forms/src/Help/Help.tsx"],"sourcesContent":["import { JSX, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { IconButton } from '@skatteetaten/ds-buttons';\nimport {\n  dsI18n,\n  getHelpTitleHelpSvgDefault,\n} from '@skatteetaten/ds-core-utils';\nimport { CancelSVGpath, HelpSimpleSVGpath } from '@skatteetaten/ds-icons';\n\nimport { HelpProps } from './Help.types';\n\nimport styles from './Help.module.scss';\n\nexport const Help = ({\n  description,\n  descriptionId,\n  helpText,\n  helpSvgPath,\n  hideHelp,\n  targetId,\n  titleHelpSvg = getHelpTitleHelpSvgDefault(),\n  onHelpToggle,\n  className,\n  classNames,\n}: HelpProps): JSX.Element => {\n  const { t } = useTranslation('Shared', { i18n: dsI18n });\n\n  const [showHelpText, setShowHelpText] = useState(false);\n  const helpButtonRef = useRef<HTMLButtonElement>(null);\n\n  const svgHelpIcon = helpSvgPath ?? HelpSimpleSVGpath;\n\n  const toggleHelpText = (): void => {\n    onHelpToggle?.(!showHelpText);\n    setShowHelpText(!showHelpText);\n  };\n\n  const closeHelpText = (): void => {\n    setShowHelpText(false);\n    helpButtonRef.current?.focus();\n    onHelpToggle?.(false);\n  };\n\n  const marginTopClassName = showHelpText ? styles.descriptionMarginTop : '';\n  const hideHelpClassName = hideHelp ? styles.srOnly : '';\n\n  return (\n    <>\n      {helpText && (\n        <IconButton\n          ref={helpButtonRef}\n          className={`${styles.helpButton} ${hideHelpClassName}`.trim()}\n          svgPath={svgHelpIcon}\n          title={titleHelpSvg}\n          size={'extraSmall'}\n          ariaExpanded={showHelpText}\n          ariaDescribedby={targetId}\n          isOutlined\n          onClick={(): void => toggleHelpText()}\n        />\n      )}\n      {helpText && showHelpText && (\n        <div\n          className={`${styles.helpBox} ${hideHelpClassName} ${\n            className ?? ''\n          } ${classNames?.helpText ?? ''}`.trim()}\n        >\n          <div className={styles.helpBoxText}>{helpText}</div>\n          <IconButton\n            className={styles.helpBoxCloseButton}\n            size={'small'}\n            svgPath={CancelSVGpath}\n            title={t('shared.Close')}\n            onClick={(): void => closeHelpText()}\n          />\n        </div>\n      )}\n      {description && (\n        <div\n          id={descriptionId}\n          className={`${\n            styles.description\n          } ${marginTopClassName} ${hideHelpClassName} ${\n            classNames?.description ?? ''\n          }`.trim()}\n        >\n          {description}\n        </div>\n      )}\n    </>\n  );\n};\n\nHelp.displayName = 'Help';\n\nexport { getHelpTitleHelpSvgDefault };\n"],"names":["cov_eoaz7z4ej","actualCoverage","Help","description","descriptionId","helpText","helpSvgPath","hideHelp","targetId","titleHelpSvg","onHelpToggle","getHelpTitleHelpSvgDefault","className","classNames","t","i18n","dsI18n","helpButtonRef","useState","svgHelpIcon","HelpSimpleSVGpath","toggleHelpText","s","showHelpText","setShowHelpText","closeHelpText","current","hideHelpClassName","styles","srOnly","Fragment","ref","jsx","IconButton","svgPath","title","size","ariaExpanded","ariaDescribedby","isOutlined","onClick","helpBox","b","children","helpBoxText","helpBoxCloseButton","CancelSVGpath","id"],"mappings":"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"}