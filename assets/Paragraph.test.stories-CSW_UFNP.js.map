{"version":3,"file":"Paragraph.test.stories-CSW_UFNP.js","sources":["../../../../libs/ds-typography/src/Paragraph/Paragraph.types.ts","../../../../apps/ds-playground/src/stories/__tests__/Paragraph.test.stories.tsx"],"sourcesContent":["import { ReactNode } from 'react';\n\nimport { BaseProps } from '@skatteetaten/ds-core-utils';\n\nexport const paragraphVariantArr = ['standard', 'ingress'] as const;\nexport type ParagraphVariant = (typeof paragraphVariantArr)[number];\n\nexport interface ParagraphProps extends BaseProps {\n  /** Tekst og markup for avsnittet */\n  children: ReactNode;\n  /** Margin under avsnittet */\n  hasSpacing?: boolean;\n  /** Definerer stilen til avsnittet */\n  variant?: ParagraphVariant;\n  /** Lar komponenten være fokuserbar ved å sett tabIndex: -1 */\n  canBeManuallyFocused?: boolean;\n}\n","import { StoryFn, Meta, StoryObj } from '@storybook/react';\nimport { expect, within } from '@storybook/test';\n\nimport {\n  Paragraph,\n  ParagraphProps,\n  paragraphVariantArr,\n} from '@skatteetaten/ds-typography';\n\nimport { loremIpsum, wrapper } from './testUtils/storybook.testing.utils';\n\nconst meta = {\n  component: Paragraph,\n  title: 'Tester/Paragraph',\n  argTypes: {\n    // Baseprops\n    key: { table: { disable: true } },\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    canBeManuallyFocused: { table: { disable: true } },\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    hasSpacing: { table: { disable: true } },\n    variant: {\n      table: { disable: true },\n      options: [...paragraphVariantArr],\n      control: 'radio',\n    },\n  },\n} satisfies Meta<typeof Paragraph>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultArgs: ParagraphProps = {\n  children: loremIpsum,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLParagraphElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: { imageSnapshot: { disable: true } },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const paragraph = canvas.getByText(loremIpsum);\n    await expect(paragraph).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const paragraph = canvas.getByText(loremIpsum);\n    await expect(paragraph).toHaveClass('dummyClassname');\n    await expect(paragraph).toHaveAttribute('id', 'htmlId');\n    await expect(paragraph).toHaveAttribute('lang', 'nb');\n    await expect(paragraph).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const IsPElement = {\n  name: 'Is <p>-element (B1)',\n  args: {\n    ...defaultArgs,\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByText(loremIpsum).nodeName).toBe('P');\n  },\n} satisfies Story;\n\nconst TemplateWithMarkup: StoryFn<typeof Paragraph> = (args) => (\n  <Paragraph {...args}>\n    <span>\n      {'Tekstavsnitt som kan inneholde en lengre tekst. Husk å følge klarspråkprinsippene når en skriver tekster. ' +\n        'I dette tilfellet skriver bare litt ekstra tekst for å få litt '}\n      <strong>{'innhold '}</strong>\n      {', men '}\n      <em>{'normalt '}</em>\n      {\n        'vil en ønske å skrive så konsentret som mulig. Mange brukere leser bare de første ordene i en tekst, eller hopper ganske enkelt over den. Dette er en '\n      }\n      <a\n        href={\n          'https://www.yr.no/nb/v%C3%A6rvarsel/daglig-tabell/2-460499/Latvia/Bauskas%20Rajons/Codes%20pagasts/Code'\n        }\n      >\n        {'lenke'}\n      </a>\n      {' for å sjekke været i '}\n      <code>{'Code '}</code>\n      {'som er en '}\n      <small>{'small '}</small>\n      {'landsby i et land med mange '}\n      <mark>{'mark '}</mark>\n      {'og et språk uten '}\n      <b>{'b '}</b>\n      {'eller '}\n      <i>{'i'}</i>\n      {'.'}\n    </span>\n  </Paragraph>\n);\n\nexport const WithMarkup = {\n  render: TemplateWithMarkup,\n  name: 'With Markup (A2, B2)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    children: {\n      table: { disable: false },\n      control: { disable: true },\n    },\n  },\n  parameters: {\n    imageSnapshot: {\n      hover: `${wrapper} > p a`,\n      focus: `${wrapper} > p a`,\n    },\n  },\n} satisfies Story;\n\nconst TemplateWithTwoParagraphs: StoryFn<typeof Paragraph> = (args) => (\n  <>\n    <Paragraph {...args} />\n    <Paragraph {...args} />\n  </>\n);\n\nexport const Defaults = {\n  render: TemplateWithTwoParagraphs,\n  name: 'Defaults Variant Standard (A1, B2)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const VariantIngress = {\n  render: TemplateWithTwoParagraphs,\n  name: 'Variant Ingress (A1)',\n  args: {\n    ...defaultArgs,\n    variant: 'ingress',\n  },\n  argTypes: {\n    variant: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const WithSpacing = {\n  render: TemplateWithTwoParagraphs,\n  name: 'With Spacing Variant Standard (A3)',\n  args: {\n    ...defaultArgs,\n    hasSpacing: true,\n  },\n  argTypes: {\n    hasSpacing: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const VariantIngressWithSpacing = {\n  render: TemplateWithTwoParagraphs,\n  name: 'With Spacing Variant Ingress (A3)',\n  args: {\n    ...defaultArgs,\n    hasSpacing: true,\n    variant: 'ingress',\n  },\n  argTypes: {\n    hasSpacing: { table: { disable: false } },\n    variant: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const WithCanBeManuallyFocused: Story = {\n  render: TemplateWithTwoParagraphs,\n  args: {\n    ...defaultArgs,\n    canBeManuallyFocused: true,\n  },\n  argTypes: {\n    canBeManuallyFocused: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const paragraph = canvas.getAllByText(loremIpsum)[1];\n    paragraph.focus();\n    await expect(paragraph).toBeInTheDocument();\n    await expect(paragraph).toHaveAttribute('tabIndex', '-1');\n  },\n} satisfies Story;\n"],"names":["paragraphVariantArr","meta","component","Paragraph","title","argTypes","key","table","disable","ref","className","id","lang","canBeManuallyFocused","children","control","hasSpacing","variant","options","defaultArgs","loremIpsum","WithRef","name","args","instance","parameters","imageSnapshot","play","canvasElement","paragraph","within","getByText","expect","toHaveAttribute","WithAttributes","toHaveClass","IsPElement","canvas","nodeName","toBe","TemplateWithMarkup","jsx","WithMarkup","render","hover","wrapper","focus","TemplateWithTwoParagraphs","jsxs","Fragment","Defaults","VariantIngress","WithSpacing","VariantIngressWithSpacing","WithCanBeManuallyFocused","getAllByText","toBeInTheDocument","docs","source","originalSource"],"mappings":"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"}