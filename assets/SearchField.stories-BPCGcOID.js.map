{"version":3,"file":"SearchField.stories-BPCGcOID.js","sources":["../../../../apps/ds-playground/src/stories/components/SearchField.stories.tsx"],"sourcesContent":["import React, { JSX, useMemo, useState } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react';\n\nimport {\n  getAutoCompletePropDescription,\n  getCommonAutoCompleteDefault,\n  getCommonFormVariantDefault,\n  getHelpTitleHelpSvgDefault,\n} from '@skatteetaten/ds-core-utils';\nimport {\n  getEnableSRNavigationHintDefault,\n  getSearchFieldHasSearchButtonIconDefault,\n  SearchField,\n  searchInList,\n} from '@skatteetaten/ds-forms';\n\nimport { category, htmlEventDescription } from '../../../.storybook/helpers';\nimport { SystemSVGPaths } from '../utils/icon.systems';\nimport { exampleParameters } from '../utils/stories.utils';\n\nconst meta = {\n  component: SearchField,\n  title: 'Komponenter/SearchField',\n  argTypes: {\n    // Props\n    classNames: { control: false, table: { category: category.props } },\n    clearButtonTitle: { table: { category: category.props } },\n    searchButtonTitle: { table: { category: category.props } },\n    results: { control: false, table: { category: category.props } },\n    hasSearchButtonIcon: {\n      table: {\n        category: category.props,\n        defaultValue: {\n          summary: getSearchFieldHasSearchButtonIconDefault().toString(),\n        },\n      },\n    },\n    defaultValue: { control: 'text', table: { category: category.props } },\n    description: { table: { category: category.props } },\n    errorMessage: { table: { category: category.props } },\n    hasSpacing: { table: { category: category.props } },\n    label: { table: { category: category.props } },\n    helpSvgPath: {\n      options: Object.keys(SystemSVGPaths),\n      mapping: SystemSVGPaths,\n      table: {\n        category: category.props,\n        defaultValue: { summary: 'HelpSimpleSVGpath' },\n      },\n    },\n    helpText: { control: 'text', table: { category: category.props } },\n    hideLabel: { table: { category: category.props } },\n    enableSRNavigationHint: {\n      table: {\n        category: category.props,\n        defaultValue: {\n          summary: getEnableSRNavigationHintDefault().toString(),\n        },\n      },\n    },\n    showRequiredMark: { table: { category: category.props } },\n    titleHelpSvg: {\n      table: {\n        category: category.props,\n        defaultValue: { summary: getHelpTitleHelpSvgDefault() },\n      },\n    },\n    variant: {\n      control: 'inline-radio',\n      table: {\n        category: category.props,\n        defaultValue: { summary: getCommonFormVariantDefault() },\n      },\n    },\n    // HTML\n    accessKey: {\n      table: { category: category.htmlAttribute },\n    },\n    autoComplete: {\n      table: {\n        category: category.htmlAttribute,\n        defaultValue: { summary: getCommonAutoCompleteDefault() },\n        type: { summary: 'string' },\n      },\n      type: 'string',\n      description: getAutoCompletePropDescription(),\n    },\n    disabled: { table: { category: category.htmlAttribute } },\n    form: { table: { category: category.htmlAttribute } },\n    name: { table: { category: category.htmlAttribute } },\n    placeholder: {\n      table: { category: category.htmlAttribute },\n    },\n    readOnly: { table: { category: category.htmlAttribute } },\n    required: { table: { category: category.htmlAttribute } },\n    value: {\n      control: 'text',\n      table: { category: category.htmlAttribute },\n    },\n    // Events\n    onBlur: { ...htmlEventDescription },\n    onChange: { ...htmlEventDescription },\n    onClear: { ...htmlEventDescription },\n    onFocus: { ...htmlEventDescription },\n    onHelpToggle: { control: false, table: { category: category.event } },\n    onResultClick: { ...htmlEventDescription },\n    onSearch: { ...htmlEventDescription },\n    onSearchClick: { ...htmlEventDescription },\n  },\n  args: {\n    label: 'Søk etter grønnsaker',\n  },\n} satisfies Meta<typeof SearchField>;\n\nexport default meta;\ntype Story = StoryObj<typeof SearchField>;\n\nexport const Preview: Story = {};\n\nexport const Examples: Story = {\n  render: (_args): JSX.Element => {\n    const [value, setValue] = useState<string>('');\n    const [simpleValue, setSimpleValue] = useState<string>('');\n\n    const options = useMemo(() => {\n      return [\n        {\n          title: 'Agurk',\n          description:\n            'En forfriskende grønnsak som er flott i salater eller som en sunn snack.',\n        },\n        {\n          title: 'Artisjokk',\n          description:\n            'Den spiselige bunnen av artisjokkblomsten, ofte tilberedt ved å koke eller dampe.',\n        },\n        {\n          title: 'Bladbete',\n          description:\n            'Bladene og stilken til denne grønnsaken kan brukes i matlaging.',\n        },\n        {\n          title: 'Endivie',\n          description:\n            'En type salat med litt bitre blader, perfekt for salatblandinger.',\n        },\n        {\n          title: 'Ert',\n          description:\n            'Sukkererter er en deilig grønnsak som kan spises rå eller lett kokt.',\n        },\n        {\n          title: 'Fennikel',\n          description:\n            'Denne knollgrønnsaken har en mild anissmak og kan brukes i supper eller salater.',\n        },\n        {\n          title: 'Grønnkål',\n          description:\n            'En næringsrik bladgrønnsak som kan stekes, kokes eller brukes i smoothies.',\n        },\n        {\n          title: 'Hvitløk',\n          description:\n            'Selv om den teknisk sett er en løk, brukes hvitløk ofte som en smakstilsetning i matlaging.',\n        },\n        {\n          title: 'Jordskokk',\n          description:\n            'En rotgrønnsak med nøtteaktig smak, også kjent som \"jordskollar\" eller \"topinambur\".',\n        },\n        {\n          title: 'Mangold',\n          description:\n            'En bladgrønnsak med røde eller gule stilker, ligner litt på bete.',\n        },\n        {\n          title: 'Pastinakk',\n          description:\n            'En søt og aromatisk rotgrønnsak, flott i supper og stuinger.',\n        },\n        {\n          title: 'Purreløk',\n          description:\n            'En mild løkvariant med lange, grønne stilker, ideell for supper og sauser.',\n        },\n        {\n          title: 'Rosenkål',\n          description:\n            'Små, tette kålhoder som blir søtere når de blir kokt eller stekt.',\n        },\n        {\n          title: 'Sellerirot',\n          description:\n            'En rotgrønnsak med en karakteristisk smak, ofte brukt i supper og gryteretter.',\n        },\n        {\n          title: 'Spinat',\n          description:\n            'En næringsrik bladgrønnsak som kan brukes i salater, omeletter eller smoothies.',\n        },\n        {\n          title: 'Sukkermais',\n          description:\n            'Søte maiskolber som kan grilles, kokes eller spises rå.',\n        },\n        {\n          title: 'Tomat',\n          description:\n            'Teknisk sett en frukt, men ofte brukt som en grønnsak i matlaging.',\n        },\n        {\n          title: 'Vårløk',\n          description:\n            'Tynne, grønne løk med mild smak, flott som garnityr eller i salater.',\n        },\n        {\n          title: 'Sjalottløk',\n          description:\n            'Sjalottløk har en mild og søt smak, og er flott i sauser og dressinger.',\n        },\n        {\n          title: 'Rødløk',\n          description:\n            'Rødløk gir en fin farge og en litt skarp smak til salater og sandwicher.',\n        },\n        {\n          title: 'Sølvløk',\n          description:\n            'Sølvløk er små, oftest helt runde og hvite kepaløk med mild smak. De brukes rå i salater eller syltet, gjerne som pickles.',\n        },\n        {\n          title: 'Zucchini',\n          description:\n            'En type squash med mykt skall, perfekt for steking eller grilling.',\n        },\n        {\n          title: 'Østerssopp',\n          description: 'En deilig soppvariant som kan brukes i ulike retter.',\n        },\n        {\n          title: 'Aubergine',\n          description:\n            'Også kjent som eggplante, flott for grilling eller steking.',\n        },\n        {\n          title: 'Blomkål',\n          description:\n            'En hvit blomstrende grønnsak som kan brukes i alt fra gratenger til risotto.',\n        },\n        {\n          title: 'Cherrytomat',\n          description:\n            'Små, søte tomater som er perfekte for salater eller snacks.',\n        },\n        {\n          title: 'Dill',\n          description:\n            'En urt med delikat smak, ofte brukt i sauser og dressinger.',\n        },\n        {\n          title: 'Gresskar',\n          description:\n            'En stor, oransje grønnsak som kan brukes i supper eller bakverk.',\n        },\n        {\n          title: 'Hodekål',\n          description:\n            'En tett, rund kål som er flott for surkål eller coleslaw.',\n        },\n        {\n          title: 'Ingefær',\n          description:\n            'En rotgrønnsak med krydret smak, brukt i matlaging og te.',\n        },\n      ];\n    }, []);\n\n    const results = useMemo(\n      () => (value.length >= 3 ? searchInList(options, value) : undefined),\n      [value, options]\n    );\n\n    const simpleResults = useMemo(() => {\n      return simpleValue.length >= 3\n        ? searchInList(\n            options.map((option) => ({\n              description: option.title,\n            })),\n            simpleValue\n          )\n        : undefined;\n    }, [options, simpleValue]);\n\n    return (\n      <>\n        <SearchField\n          label={'Søk etter grønnsaker'}\n          value={value}\n          results={results}\n          placeholder={'Eksempel: tomat'}\n          hideLabel={false}\n          onChange={(event) => {\n            setValue(event.target.value);\n          }}\n          onSearch={() => alert('søk')}\n          onSearchClick={() => alert('søk med knapp')}\n          onClear={() => setValue('')}\n          onResultClick={(result) => {\n            alert(`${result.title}: ${result.description}`);\n          }}\n        />\n\n        <SearchField\n          label={'Søk etter grønnsaker uten beskrivelse'}\n          helpText={'HJELP!'}\n          value={simpleValue}\n          results={simpleResults}\n          placeholder={'Eksempel: agurk'}\n          hideLabel={false}\n          onChange={(event) => {\n            setSimpleValue(event.target.value);\n          }}\n          onSearch={() => alert('søk')}\n          onSearchClick={() => alert('søk med knapp')}\n          onClear={() => setSimpleValue('')}\n          onResultClick={(result) => {\n            alert(result.description);\n          }}\n        />\n        <form>\n          <SearchField label={'uncontrolled'} hideLabel={false} />\n        </form>\n      </>\n    );\n  },\n};\nExamples.parameters = exampleParameters;\n"],"names":["meta","component","SearchField","title","argTypes","classNames","control","table","category","props","clearButtonTitle","searchButtonTitle","results","hasSearchButtonIcon","defaultValue","summary","getSearchFieldHasSearchButtonIconDefault","toString","description","errorMessage","hasSpacing","label","helpSvgPath","options","Object","keys","SystemSVGPaths","mapping","helpText","hideLabel","enableSRNavigationHint","getEnableSRNavigationHintDefault","showRequiredMark","titleHelpSvg","getHelpTitleHelpSvgDefault","variant","getCommonFormVariantDefault","accessKey","htmlAttribute","autoComplete","getCommonAutoCompleteDefault","type","getAutoCompletePropDescription","disabled","form","name","placeholder","readOnly","required","value","onBlur","htmlEventDescription","onChange","onClear","onFocus","onHelpToggle","event","onResultClick","onSearch","onSearchClick","args","Preview","Examples","render","_args","setValue","useState","simpleValue","setSimpleValue","useMemo","length","searchInList","undefined","simpleResults","map","option","jsxs","Fragment","jsx","target","alert","result","parameters","exampleParameters","docs","source","originalSource"],"mappings":"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"}