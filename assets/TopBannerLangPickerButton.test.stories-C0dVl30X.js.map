{"version":3,"file":"TopBannerLangPickerButton.test.stories-C0dVl30X.js","sources":["../../../../apps/ds-playground/src/assets/no-flag.svg","../../../../apps/ds-playground/src/stories/__tests__/TopBannerLangPickerButton.test.stories.tsx"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='uuid-b0272ea8-d483-4731-ab86-7400d47091d0'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201100%20800'%20focusable='false'%20aria-hidden='true'%3e%3cpolygon%20points='500%200%20450%200%20450%20350%201100%20350%201100%20300%20500%20300%20500%200'%20style='fill:%23fff;'/%3e%3cpolygon%20points='450%20450%20450%20800%20500%20800%20500%20500%201100%20500%201100%20450%20450%20450'%20style='fill:%23fff;'/%3e%3cpolygon%20points='350%20450%200%20450%200%20500%20300%20500%20300%20800%20350%20800%20350%20450'%20style='fill:%23fff;'/%3e%3cpolygon%20points='350%20350%20350%200%20300%200%20300%20300%200%20300%200%20350%20350%20350'%20style='fill:%23fff;'/%3e%3crect%20width='300'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20x='500'%20width='600'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20y='500'%20width='300'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3crect%20x='500'%20y='500'%20width='600'%20height='300'%20style='fill:%23ef2b2d;'/%3e%3cpolygon%20points='450%20350%20450%200%20350%200%20350%20350%200%20350%200%20450%20350%20450%20350%20800%20450%20800%20450%20450%201100%20450%201100%20350%20450%20350'%20style='fill:%23002868;'/%3e%3c/svg%3e\"","import { MouseEvent, useState } from 'react';\n\nimport { Meta, StoryFn, StoryObj } from '@storybook/react';\nimport { expect, userEvent, within, waitFor, fn } from '@storybook/test';\n\nimport { wrapper } from './testUtils/storybook.testing.utils';\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLangPickerButton } from '../../../../../libs/ds-layout/src/TopBannerLangPickerButton/TopBannerLangPickerButton';\n// eslint-disable-next-line @nx/enforce-module-boundaries\nimport { TopBannerLangPickerButtonProps } from '../../../../../libs/ds-layout/src/TopBannerLangPickerButton/TopBannerLangPickerButton.types';\nimport { ReactComponent as NorwegianFlagIcon } from '../../assets/no-flag.svg';\n\nconst meta = {\n  component: TopBannerLangPickerButton,\n  title: 'Tester/TopBanner/TopBannerLangPickerButton (intern)',\n  argTypes: {\n    // Baseprops\n    key: { table: { disable: true } },\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    classNames: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    flagIcon: { table: { disable: true } },\n    children: { table: { disable: true } },\n    // Aria\n    ariaCurrent: { table: { disable: true } },\n    // Events\n    onClick: { table: { disable: true } },\n  },\n} as Meta<typeof TopBannerLangPickerButton>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst buttonText = 'Bokmål';\nconst defaultArgs: TopBannerLangPickerButtonProps = {\n  flagIcon: <NorwegianFlagIcon />,\n  children: buttonText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLButtonElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlid',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toHaveAttribute('id', 'htmlid');\n    await expect(button).toHaveClass('dummyClassname');\n    await expect(button).toHaveAttribute('lang', 'nb');\n    await expect(button).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (LanguagePicker A1, B1, B2, C1 delvis)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    flagIcon: { table: { disable: false } },\n    children: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: {\n      focus: `${wrapper} > button`,\n      hover: `${wrapper} > button`,\n      click: `${wrapper} > button`,\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: buttonText });\n    await expect(button).toBeInTheDocument();\n\n    const flagSvg = button.querySelector('svg');\n    await expect(flagSvg).toBeInTheDocument();\n    await expect(flagSvg).toHaveAttribute('aria-hidden', 'true');\n  },\n} satisfies Story;\n\nexport const WithAriaCurrent = {\n  name: 'With AriaCurrent (LanguagePicker A1, B2)',\n  args: {\n    ...defaultArgs,\n    ariaCurrent: true,\n  },\n  argTypes: {\n    ariaCurrent: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: buttonText });\n    await expect(button).toHaveAttribute('aria-current', 'true');\n\n    const checkSvg = button.querySelectorAll('svg')[1];\n    await expect(checkSvg).toBeInTheDocument();\n    await expect(checkSvg).toHaveAttribute('aria-hidden', 'true');\n  },\n} satisfies Story;\n\nconst EventHandlersTemplate: StoryFn<typeof TopBannerLangPickerButton> = (\n  args\n) => {\n  const [buttonText, setButtonText] = useState('Klikk på meg');\n  return (\n    <TopBannerLangPickerButton\n      {...args}\n      onClick={(event: MouseEvent<HTMLButtonElement>): void => {\n        setButtonText('Blitt klikket på');\n        args.onClick && args.onClick(event);\n      }}\n    >\n      {buttonText}\n    </TopBannerLangPickerButton>\n  );\n};\n\nexport const WithEventHandlers = {\n  render: EventHandlersTemplate,\n  name: 'With EventHandlers (LanguagePicker A4)',\n  args: {\n    ...defaultArgs,\n    onClick: fn(),\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ args, canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toBeInTheDocument();\n    await userEvent.click(button);\n    await waitFor(() => expect(args.onClick).toHaveBeenCalled());\n  },\n} satisfies Story;\n"],"names":["_extends","n","e","r","SvgNoFlag","props","React.createElement","meta","component","TopBannerLangPickerButton","title","argTypes","key","table","disable","ref","className","classNames","id","lang","flagIcon","children","ariaCurrent","onClick","buttonText","defaultArgs","NorwegianFlagIcon","WithRef","name","args","instance","parameters","imageSnapshot","play","canvasElement","button","within","getByRole","expect","toHaveAttribute","WithAttributes","toHaveClass","Defaults","focus","wrapper","hover","click","toBeInTheDocument","flagSvg","querySelector","WithAriaCurrent","checkSvg","querySelectorAll","EventHandlersTemplate","setButtonText","useState","event","WithEventHandlers","render","fn","userEvent","waitFor","toHaveBeenCalled","docs","source","originalSource"],"mappings":"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"}