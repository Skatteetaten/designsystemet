{"version":3,"file":"Tag.test.stories-BZtrGreD.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/Tag.test.stories.tsx"],"sourcesContent":["import { Meta, StoryObj } from '@storybook/react';\nimport { expect, within } from '@storybook/test';\n\nimport { sizeArr } from '@skatteetaten/ds-core-utils';\nimport { WarningSVGpath } from '@skatteetaten/ds-icons';\nimport { Tag } from '@skatteetaten/ds-status';\n\nimport { SystemSVGPaths } from '../utils/icon.systems';\n\nconst meta = {\n  component: Tag,\n  title: 'Tester/Tag',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    canBeManuallyFocused: { table: { disable: false } },\n    children: {\n      table: { disable: false },\n      control: 'text',\n    },\n    svgPath: {\n      table: { disable: true },\n      options: Object.keys(SystemSVGPaths),\n      mapping: SystemSVGPaths,\n    },\n    color: {\n      table: { disable: true },\n    },\n    size: {\n      options: [sizeArr[1], sizeArr[2]],\n      control: 'radio',\n      table: { disable: true },\n    },\n  },\n} satisfies Meta<typeof Tag>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst defaultText = 'SÃ¦ravgift';\n\nconst defaultArgs = {\n  children: defaultText,\n};\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ...defaultArgs,\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disable: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    ...defaultArgs,\n    id: 'htmlId',\n    className: 'dummyClassname',\n    lang: 'en',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const container = canvas.getAllByRole('generic')[1];\n    await expect(container).toHaveAttribute('id', 'htmlId');\n    await expect(container).toHaveClass('dummyClassname');\n    await expect(container).toHaveAttribute('lang', 'en');\n    await expect(container).toHaveAttribute('data-testid', '123ID');\n  },\n} satisfies Story;\n\nexport const DefaultYellow = {\n  name: 'Default Variant (ochre) (A3)',\n  args: {\n    ...defaultArgs,\n  },\n  argTypes: {\n    color: {\n      table: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const DefaultGreen = {\n  name: 'Variant (forest) (A3)',\n  args: {\n    ...defaultArgs,\n    color: 'forest',\n  },\n  argTypes: {\n    color: {\n      table: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const DefaultRed = {\n  name: 'Variant (burgundy) (A3)',\n  args: {\n    ...defaultArgs,\n    color: 'burgundy',\n  },\n  argTypes: {\n    color: {\n      table: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const DefaultGrey: Story = {\n  name: 'Variant (graphite) (A3)',\n  args: {\n    ...defaultArgs,\n    color: 'graphite',\n  },\n  argTypes: {\n    color: {\n      table: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const Small = {\n  name: 'Small (A1)',\n  args: {\n    ...defaultArgs,\n    size: 'small',\n  },\n  argTypes: {\n    size: {\n      table: { disable: true },\n    },\n  },\n} satisfies Story;\n\nexport const WithCustomIcon = {\n  name: 'With Custom Icon (A5)',\n  args: {\n    ...defaultArgs,\n    svgPath: WarningSVGpath,\n    color: 'burgundy',\n  },\n  argTypes: {\n    svgPath: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const WithCanBeManuallyFocused: Story = {\n  args: {\n    ...defaultArgs,\n    svgPath: WarningSVGpath,\n    canBeManuallyFocused: true,\n  },\n  argTypes: {\n    canBeManuallyFocused: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const tag = canvas.getByText(defaultText);\n    tag.focus();\n    await expect(tag).toBeInTheDocument();\n    await expect(tag).toHaveAttribute('tabIndex', '-1');\n  },\n} satisfies Story;\n"],"names":["meta","component","Tag","title","argTypes","ref","table","disable","className","id","lang","canBeManuallyFocused","children","control","svgPath","options","Object","keys","SystemSVGPaths","mapping","color","size","sizeArr","defaultText","defaultArgs","WithRef","name","args","instance","parameters","imageSnapshot","play","canvasElement","container","within","getAllByRole","expect","toHaveAttribute","WithAttributes","toHaveClass","DefaultYellow","DefaultGreen","DefaultRed","DefaultGrey","Small","WithCustomIcon","WarningSVGpath","WithCanBeManuallyFocused","tag","getByText","focus","toBeInTheDocument","docs","source","originalSource"],"mappings":"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"}