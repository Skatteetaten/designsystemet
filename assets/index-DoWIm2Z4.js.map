{"version":3,"file":"index-DoWIm2Z4.js","sources":["../../../../libs/ds-progress/src/Spinner/Spinner.tsx","../../../../libs/ds-progress/src/index.ts"],"sourcesContent":["import React, { forwardRef, JSX, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { dsI18n, getCommonClassNameDefault } from '@skatteetaten/ds-core-utils';\n\nimport {\n  getSpinnerColorDefault,\n  getSpinnerTitlePositionDefault,\n  getSpinnerSizeDefault,\n} from './defaults';\nimport { SpinnerProps } from './Spinner.types';\n\nimport styles from './Spinner.module.scss';\n\nexport const Spinner = forwardRef<HTMLDivElement, SpinnerProps>(\n  (\n    {\n      id,\n      className = getCommonClassNameDefault(),\n      lang,\n      'data-testid': dataTestId,\n      classNames,\n      color = getSpinnerColorDefault(),\n      titlePosition = getSpinnerTitlePositionDefault(),\n      size = getSpinnerSizeDefault(),\n      hideTitle,\n      children,\n    },\n    ref\n  ): JSX.Element => {\n    const { t } = useTranslation('ds_status', { i18n: dsI18n });\n    const [isRendered, setIsRendered] = useState<boolean>(false);\n\n    /**\n     * useEffect sørger for at div med role=status blir rendret før children.\n     * Dette gjør at skjermleser vet at den skal lytte etter tekster som må leses opp.\n     */\n    useEffect(() => {\n      setTimeout(() => {\n        setIsRendered(true);\n      }, 0);\n    }, []);\n\n    const sizeClassname = size ? styles[`spinner_${size}`] : undefined;\n    const colorClassname = color ? styles[`spinner_${color}`] : undefined;\n    const positionClassname =\n      titlePosition === 'right'\n        ? styles.spinner_flexRow\n        : styles.spinner_flexColumn;\n\n    const concatenatedClassnames = `${\n      styles.spinner\n    } ${colorClassname} ${positionClassname} ${sizeClassname} ${className} ${\n      classNames?.container ?? ''\n    }`;\n    return (\n      <div\n        ref={ref}\n        aria-live={'polite'}\n        aria-atomic={'true'}\n        id={id}\n        className={concatenatedClassnames}\n        lang={lang}\n        data-testid={dataTestId}\n      >\n        <div\n          className={`${styles.spinnerAnimation} ${\n            classNames?.animation ?? ''\n          }`}\n        />\n        <span\n          className={`${styles.spinnerTitle} ${\n            hideTitle ? styles.srOnly : ''\n          } ${\n            titlePosition === 'bottom' ? styles.spinnerTitle_centerText : ''\n          } ${classNames?.title ?? ''}`}\n        >\n          {isRendered && (children ?? t('spinner.LoadingLabel'))}\n        </span>\n      </div>\n    );\n  }\n);\n\nSpinner.displayName = 'Spinner';\n\nexport {\n  getSpinnerColorDefault,\n  getSpinnerSizeDefault,\n  getSpinnerTitlePositionDefault,\n};\n","export * from './Spinner/Spinner';\nexport * from './Spinner/Spinner.types';\n"],"names":["cov_24ed8edmps","path","hash","global","gcv","coverageData","coverage","actualCoverage","Spinner","s","forwardRef","id","className","b","getCommonClassNameDefault","lang","dataTestId","classNames","color","getSpinnerColorDefault","titlePosition","getSpinnerTitlePositionDefault","size","getSpinnerSizeDefault","hideTitle","children","ref","f","t","useTranslation","i18n","dsI18n","isRendered","setIsRendered","useState","useEffect","setTimeout","sizeClassname","styles","colorClassname","positionClassname","spinner_flexRow","spinner_flexColumn","concatenatedClassnames","spinner","container","jsxs","jsx","spinnerAnimation","animation","cov_11p84ama68"],"mappings":"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,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA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"}