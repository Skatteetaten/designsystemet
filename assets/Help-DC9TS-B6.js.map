{"version":3,"file":"Help-DC9TS-B6.js","sources":["../../../../libs/ds-forms/src/LabelWithHelp/Help/Help.tsx"],"sourcesContent":["import { JSX, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { IconButton } from '@skatteetaten/ds-buttons';\nimport {\n  dsI18n,\n  getHelpTitleHelpSvgDefault,\n} from '@skatteetaten/ds-core-utils';\nimport { CancelSVGpath, HelpSimpleSVGpath } from '@skatteetaten/ds-icons';\n\nimport { HelpProps } from './Help.types';\n\nimport styles from './Help.module.scss';\n\nexport const Help = ({\n  description,\n  descriptionId,\n  helpText,\n  helpSvgPath,\n  hideHelp,\n  hideDescriptionForScreenReader,\n  targetId,\n  titleHelpSvg = getHelpTitleHelpSvgDefault(),\n  onHelpToggle,\n  className,\n  classNames,\n}: HelpProps): JSX.Element => {\n  const { t } = useTranslation('Shared', { i18n: dsI18n });\n\n  const [showHelpText, setShowHelpText] = useState(false);\n  const helpButtonRef = useRef<HTMLButtonElement>(null);\n\n  const svgHelpIcon = helpSvgPath ?? HelpSimpleSVGpath;\n\n  const toggleHelpText = (): void => {\n    onHelpToggle?.(!showHelpText);\n    setShowHelpText(!showHelpText);\n  };\n\n  const closeHelpText = (): void => {\n    setShowHelpText(false);\n    helpButtonRef.current?.focus();\n    onHelpToggle?.(false);\n  };\n\n  const marginTopClassName = showHelpText ? styles.descriptionMarginTop : '';\n  const hideHelpClassName = hideHelp ? styles.srOnly : '';\n\n  return (\n    <>\n      {helpText && (\n        <IconButton\n          ref={helpButtonRef}\n          className={`${styles.helpButton} ${hideHelpClassName}`.trim()}\n          svgPath={svgHelpIcon}\n          title={titleHelpSvg}\n          size={'extraSmall'}\n          ariaExpanded={showHelpText}\n          ariaDescribedby={targetId}\n          isOutlined\n          onClick={(): void => toggleHelpText()}\n        />\n      )}\n      {helpText && showHelpText && (\n        <div\n          className={`${styles.helpBox} ${hideHelpClassName} ${\n            className ?? ''\n          } ${classNames?.helpText ?? ''}`.trim()}\n        >\n          <div className={styles.helpBoxText}>{helpText}</div>\n          <IconButton\n            className={styles.helpBoxCloseButton}\n            size={'small'}\n            svgPath={CancelSVGpath}\n            title={t('shared.Close')}\n            onClick={(): void => closeHelpText()}\n          />\n        </div>\n      )}\n      {description && (\n        <div\n          id={descriptionId}\n          aria-hidden={hideDescriptionForScreenReader}\n          className={`${\n            styles.description\n          } ${marginTopClassName} ${hideHelpClassName} ${\n            classNames?.description ?? ''\n          }`.trim()}\n        >\n          {description}\n        </div>\n      )}\n    </>\n  );\n};\n\nHelp.displayName = 'Help';\n\nexport { getHelpTitleHelpSvgDefault };\n"],"names":["cov_2pf5yx9lsr","actualCoverage","Help","description","descriptionId","helpText","helpSvgPath","hideHelp","hideDescriptionForScreenReader","targetId","titleHelpSvg","onHelpToggle","getHelpTitleHelpSvgDefault","className","classNames","t","i18n","dsI18n","helpButtonRef","useState","svgHelpIcon","HelpSimpleSVGpath","toggleHelpText","s","showHelpText","setShowHelpText","closeHelpText","current","hideHelpClassName","styles","srOnly","ref","jsx","IconButton","svgPath","title","size","ariaExpanded","ariaDescribedby","isOutlined","onClick","helpBox","b","children","helpBoxText","helpBoxCloseButton","CancelSVGpath","id"],"mappings":"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"}