import{r as g,G as sn}from"./iframe-CBOQuZmX.js";import{r as cn}from"./index-CT7HSXc_.js";function Ke(){return typeof window<"u"}function ae(e){return Bt(e)?(e.nodeName||"").toLowerCase():"#document"}function z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function te(e){var t;return(t=(Bt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bt(e){return Ke()?e instanceof Node||e instanceof z(e).Node:!1}function H(e){return Ke()?e instanceof Element||e instanceof z(e).Element:!1}function U(e){return Ke()?e instanceof HTMLElement||e instanceof z(e).HTMLElement:!1}function rt(e){return!Ke()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof z(e).ShadowRoot}const ln=new Set(["inline","contents"]);function Se(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=G(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ln.has(o)}const an=new Set(["table","td","th"]);function un(e){return an.has(ae(e))}const fn=[":popover-open",":modal"];function je(e){return fn.some(t=>{try{return e.matches(t)}catch{return!1}})}const dn=["transform","translate","scale","rotate","perspective"],mn=["transform","translate","scale","rotate","perspective","filter"],gn=["paint","layout","strict","content"];function ut(e){const t=qe(),n=H(e)?G(e):e;return dn.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||mn.some(r=>(n.willChange||"").includes(r))||gn.some(r=>(n.contain||"").includes(r))}function pn(e){let t=re(e);for(;U(t)&&!le(t);){if(ut(t))return t;if(je(t))return null;t=re(t)}return null}function qe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hn=new Set(["html","body","#document"]);function le(e){return hn.has(ae(e))}function G(e){return z(e).getComputedStyle(e)}function Ue(e){return H(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function re(e){if(ae(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rt(e)&&e.host||te(e);return rt(t)?t.host:t}function Vt(e){const t=re(e);return le(t)?e.ownerDocument?e.ownerDocument.body:e.body:U(t)&&Se(t)?t:Vt(t)}function ce(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Vt(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=z(o);if(i){const c=ot(s);return t.concat(s,s.visualViewport||[],Se(o)?o:[],c&&n?ce(c):[])}return t.concat(o,ce(o,[],n))}function ot(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ue(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function X(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&rt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function vn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Wt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function bn(e){return e.mozInputSource===0&&e.isTrusted?!0:it()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function yn(e){return xn()?!1:!it()&&e.width===0&&e.height===0||it()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function wn(){return/apple/i.test(navigator.vendor)}function it(){const e=/android/i;return e.test(vn())||e.test(Wt())}function xn(){return Wt().includes("jsdom/")}function Rn(e){return"nativeEvent"in e}function En(e){return e.matches("html,body")}function J(e){return e?.ownerDocument||document}function ze(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function de(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Sn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Cn(e){return U(e)&&e.matches(Sn)}function Ge(e){e.preventDefault(),e.stopPropagation()}function Tn(e){return e?e.getAttribute("role")==="combobox"&&Cn(e):!1}const we=Math.min,me=Math.max,Le=Math.round,Pe=Math.floor,ee=e=>({x:e,y:e}),An={left:"right",right:"left",bottom:"top",top:"bottom"},On={start:"end",end:"start"};function st(e,t,n){return me(e,we(t,n))}function Ce(e,t){return typeof e=="function"?e(t):e}function ge(e){return e.split("-")[0]}function Te(e){return e.split("-")[1]}function Ht(e){return e==="x"?"y":"x"}function ft(e){return e==="y"?"height":"width"}const Pn=new Set(["top","bottom"]);function se(e){return Pn.has(ge(e))?"y":"x"}function dt(e){return Ht(se(e))}function In(e,t,n){n===void 0&&(n=!1);const r=Te(e),o=dt(e),i=ft(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Me(s)),[s,Me(s)]}function Dn(e){const t=Me(e);return[ct(e),t,ct(t)]}function ct(e){return e.replace(/start|end/g,t=>On[t])}const bt=["left","right"],yt=["right","left"],Fn=["top","bottom"],Ln=["bottom","top"];function Mn(e,t,n){switch(e){case"top":case"bottom":return n?t?yt:bt:t?bt:yt;case"left":case"right":return t?Fn:Ln;default:return[]}}function kn(e,t,n,r){const o=Te(e);let i=Mn(ge(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(ct)))),i}function Me(e){return e.replace(/left|right|bottom|top/g,t=>An[t])}function Nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kt(e){return typeof e!="number"?Nn(e):{top:e,right:e,bottom:e,left:e}}function ke(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var $n=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ne=$n.join(","),jt=typeof Element>"u",xe=jt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$e=!jt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},_e=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},_n=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Bn=function(t,n,r){if(_e(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Ne));return n&&xe.call(t,Ne)&&o.unshift(t),o=o.filter(r),o},Vn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!_e(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),u=c.length?c:s.children,l=e(u,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else{var f=xe.call(s,Ne);f&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var d=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),h=!_e(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(d&&h){var a=e(d===!0?s.children:d.children,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else i.unshift.apply(i,s.children)}}return o},qt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ut=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||_n(t))&&!qt(t)?0:t.tabIndex},Wn=function(t,n){var r=Ut(t);return r<0&&n&&!qt(t)?0:r},Hn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Yt=function(t){return t.tagName==="INPUT"},Kn=function(t){return Yt(t)&&t.type==="hidden"},jn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},qn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Un=function(t){if(!t.name)return!0;var n=t.form||$e(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=qn(o,t.form);return!i||i===t},Yn=function(t){return Yt(t)&&t.type==="radio"},Xn=function(t){return Yn(t)&&!Un(t)},zn=function(t){var n,r=t&&$e(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,u;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&o;){var l,f,d;r=$e(o),o=(l=r)===null||l===void 0?void 0:l.host,i=!!((f=o)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return i},wt=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Gn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=xe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(xe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,l=$e(t);if(u&&!u.shadowRoot&&o(u)===!0)return wt(t);t.assignedSlot?t=t.assignedSlot:!u&&l!==t.ownerDocument?t=l.host:t=u}t=c}if(zn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return wt(t);return!1},Zn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return xe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Jn=function(t,n){return!(n.disabled||_e(n)||Kn(n)||Gn(n,t)||jn(n)||Zn(n))},lt=function(t,n){return!(Xn(n)||Ut(n)<0||!Jn(t,n))},Qn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},er=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,u=Wn(c,s),l=s?e(o.candidates):c;u===0?s?n.push.apply(n,l):n.push(c):r.push({documentOrder:i,tabIndex:u,item:o,isScope:s,content:l})}),r.sort(Hn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},mt=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Vn([t],n.includeContainer,{filter:lt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Qn}):r=Bn(t,n.includeContainer,lt.bind(null,n)),er(r)},tr=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return xe.call(t,Ne)===!1?!1:lt(n,t)};function xt(e,t,n){let{reference:r,floating:o}=e;const i=se(t),s=dt(t),c=ft(s),u=ge(t),l=i==="y",f=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[c]/2-o[c]/2;let a;switch(u){case"top":a={x:f,y:r.y-o.height};break;case"bottom":a={x:f,y:r.y+r.height};break;case"right":a={x:r.x+r.width,y:d};break;case"left":a={x:r.x-o.width,y:d};break;default:a={x:r.x,y:r.y}}switch(Te(t)){case"start":a[s]-=h*(n&&l?-1:1);break;case"end":a[s]+=h*(n&&l?-1:1);break}return a}const nr=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=xt(l,r,u),h=r,a={},m=0;for(let b=0;b<c.length;b++){const{name:x,fn:y}=c[b],{x:C,y:v,data:w,reset:A}=await y({x:f,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:a,rects:l,platform:s,elements:{reference:e,floating:t}});f=C??f,d=v??d,a={...a,[x]:{...a[x],...w}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(l=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:f,y:d}=xt(l,h,u)),b=-1)}return{x:f,y:d,placement:h,strategy:o,middlewareData:a}};async function Xt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:a=0}=Ce(t,e),m=Kt(a),x=c[h?d==="floating"?"reference":"floating":d],y=ke(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:f,strategy:u})),C=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),w=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},A=ke(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:v,strategy:u}):C);return{top:(y.top-A.top+m.top)/w.y,bottom:(A.bottom-y.bottom+m.bottom)/w.y,left:(y.left-A.left+m.left)/w.x,right:(A.right-y.right+m.right)/w.x}}const rr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:l,padding:f=0}=Ce(e,t)||{};if(l==null)return{};const d=Kt(f),h={x:n,y:r},a=dt(o),m=ft(a),b=await s.getDimensions(l),x=a==="y",y=x?"top":"left",C=x?"bottom":"right",v=x?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[a]-h[a]-i.floating[m],A=h[a]-i.reference[a],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let k=L?L[v]:0;(!k||!await(s.isElement==null?void 0:s.isElement(L)))&&(k=c.floating[v]||i.floating[m]);const _=w/2-A/2,W=k/2-b[m]/2-1,B=we(d[y],W),V=we(d[C],W),T=B,j=k-b[m]-V,N=k/2-b[m]/2+_,R=st(T,N,j),P=!u.arrow&&Te(o)!=null&&N!==R&&i.reference[m]/2-(N<T?B:V)-b[m]/2<0,M=P?N<T?N-T:N-j:0;return{[a]:h[a]+M,data:{[a]:R,centerOffset:N-R-M,...P&&{alignmentOffset:M}},reset:P}}}),or=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:l}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:b=!0,...x}=Ce(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ge(o),C=se(c),v=ge(c)===c,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),A=h||(v||!b?[Me(c)]:Dn(c)),L=m!=="none";!h&&L&&A.push(...kn(c,b,m,w));const k=[c,...A],_=await Xt(t,x),W=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&W.push(_[y]),d){const N=In(o,s,w);W.push(_[N[0]],_[N[1]])}if(B=[...B,{placement:o,overflows:W}],!W.every(N=>N<=0)){var V,T;const N=(((V=i.flip)==null?void 0:V.index)||0)+1,R=k[N];if(R&&(!(d==="alignment"?C!==se(R):!1)||B.every(S=>se(S.placement)===C?S.overflows[0]>0:!0)))return{data:{index:N,overflows:B},reset:{placement:R}};let P=(T=B.filter(M=>M.overflows[0]<=0).sort((M,S)=>M.overflows[1]-S.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(a){case"bestFit":{var j;const M=(j=B.filter(S=>{if(L){const p=se(S.placement);return p===C||p==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(p=>p>0).reduce((p,F)=>p+F,0)]).sort((S,p)=>S[1]-p[1])[0])==null?void 0:j[0];M&&(P=M);break}case"initialPlacement":P=c;break}if(o!==P)return{reset:{placement:P}}}return{}}}},ir=new Set(["left","top"]);async function sr(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ge(n),c=Te(n),u=se(n)==="y",l=ir.has(s)?-1:1,f=i&&u?-1:1,d=Ce(t,e);let{mainAxis:h,crossAxis:a,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof m=="number"&&(a=c==="end"?m*-1:m),u?{x:a*f,y:h*l}:{x:h*l,y:a*f}}const cr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await sr(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},lr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:x=>{let{x:y,y:C}=x;return{x:y,y:C}}},...u}=Ce(e,t),l={x:n,y:r},f=await Xt(t,u),d=se(ge(o)),h=Ht(d);let a=l[h],m=l[d];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",C=a+f[x],v=a-f[y];a=st(C,a,v)}if(s){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",C=m+f[x],v=m-f[y];m=st(C,m,v)}const b=c.fn({...t,[h]:a,[d]:m});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:i,[d]:s}}}}}};function zt(e){const t=G(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=U(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Le(n)!==i||Le(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function gt(e){return H(e)?e:e.contextElement}function ye(e){const t=gt(e);if(!U(t))return ee(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=zt(t);let s=(i?Le(n.width):n.width)/r,c=(i?Le(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ar=ee(0);function Gt(e){const t=z(e);return!qe()||!t.visualViewport?ar:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ur(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==z(e)?!1:t}function pe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=gt(e);let s=ee(1);t&&(r?H(r)&&(s=ye(r)):s=ye(e));const c=ur(i,n,r)?Gt(i):ee(0);let u=(o.left+c.x)/s.x,l=(o.top+c.y)/s.y,f=o.width/s.x,d=o.height/s.y;if(i){const h=z(i),a=r&&H(r)?z(r):r;let m=h,b=ot(m);for(;b&&r&&a!==m;){const x=ye(b),y=b.getBoundingClientRect(),C=G(b),v=y.left+(b.clientLeft+parseFloat(C.paddingLeft))*x.x,w=y.top+(b.clientTop+parseFloat(C.paddingTop))*x.y;u*=x.x,l*=x.y,f*=x.x,d*=x.y,u+=v,l+=w,m=z(b),b=ot(m)}}return ke({width:f,height:d,x:u,y:l})}function Ye(e,t){const n=Ue(e).scrollLeft;return t?t.left+n:pe(te(e)).left+n}function Zt(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ye(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function fr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=te(r),c=t?je(t.floating):!1;if(r===s||c&&i)return n;let u={scrollLeft:0,scrollTop:0},l=ee(1);const f=ee(0),d=U(r);if((d||!d&&!i)&&((ae(r)!=="body"||Se(s))&&(u=Ue(r)),U(r))){const a=pe(r);l=ye(r),f.x=a.x+r.clientLeft,f.y=a.y+r.clientTop}const h=s&&!d&&!i?Zt(s,u):ee(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+f.x+h.x,y:n.y*l.y-u.scrollTop*l.y+f.y+h.y}}function dr(e){return Array.from(e.getClientRects())}function mr(e){const t=te(e),n=Ue(e),r=e.ownerDocument.body,o=me(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=me(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ye(e);const c=-n.scrollTop;return G(r).direction==="rtl"&&(s+=me(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}const Rt=25;function gr(e,t){const n=z(e),r=te(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const f=qe();(!f||f&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}const l=Ye(r);if(l<=0){const f=r.ownerDocument,d=f.body,h=getComputedStyle(d),a=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-a);m<=Rt&&(i-=m)}else l<=Rt&&(i+=l);return{width:i,height:s,x:c,y:u}}const pr=new Set(["absolute","fixed"]);function hr(e,t){const n=pe(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=U(e)?ye(e):ee(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,l=r*i.y;return{width:s,height:c,x:u,y:l}}function Et(e,t,n){let r;if(t==="viewport")r=gr(e,n);else if(t==="document")r=mr(te(e));else if(H(t))r=hr(t,n);else{const o=Gt(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ke(r)}function Jt(e,t){const n=re(e);return n===t||!H(n)||le(n)?!1:G(n).position==="fixed"||Jt(n,t)}function vr(e,t){const n=t.get(e);if(n)return n;let r=ce(e,[],!1).filter(c=>H(c)&&ae(c)!=="body"),o=null;const i=G(e).position==="fixed";let s=i?re(e):e;for(;H(s)&&!le(s);){const c=G(s),u=ut(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&pr.has(o.position)||Se(s)&&!u&&Jt(e,s))?r=r.filter(f=>f!==s):o=c,s=re(s)}return t.set(e,r),r}function br(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?je(t)?[]:vr(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((l,f)=>{const d=Et(t,f,o);return l.top=me(d.top,l.top),l.right=we(d.right,l.right),l.bottom=we(d.bottom,l.bottom),l.left=me(d.left,l.left),l},Et(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function yr(e){const{width:t,height:n}=zt(e);return{width:t,height:n}}function wr(e,t,n){const r=U(t),o=te(t),i=n==="fixed",s=pe(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=ee(0);function l(){u.x=Ye(o)}if(r||!r&&!i)if((ae(t)!=="body"||Se(o))&&(c=Ue(t)),r){const a=pe(t,!0,i,t);u.x=a.x+t.clientLeft,u.y=a.y+t.clientTop}else o&&l();i&&!r&&o&&l();const f=o&&!r&&!i?Zt(o,c):ee(0),d=s.left+c.scrollLeft-u.x-f.x,h=s.top+c.scrollTop-u.y-f.y;return{x:d,y:h,width:s.width,height:s.height}}function Ze(e){return G(e).position==="static"}function St(e,t){if(!U(e)||G(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return te(e)===n&&(n=n.ownerDocument.body),n}function Qt(e,t){const n=z(e);if(je(e))return n;if(!U(e)){let o=re(e);for(;o&&!le(o);){if(H(o)&&!Ze(o))return o;o=re(o)}return n}let r=St(e,t);for(;r&&un(r)&&Ze(r);)r=St(r,t);return r&&le(r)&&Ze(r)&&!ut(r)?n:r||pn(e)||n}const xr=async function(e){const t=this.getOffsetParent||Qt,n=this.getDimensions,r=await n(e.floating);return{reference:wr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rr(e){return G(e).direction==="rtl"}const Er={convertOffsetParentRelativeRectToViewportRelativeRect:fr,getDocumentElement:te,getClippingRect:br,getOffsetParent:Qt,getElementRects:xr,getClientRects:dr,getDimensions:yr,getScale:ye,isElement:H,isRTL:Rr};function en(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Sr(e,t){let n=null,r;const o=te(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const l=e.getBoundingClientRect(),{left:f,top:d,width:h,height:a}=l;if(c||t(),!h||!a)return;const m=Pe(d),b=Pe(o.clientWidth-(f+h)),x=Pe(o.clientHeight-(d+a)),y=Pe(f),v={rootMargin:-m+"px "+-b+"px "+-x+"px "+-y+"px",threshold:me(0,we(1,u))||1};let w=!0;function A(L){const k=L[0].intersectionRatio;if(k!==u){if(!w)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!en(l,e.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(A,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,v)}n.observe(e)}return s(!0),i}function io(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=gt(e),f=o||i?[...l?ce(l):[],...ce(t)]:[];f.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=l&&c?Sr(l,n):null;let h=-1,a=null;s&&(a=new ResizeObserver(y=>{let[C]=y;C&&C.target===l&&a&&(a.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=a)==null||v.observe(t)})),n()}),l&&!u&&a.observe(l),a.observe(t));let m,b=u?pe(e):null;u&&x();function x(){const y=pe(e);b&&!en(b,y)&&n(),b=y,m=requestAnimationFrame(x)}return n(),()=>{var y;f.forEach(C=>{o&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),d?.(),(y=a)==null||y.disconnect(),a=null,u&&cancelAnimationFrame(m)}}const Cr=cr,Tr=lr,Ar=or,Ct=rr,Or=(e,t,n)=>{const r=new Map,o={platform:Er,...n},i={...o.platform,_c:r};return nr(e,t,{...o,platform:i})};var Pr=typeof document<"u",Ir=function(){},Fe=Pr?g.useLayoutEffect:Ir;function Be(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Be(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Be(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tt(e,t){const n=tn(e);return Math.round(t*n)/n}function Je(e){const t=g.useRef(e);return Fe(()=>{t.current=e}),t}function Dr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:l}=e,[f,d]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,a]=g.useState(r);Be(h,r)||a(r);const[m,b]=g.useState(null),[x,y]=g.useState(null),C=g.useCallback(S=>{S!==L.current&&(L.current=S,b(S))},[]),v=g.useCallback(S=>{S!==k.current&&(k.current=S,y(S))},[]),w=i||m,A=s||x,L=g.useRef(null),k=g.useRef(null),_=g.useRef(f),W=u!=null,B=Je(u),V=Je(o),T=Je(l),j=g.useCallback(()=>{if(!L.current||!k.current)return;const S={placement:t,strategy:n,middleware:h};V.current&&(S.platform=V.current),Or(L.current,k.current,S).then(p=>{const F={...p,isPositioned:T.current!==!1};N.current&&!Be(_.current,F)&&(_.current=F,cn.flushSync(()=>{d(F)}))})},[h,t,n,V,T]);Fe(()=>{l===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(S=>({...S,isPositioned:!1})))},[l]);const N=g.useRef(!1);Fe(()=>(N.current=!0,()=>{N.current=!1}),[]),Fe(()=>{if(w&&(L.current=w),A&&(k.current=A),w&&A){if(B.current)return B.current(w,A,j);j()}},[w,A,j,B,W]);const R=g.useMemo(()=>({reference:L,floating:k,setReference:C,setFloating:v}),[C,v]),P=g.useMemo(()=>({reference:w,floating:A}),[w,A]),M=g.useMemo(()=>{const S={position:n,left:0,top:0};if(!P.floating)return S;const p=Tt(P.floating,f.x),F=Tt(P.floating,f.y);return c?{...S,transform:"translate("+p+"px, "+F+"px)",...tn(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:p,top:F}},[n,c,P.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:j,refs:R,elements:P,floatingStyles:M}),[f,j,R,P,M])}const Fr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ct({element:r.current,padding:o}).fn(n):{}:r?Ct({element:r,padding:o}).fn(n):{}}}},so=(e,t)=>({...Cr(e),options:[e,t]}),co=(e,t)=>({...Tr(e),options:[e,t]}),lo=(e,t)=>({...Ar(e),options:[e,t]}),ao=(e,t)=>({...Fr(e),options:[e,t]});function uo(e){return g.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const nn={...sn},Lr=nn.useInsertionEffect,Mr=Lr||(e=>e());function ie(e){const t=g.useRef(()=>{});return Mr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var ne=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}let At=!1,kr=0;const Ot=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kr++;function Nr(){const[e,t]=g.useState(()=>At?Ot():void 0);return ne(()=>{e==null&&t(Ot())},[]),g.useEffect(()=>{At=!0},[]),e}const $r=nn.useId,_r=$r||Nr;function Br(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Vr=g.createContext(null),Wr=g.createContext(null),Hr=()=>{var e;return((e=g.useContext(Vr))==null?void 0:e.id)||null},pt=()=>g.useContext(Wr);function We(e){return"data-floating-ui-"+e}function Qe(e){const t=g.useRef(e);return ne(()=>{t.current=e}),t}let Pt=0;function ve(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Pt);const i=()=>e?.focus({preventScroll:n});o?i():Pt=requestAnimationFrame(i)}function Kr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i?.parentId,i&&(r=r.concat(i))}return r}function Ee(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}let be=new WeakMap,Ie=new WeakSet,De={},et=0;const jr=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,rn=e=>e&&(e.host||rn(e.parentNode)),qr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=rn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Ur(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=qr(t,e),c=new Set,u=new Set(s),l=[];De[o]||(De[o]=new WeakMap);const f=De[o];s.forEach(d),h(t),c.clear();function d(a){!a||c.has(a)||(c.add(a),a.parentNode&&d(a.parentNode))}function h(a){!a||u.has(a)||[].forEach.call(a.children,m=>{if(ae(m)!=="script")if(c.has(m))h(m);else{const b=i?m.getAttribute(i):null,x=b!==null&&b!=="false",y=(be.get(m)||0)+1,C=(f.get(m)||0)+1;be.set(m,y),f.set(m,C),l.push(m),y===1&&x&&Ie.add(m),C===1&&m.setAttribute(o,""),!x&&i&&m.setAttribute(i,"true")}})}return et++,()=>{l.forEach(a=>{const m=(be.get(a)||0)-1,b=(f.get(a)||0)-1;be.set(a,m),f.set(a,b),m||(!Ie.has(a)&&i&&a.removeAttribute(i),Ie.delete(a)),b||a.removeAttribute(o)}),et--,et||(be=new WeakMap,be=new WeakMap,Ie=new WeakSet,De={})}}function It(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=J(e[0]).body;return Ur(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const He=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function on(e,t){const n=mt(e,He());t==="prev"&&n.reverse();const r=n.indexOf(ue(J(e)));return n.slice(r+1)[0]}function Yr(){return on(document.body,"next")}function Xr(){return on(document.body,"prev")}function Dt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!X(n,r)}const ht={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let zr;function Ft(e){e.key==="Tab"&&(e.target,clearTimeout(zr))}const Lt=g.forwardRef(function(t,n){const[r,o]=g.useState();ne(()=>(wn()&&o("button"),document.addEventListener("keydown",Ft),()=>{document.removeEventListener("keydown",Ft)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[We("focus-guard")]:"",style:ht};return g.createElement("span",Ve({},t,i))}),Gr=g.createContext(null),Zr=()=>g.useContext(Gr),at="data-floating-ui-focusable";function Jr(e){return e?e.hasAttribute(at)?e:e.querySelector("["+at+"]")||e:null}const Mt=20;let fe=[];function tt(e){fe=fe.filter(n=>n.isConnected);let t=e;if(!(!t||ae(t)==="body")){if(!tr(t,He())){const n=mt(t,He())[0];n&&(t=n)}fe.push(t),fe.length>Mt&&(fe=fe.slice(-Mt))}}function kt(){return fe.slice().reverse().find(e=>e.isConnected)}const Qr=g.forwardRef(function(t,n){return g.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:ht}))});function fo(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:u=!1,modal:l=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:d=!0}=e,{open:h,refs:a,nodeId:m,onOpenChange:b,events:x,dataRef:y,floatingId:C,elements:{domReference:v,floating:w}}=t,A=typeof s=="number"&&s<0,L=Tn(v)&&A,k=jr()?i:!0,_=Qe(o),W=Qe(s),B=Qe(c),V=pt(),T=Zr(),j=g.useRef(null),N=g.useRef(null),R=g.useRef(!1),P=g.useRef(!1),M=g.useRef(-1),S=T!=null,p=Jr(w),F=ie(function(I){return I===void 0&&(I=p),I?mt(I,He()):[]}),K=ie(I=>{const D=F(I);return _.current.map(E=>v&&E==="reference"?v:p&&E==="floating"?p:D).filter(Boolean).flat()});g.useEffect(()=>{if(r||!l)return;function I(E){if(E.key==="Tab"){X(p,ue(J(p)))&&F().length===0&&!L&&Ge(E);const O=K(),$=de(E);_.current[0]==="reference"&&$===v&&(Ge(E),E.shiftKey?ve(O[O.length-1]):ve(O[1])),_.current[1]==="floating"&&$===p&&E.shiftKey&&(Ge(E),ve(O[0]))}}const D=J(p);return D.addEventListener("keydown",I),()=>{D.removeEventListener("keydown",I)}},[r,v,p,l,_,L,F,K]),g.useEffect(()=>{if(r||!w)return;function I(D){const E=de(D),$=F().indexOf(E);$!==-1&&(M.current=$)}return w.addEventListener("focusin",I),()=>{w.removeEventListener("focusin",I)}},[r,w,F]),g.useEffect(()=>{if(r||!d)return;function I(){P.current=!0,setTimeout(()=>{P.current=!1})}function D(E){const O=E.relatedTarget;queueMicrotask(()=>{const $=!(X(v,O)||X(w,O)||X(O,w)||X(T?.portalNode,O)||O!=null&&O.hasAttribute(We("focus-guard"))||V&&(Ee(V.nodesRef.current,m).find(Y=>{var q,Q;return X((q=Y.context)==null?void 0:q.elements.floating,O)||X((Q=Y.context)==null?void 0:Q.elements.domReference,O)})||Kr(V.nodesRef.current,m).find(Y=>{var q,Q;return((q=Y.context)==null?void 0:q.elements.floating)===O||((Q=Y.context)==null?void 0:Q.elements.domReference)===O})));if(u&&$&&ue(J(p))===J(p).body){U(p)&&p.focus();const Y=M.current,q=F(),Q=q[Y]||q[q.length-1]||p;U(Q)&&Q.focus()}(L||!l)&&O&&$&&!P.current&&O!==kt()&&(R.current=!0,b(!1,E,"focus-out"))})}if(w&&U(v))return v.addEventListener("focusout",D),v.addEventListener("pointerdown",I),w.addEventListener("focusout",D),()=>{v.removeEventListener("focusout",D),v.removeEventListener("pointerdown",I),w.removeEventListener("focusout",D)}},[r,v,w,p,l,m,V,T,b,d,u,F,L]),g.useEffect(()=>{var I;if(r)return;const D=Array.from((T==null||(I=T.portalNode)==null?void 0:I.querySelectorAll("["+We("portal")+"]"))||[]);if(w){const E=[w,...D,j.current,N.current,_.current.includes("reference")||L?v:null].filter($=>$!=null),O=l||L?It(E,k,!k):It(E);return()=>{O()}}},[r,v,w,l,_,T,L,k]),ne(()=>{if(r||!U(p))return;const I=J(p),D=ue(I);queueMicrotask(()=>{const E=K(p),O=W.current,$=(typeof O=="number"?E[O]:O.current)||p,Y=X(p,D);!A&&!Y&&h&&ve($,{preventScroll:$===p})})},[r,h,p,A,K,W]),ne(()=>{if(r||!p)return;let I=!1;const D=J(p),E=ue(D);let $=y.current.openEvent;tt(E);function Y(he){let{open:Ae,reason:Oe,event:oe,nested:Xe}=he;Ae&&($=oe),Oe==="escape-key"&&a.domReference.current&&tt(a.domReference.current),Oe==="hover"&&oe.type==="mouseleave"&&(R.current=!0),Oe==="outside-press"&&(Xe?(R.current=!1,I=!0):R.current=!(bn(oe)||yn(oe)))}x.on("openchange",Y);const q=D.createElement("span");q.setAttribute("tabindex","-1"),q.setAttribute("aria-hidden","true"),Object.assign(q.style,ht),S&&v&&v.insertAdjacentElement("afterend",q);function Q(){return typeof B.current=="boolean"?kt()||q:B.current.current||q}return()=>{x.off("openchange",Y);const he=ue(D),Ae=X(w,he)||V&&Ee(V.nodesRef.current,m).some(Xe=>{var vt;return X((vt=Xe.context)==null?void 0:vt.elements.floating,he)});(Ae||$&&["click","mousedown"].includes($.type))&&a.domReference.current&&tt(a.domReference.current);const oe=Q();queueMicrotask(()=>{B.current&&!R.current&&U(oe)&&(!(oe!==he&&he!==D.body)||Ae)&&oe.focus({preventScroll:I}),q.remove()})}},[r,w,p,B,y,a,x,V,m,S,v]),g.useEffect(()=>{queueMicrotask(()=>{R.current=!1})},[r]),ne(()=>{if(!r&&T)return T.setFocusManagerState({modal:l,closeOnFocusOut:d,open:h,onOpenChange:b,refs:a}),()=>{T.setFocusManagerState(null)}},[r,T,l,h,b,a,d]),ne(()=>{if(r||!p||typeof MutationObserver!="function"||A)return;const I=()=>{const E=p.getAttribute("tabindex"),O=F(),$=ue(J(w)),Y=O.indexOf($);Y!==-1&&(M.current=Y),_.current.includes("floating")||$!==a.domReference.current&&O.length===0?E!=="0"&&p.setAttribute("tabindex","0"):E!=="-1"&&p.setAttribute("tabindex","-1")};I();const D=new MutationObserver(I);return D.observe(p,{childList:!0,subtree:!0,attributes:!0}),()=>{D.disconnect()}},[r,w,p,a,_,F,A]);function Z(I){return r||!f||!l?null:g.createElement(Qr,{ref:I==="start"?j:N,onClick:D=>b(!1,D.nativeEvent)},typeof f=="string"?f:"Dismiss")}const Re=!r&&k&&(l?!L:!0)&&(S||l);return g.createElement(g.Fragment,null,Re&&g.createElement(Lt,{"data-type":"inside",ref:T?.beforeInsideRef,onFocus:I=>{if(l){const E=K();ve(o[0]==="reference"?E[0]:E[E.length-1])}else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(R.current=!1,Dt(I,T.portalNode)){const E=Yr()||v;E?.focus()}else{var D;(D=T.beforeOutsideRef.current)==null||D.focus()}}}),!L&&Z("start"),n,Z("end"),Re&&g.createElement(Lt,{"data-type":"inside",ref:T?.afterInsideRef,onFocus:I=>{if(l)ve(K()[0]);else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(d&&(R.current=!0),Dt(I,T.portalNode)){const E=Xr()||v;E?.focus()}else{var D;(D=T.afterOutsideRef.current)==null||D.focus()}}}))}const eo={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},to={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Nt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function mo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:c=!0,outsidePress:u=!0,outsidePressEvent:l="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:a,capture:m}=t,b=pt(),x=ie(typeof u=="function"?u:()=>!1),y=typeof u=="function"?x:u,C=g.useRef(!1),v=g.useRef(!1),{escapeKey:w,outsidePress:A}=Nt(a),{escapeKey:L,outsidePress:k}=Nt(m),_=g.useRef(!1),W=ie(R=>{var P;if(!n||!s||!c||R.key!=="Escape"||_.current)return;const M=(P=i.current.floatingContext)==null?void 0:P.nodeId,S=b?Ee(b.nodesRef.current,M):[];if(!w&&(R.stopPropagation(),S.length>0)){let p=!0;if(S.forEach(F=>{var K;if((K=F.context)!=null&&K.open&&!F.context.dataRef.current.__escapeKeyBubbles){p=!1;return}}),!p)return}r(!1,Rn(R)?R.nativeEvent:R,"escape-key")}),B=ie(R=>{var P;const M=()=>{var S;W(R),(S=de(R))==null||S.removeEventListener("keydown",M)};(P=de(R))==null||P.addEventListener("keydown",M)}),V=ie(R=>{var P;const M=C.current;C.current=!1;const S=v.current;if(v.current=!1,l==="click"&&S||M||typeof y=="function"&&!y(R))return;const p=de(R),F="["+We("inert")+"]",K=J(o.floating).querySelectorAll(F);let Z=H(p)?p:null;for(;Z&&!le(Z);){const E=re(Z);if(le(E)||!H(E))break;Z=E}if(K.length&&H(p)&&!En(p)&&!X(p,o.floating)&&Array.from(K).every(E=>!X(Z,E)))return;if(U(p)&&N){const E=p.clientWidth>0&&p.scrollWidth>p.clientWidth,O=p.clientHeight>0&&p.scrollHeight>p.clientHeight;let $=O&&R.offsetX>p.clientWidth;if(O&&G(p).direction==="rtl"&&($=R.offsetX<=p.offsetWidth-p.clientWidth),$||E&&R.offsetY>p.clientHeight)return}const Re=(P=i.current.floatingContext)==null?void 0:P.nodeId,I=b&&Ee(b.nodesRef.current,Re).some(E=>{var O;return ze(R,(O=E.context)==null?void 0:O.elements.floating)});if(ze(R,o.floating)||ze(R,o.domReference)||I)return;const D=b?Ee(b.nodesRef.current,Re):[];if(D.length>0){let E=!0;if(D.forEach(O=>{var $;if(($=O.context)!=null&&$.open&&!O.context.dataRef.current.__outsidePressBubbles){E=!1;return}}),!E)return}r(!1,R,"outside-press")}),T=ie(R=>{var P;const M=()=>{var S;V(R),(S=de(R))==null||S.removeEventListener(l,M)};(P=de(R))==null||P.addEventListener(l,M)});g.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=w,i.current.__outsidePressBubbles=A;let R=-1;function P(K){r(!1,K,"ancestor-scroll")}function M(){window.clearTimeout(R),_.current=!0}function S(){R=window.setTimeout(()=>{_.current=!1},qe()?5:0)}const p=J(o.floating);c&&(p.addEventListener("keydown",L?B:W,L),p.addEventListener("compositionstart",M),p.addEventListener("compositionend",S)),y&&p.addEventListener(l,k?T:V,k);let F=[];return h&&(H(o.domReference)&&(F=ce(o.domReference)),H(o.floating)&&(F=F.concat(ce(o.floating))),!H(o.reference)&&o.reference&&o.reference.contextElement&&(F=F.concat(ce(o.reference.contextElement)))),F=F.filter(K=>{var Z;return K!==((Z=p.defaultView)==null?void 0:Z.visualViewport)}),F.forEach(K=>{K.addEventListener("scroll",P,{passive:!0})}),()=>{c&&(p.removeEventListener("keydown",L?B:W,L),p.removeEventListener("compositionstart",M),p.removeEventListener("compositionend",S)),y&&p.removeEventListener(l,k?T:V,k),F.forEach(K=>{K.removeEventListener("scroll",P)}),window.clearTimeout(R)}},[i,o,c,y,l,n,r,h,s,w,A,W,L,B,V,k,T]),g.useEffect(()=>{C.current=!1},[y,l]);const j=g.useMemo(()=>({onKeyDown:W,[eo[d]]:R=>{f&&r(!1,R.nativeEvent,"reference-press")}}),[W,r,f,d]),N=g.useMemo(()=>({onKeyDown:W,onMouseDown(){v.current=!0},onMouseUp(){v.current=!0},[to[l]]:()=>{C.current=!0}}),[W,l]);return g.useMemo(()=>s?{reference:j,floating:N}:{},[s,j,N])}function no(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=_r(),i=g.useRef({}),[s]=g.useState(()=>Br()),c=Hr()!=null,[u,l]=g.useState(r.reference),f=ie((a,m,b)=>{i.current.openEvent=a?m:void 0,s.emit("openchange",{open:a,event:m,reason:b,nested:c}),n?.(a,m,b)}),d=g.useMemo(()=>({setPositionReference:l}),[]),h=g.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return g.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:h,events:s,floatingId:o,refs:d}),[t,f,h,s,o,d])}function go(e){e===void 0&&(e={});const{nodeId:t}=e,n=no({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=g.useState(null),[c,u]=g.useState(null),f=o?.domReference||i,d=g.useRef(null),h=pt();ne(()=>{f&&(d.current=f)},[f]);const a=Dr({...e,elements:{...o,...c&&{reference:c}}}),m=g.useCallback(v=>{const w=H(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;u(w),a.refs.setReference(w)},[a.refs]),b=g.useCallback(v=>{(H(v)||v===null)&&(d.current=v,s(v)),(H(a.refs.reference.current)||a.refs.reference.current===null||v!==null&&!H(v))&&a.refs.setReference(v)},[a.refs]),x=g.useMemo(()=>({...a.refs,setReference:b,setPositionReference:m,domReference:d}),[a.refs,b,m]),y=g.useMemo(()=>({...a.elements,domReference:f}),[a.elements,f]),C=g.useMemo(()=>({...a,...r,refs:x,elements:y,nodeId:t}),[a,x,y,t,r]);return ne(()=>{r.dataRef.current.floatingContext=C;const v=h?.nodesRef.current.find(w=>w.id===t);v&&(v.context=C)}),g.useMemo(()=>({...a,context:C,refs:x,elements:y}),[a,x,y,C])}const $t="active",_t="selected";function nt(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[$t]:s,[_t]:c,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[at]:""},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(u=>{let[l,f]=u;if(!(o&&[$t,_t].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof f=="function"){var d;(d=r.get(l))==null||d.push(f),s[l]=function(){for(var h,a=arguments.length,m=new Array(a),b=0;b<a;b++)m[b]=arguments[b];return(h=r.get(l))==null?void 0:h.map(x=>x(...m)).find(x=>x!==void 0)}}}else s[l]=f}),s),{})}}function po(e){e===void 0&&(e=[]);const t=e.map(c=>c?.reference),n=e.map(c=>c?.floating),r=e.map(c=>c?.item),o=g.useCallback(c=>nt(c,e,"reference"),t),i=g.useCallback(c=>nt(c,e,"floating"),n),s=g.useCallback(c=>nt(c,e,"item"),r);return g.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}export{fo as F,mo as a,po as b,uo as c,ao as d,io as e,lo as f,so as o,co as s,go as u};
//# sourceMappingURL=floating-ui.react-D2pFwR57.js.map
