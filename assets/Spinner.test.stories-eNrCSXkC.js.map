{"version":3,"file":"Spinner.test.stories-eNrCSXkC.js","sources":["../../../../apps/ds-playground/src/stories/__tests__/Spinner.test.stories.tsx"],"sourcesContent":["import { JSX } from 'react';\n\nimport { Meta, StoryObj } from '@storybook/react-vite';\nimport { expect, within } from 'storybook/test';\n\nimport { Spinner } from '@skatteetaten/ds-progress';\n\nconst meta = {\n  component: Spinner,\n  title: 'Tester/Spinner',\n  argTypes: {\n    // Baseprops\n    ref: { table: { disable: true } },\n    className: { table: { disable: true } },\n    id: { table: { disable: true } },\n    lang: { table: { disable: true } },\n    'data-testid': { table: { disable: true } },\n    // Props\n    children: {\n      table: { disable: true },\n      control: 'text',\n    },\n    size: {\n      table: { disable: true },\n      control: 'inline-radio',\n    },\n    titlePosition: {\n      table: { disable: true },\n      control: 'inline-radio',\n    },\n    color: {\n      table: { disable: true },\n      control: 'inline-radio',\n    },\n    classNames: { table: { disable: true } },\n    percentComplete: { table: { disable: true } },\n    hideTitle: { table: { disable: true } },\n  },\n  tags: ['test'],\n  parameters: {\n    imageSnapshot: { disableSnapshot: false },\n  },\n} satisfies Meta<typeof Spinner>;\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const WithRef = {\n  name: 'With Ref (FA1)',\n  args: {\n    ref: (instance: HTMLDivElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n  },\n  argTypes: {\n    ref: { table: { disable: false } },\n  },\n  parameters: {\n    imageSnapshot: { disableSnapshot: true },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getAllByRole('generic')[1];\n    await expect(spinner).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  },\n} satisfies Story;\n\nexport const WithAttributes = {\n  name: 'With Attributes (FA2-5)',\n  args: {\n    id: 'htmlid',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID',\n  },\n  argTypes: {\n    id: { table: { disable: false } },\n    className: { table: { disable: false } },\n    lang: { table: { disable: false } },\n    'data-testid': { table: { disable: false } },\n  },\n  parameters: {\n    a11y: {\n      test: 'off',\n    },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getByTestId('123ID');\n    await expect(spinner).toHaveAttribute('id', 'htmlid');\n    await expect(spinner).toHaveClass('dummyClassname');\n    await expect(spinner).toHaveAttribute('lang', 'nb');\n  },\n} satisfies Story;\n\nexport const Defaults = {\n  name: 'Defaults (B2)',\n  argTypes: {\n    children: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = await canvas.findByText('Laster inn');\n    await expect(spinner).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithSizeAndPosition = {\n  name: 'With Size, TitlePostition, Children (A1, A2, A4)',\n  render: (args): JSX.Element => {\n    return (\n      <>\n        <Spinner className={'bottomSpacingXL'} size={'small'} {...args} />\n        <Spinner className={'bottomSpacingXL'} size={'medium'} {...args} />\n        <Spinner className={'bottomSpacingXL'} size={'large'} {...args} />\n        <Spinner className={'bottomSpacingXL'} size={'extraLarge'} {...args} />\n\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'small'}\n          {...args}\n        />\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'medium'}\n          {...args}\n        />\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'large'}\n          {...args}\n        />\n        <Spinner\n          className={'bottomSpacingXL'}\n          titlePosition={'right'}\n          size={'extraLarge'}\n          {...args}\n        />\n      </>\n    );\n  },\n  args: {\n    children: 'henter innhold',\n  },\n  argTypes: {\n    children: { table: { disable: false } },\n    size: { table: { disable: false } },\n    titlePosition: { table: { disable: false } },\n  },\n} satisfies Story;\n\nexport const WithSizeAndPositionLongText = {\n  ...WithSizeAndPosition,\n  name: 'With Size, Text Postition, Children, Long Text (A1, A2, A4)',\n  args: {\n    children: 'Henter årsmiddelkurs fra valutakurstjenesten',\n  },\n};\n\nexport const WithColorsLightBackground = {\n  name: 'With Color (A3)',\n  render: (args): JSX.Element => {\n    return (\n      <>\n        <Spinner\n          className={'bottomSpacingXL'}\n          color={'black'}\n          size={'medium'}\n          {...args}\n        >\n          {'Henter innhold'}\n        </Spinner>\n        <Spinner color={'blue'} size={'medium'} {...args}>\n          {'Henter innhold'}\n        </Spinner>\n      </>\n    );\n  },\n  argTypes: {\n    color: {\n      table: { disable: false },\n    },\n  },\n} satisfies Story;\n\nexport const WithColorsDarkBackground = {\n  name: 'With Color Dark Background(A3)',\n  args: {\n    color: 'white',\n  },\n  argTypes: {\n    color: {\n      table: { disable: false },\n    },\n  },\n  globals: {\n    backgrounds: {\n      value: 'dark',\n    },\n  },\n} satisfies Story;\n\nconst spinnerTitle = 'laster data';\nexport const WithHideText = {\n  name: 'With HideTitle (B1)',\n  args: {\n    hideTitle: true,\n    children: spinnerTitle,\n  },\n  argTypes: {\n    hideTitle: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    // vi må bruke findBy i stedet for getBY her siden det er en liten delay før teksten rendres\n    const spinnerTitleElement = await canvas.findByText(spinnerTitle);\n    await expect(spinnerTitleElement).toBeInTheDocument();\n  },\n} satisfies Story;\n\nexport const WithPercent = {\n  name: 'With PercentComplete (B3)',\n  args: {\n    percentComplete: 50,\n    children: spinnerTitle,\n  },\n  argTypes: {\n    percentComplete: { table: { disable: false } },\n  },\n  play: async ({ canvasElement }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const spinner = canvas.getByRole('progressbar');\n    await expect(canvas.getByText('50 %')).toBeInTheDocument();\n    await expect(spinner).toHaveAttribute('aria-busy', 'true');\n    await expect(spinner).toHaveAttribute('aria-valuenow', '50');\n    await expect(spinner).toHaveAttribute('aria-valuemin', '0');\n    await expect(spinner).toHaveAttribute('aria-valuemax', '100');\n    await expect(spinner).toBeInTheDocument();\n  },\n} satisfies Story;\n"],"names":["expect","within","meta","component","Spinner","title","argTypes","ref","table","disable","className","id","lang","children","control","size","titlePosition","color","classNames","percentComplete","hideTitle","tags","parameters","imageSnapshot","disableSnapshot","WithRef","name","args","instance","play","canvasElement","spinner","getAllByRole","toHaveAttribute","WithAttributes","a11y","test","getByTestId","toHaveClass","Defaults","findByText","toBeInTheDocument","WithSizeAndPosition","render","jsxs","Fragment","jsx","WithSizeAndPositionLongText","WithColorsLightBackground","WithColorsDarkBackground","globals","backgrounds","value","spinnerTitle","WithHideText","spinnerTitleElement","WithPercent","canvas","getByRole","getByText","docs","source","originalSource"],"mappings":"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"}