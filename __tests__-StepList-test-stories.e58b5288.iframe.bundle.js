"use strict";(self.webpackChunk_skatteetaten_designsystemet=self.webpackChunk_skatteetaten_designsystemet||[]).push([[2447],{"./apps/ds-playground/src/stories/__tests__/StepList.test.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithAttributes:()=>WithAttributes,WithBreakPointMobile:()=>WithBreakPointMobile,WithBreakPointS:()=>WithBreakPointS,WithBreakPointXS:()=>WithBreakPointXS,WithMultipleSteps:()=>WithMultipleSteps,WithRef:()=>WithRef,WithVariants:()=>WithVariants,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ds-collections/src/index.ts"),_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ds-core-utils/src/index.ts"),_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/ds-forms/src/index.ts"),_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/ds-typography/src/index.ts"),_storybook_test__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),_storybook_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./apps/ds-playground/.storybook/helpers.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={component:_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$,title:"Tester/StepList/StepList",argTypes:{key:{table:{disable:!0}},ref:{table:{disable:!0}},className:{table:{disable:!0}},id:{table:{disable:!0}},lang:{table:{disable:!0}},"data-testid":{table:{disable:!0}},children:{control:!1,table:{disable:!0,category:_storybook_helpers__WEBPACK_IMPORTED_MODULE_6__.W.props}}},parameters:{a11y:{disable:!0}}},WithRef={name:"With Ref (FA1)",args:{ref:instance=>{instance&&(instance.id="dummyIdForwardedFromRef")},"data-testid":"123ID"},argTypes:{ref:{table:{disable:!1}}},parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const stepList=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.uh)(canvasElement).getByTestId("123ID");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(stepList).toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(stepList).toHaveAttribute("id","dummyIdForwardedFromRef")}},WithAttributes={name:"With Attributes (FA2-5)",args:{id:"htmlid",className:"dummyClassname",lang:"nb","data-testid":"123ID"},argTypes:{id:{table:{disable:!1}},className:{table:{disable:!1}},lang:{table:{disable:!1}},"data-testid":{table:{disable:!1}}},play:async({canvasElement})=>{const stepList=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.uh)(canvasElement).getByTestId("123ID");await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(stepList).toHaveAttribute("id","htmlid"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(stepList).toHaveClass("dummyClassname"),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(stepList).toHaveAttribute("lang","nb")}},TemplateExample=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{variant:"passive",title:"besvart",stepNumber:1,onEdit:()=>alert("endre"),children:"brødtekst"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{title:"besvart 2",stepNumber:2,children:"brødtekst"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{title:"aktivt",variant:"active",stepNumber:3,onNext:()=>console.log("next"),children:"brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst brødtekst "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{title:"positivt resultat",variant:"positiveResult",stepNumber:4,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.X6,{as:"h3",level:4,children:"Virksomheten skal registreres som særavgiftspliktig."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.nv,{children:["For å bli registrert må du sende en søknad til Skatteetaten.","Nedenfor beskriver vi hvordan du går frem og hva du må dokumentere."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.nv,{children:"Du må gjøre følgende:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.aV,{as:"ol",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.aV.Element,{children:"Du må bestemme hvilken organisasjonsform som passer best."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.aV.Element,{children:["Registrere bedriften i Enhetsregisteret ved å fylle ut Samordnet","registermelding"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.aV.Element,{children:["Dersom bedriften din har avgiftspliktig omsetning og/eller uttak","overstiger kr 50 000 i løpet av en 12 måneders periode, må du","registrere virksomheten i Merverdiavgiftsregisteret."]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{title:"neutralt resultat",variant:"neutralResult",stepNumber:4,introTitle:"Intro til steget",introContent:"innhold",children:"more brødtekst"})]})}),WithVariants={name:"With step Variants (A1, A2, A3)",render:TemplateExample,parameters:{viewport:{viewPortHeight:1200}}},WithBreakPointS={name:"With step Variants breakpoint-s (A1, A2, A3)",render:TemplateExample,parameters:{viewport:{defaultViewport:"--breakpoint-s",viewPortHeight:1200}}},WithBreakPointXS={name:"With step Variants breakpoint-xs (A1, A2, A3)",render:TemplateExample,parameters:{viewport:{defaultViewport:"--breakpoint-xs",viewPortHeight:1200}}},WithBreakPointMobile={name:"With step Variants mobile (A1, A2, A3)",render:TemplateExample,parameters:{viewport:{defaultViewport:"--mobile",viewPortHeight:1550}}},WithMultipleSteps={name:"With steps (A6, A8, A9)",render:()=>{const stepId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)(),[activeStep,setActiveStep]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),[step3,setStep3]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),[hasStep3Error,setHasStep3Error]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),onNext=()=>{const nextStep=activeStep+1;setActiveStep(nextStep),setTimeout((()=>{const el=document.getElementById(`${stepId}-${nextStep}-focus-target`);null==el||el.focus()}),0)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$,{children:[activeStep>=1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{id:`${stepId}-1`,variant:1===activeStep?"active":"passive",title:"Hva holder du på med?",stepNumber:1,onEdit:activeStep>1&&activeStep<4?()=>setActiveStep(1):void 0,onNext,children:"Varer og tjenester"}),activeStep>=2&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{id:`${stepId}-2`,variant:2===activeStep?"active":"passive",title:"Hva gjør du?",stepNumber:2,onEdit:activeStep>2&&activeStep<4?()=>setActiveStep(2):void 0,onNext,children:"Selger"}),activeStep>=3&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{id:`${stepId}-3`,variant:3===activeStep?"active":"passive",title:"Salg av varer og tjenester",stepNumber:3,onNext:()=>{step3?onNext():setHasStep3Error(!0)},children:3===activeStep?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_3__.Ee,{id:"step3radio",legend:"Selger du varer og tjenester for egen regning og risiko?",errorMessage:hasStep3Error?"Kryss av hvorvidt du selger varer  og tjenester":void 0,hideLegend:!0,onChange:e=>{setHasStep3Error(!1),setStep3(e.target.value)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_3__.Ee.Radio,{value:"ja",children:"Ja"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_forms__WEBPACK_IMPORTED_MODULE_3__.Ee.Radio,{value:"nei",children:"Nei"})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{children:step3})}),activeStep>=4&&"ja"===step3&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{id:`${stepId}-4`,title:"Vårt veiledende svar",variant:"positiveResult",stepNumber:4,introTitle:"Virksomheten skal registreres som særavgiftspliktig.",introTitleAs:"h4",introContent:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.nv,{children:"brødtekst"}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_typography__WEBPACK_IMPORTED_MODULE_4__.nv,{children:"brødtekst"})}),activeStep>=4&&"nei"===step3&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_skatteetaten_ds_collections__WEBPACK_IMPORTED_MODULE_1__.y$.Step,{id:`${stepId}-4`,title:"neutralt resultat",variant:"neutralResult",stepNumber:4,children:"more brødtekst"})]})},parameters:{imageSnapshot:{disable:!0}},play:async({canvasElement})=>{const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.uh)(canvasElement),nextText=_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_2__.g0.t("ds_collections:steplist.Next"),editText=_skatteetaten_ds_core_utils__WEBPACK_IMPORTED_MODULE_2__.g0.t("ds_collections:steplist.Edit");await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(nextText)),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(editText)),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(nextText)),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(nextText)),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(nextText)),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText("Ja")),await _storybook_test__WEBPACK_IMPORTED_MODULE_5__.mV.click(canvas.getByText(nextText)),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(canvas.queryByText(nextText)).not.toBeInTheDocument(),await(0,_storybook_test__WEBPACK_IMPORTED_MODULE_5__.l_)(canvas.queryByText(editText)).not.toBeInTheDocument()}};WithRef.parameters={...WithRef.parameters,docs:{...WithRef.parameters?.docs,source:{originalSource:"{\n  name: 'With Ref (FA1)',\n  args: {\n    ref: (instance: HTMLOListElement | null): void => {\n      if (instance) {\n        instance.id = 'dummyIdForwardedFromRef';\n      }\n    },\n    'data-testid': '123ID'\n  },\n  argTypes: {\n    ref: {\n      table: {\n        disable: false\n      }\n    }\n  },\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const stepList = canvas.getByTestId('123ID');\n    await expect(stepList).toBeInTheDocument();\n    await expect(stepList).toHaveAttribute('id', 'dummyIdForwardedFromRef');\n  }\n} satisfies Story",...WithRef.parameters?.docs?.source}}},WithAttributes.parameters={...WithAttributes.parameters,docs:{...WithAttributes.parameters?.docs,source:{originalSource:"{\n  name: 'With Attributes (FA2-5)',\n  args: {\n    id: 'htmlid',\n    className: 'dummyClassname',\n    lang: 'nb',\n    'data-testid': '123ID'\n  },\n  argTypes: {\n    id: {\n      table: {\n        disable: false\n      }\n    },\n    className: {\n      table: {\n        disable: false\n      }\n    },\n    lang: {\n      table: {\n        disable: false\n      }\n    },\n    'data-testid': {\n      table: {\n        disable: false\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const stepList = canvas.getByTestId('123ID');\n    await expect(stepList).toHaveAttribute('id', 'htmlid');\n    await expect(stepList).toHaveClass('dummyClassname');\n    await expect(stepList).toHaveAttribute('lang', 'nb');\n  }\n} satisfies Story",...WithAttributes.parameters?.docs?.source}}},WithVariants.parameters={...WithVariants.parameters,docs:{...WithVariants.parameters?.docs,source:{originalSource:"{\n  name: 'With step Variants (A1, A2, A3)',\n  render: TemplateExample,\n  parameters: {\n    viewport: {\n      viewPortHeight: 1200\n    }\n  }\n} satisfies Story",...WithVariants.parameters?.docs?.source}}},WithBreakPointS.parameters={...WithBreakPointS.parameters,docs:{...WithBreakPointS.parameters?.docs,source:{originalSource:"{\n  name: 'With step Variants breakpoint-s (A1, A2, A3)',\n  render: TemplateExample,\n  parameters: {\n    viewport: {\n      defaultViewport: '--breakpoint-s',\n      viewPortHeight: 1200\n    }\n  }\n} satisfies Story",...WithBreakPointS.parameters?.docs?.source}}},WithBreakPointXS.parameters={...WithBreakPointXS.parameters,docs:{...WithBreakPointXS.parameters?.docs,source:{originalSource:"{\n  name: 'With step Variants breakpoint-xs (A1, A2, A3)',\n  render: TemplateExample,\n  parameters: {\n    viewport: {\n      defaultViewport: '--breakpoint-xs',\n      viewPortHeight: 1200\n    }\n  }\n} satisfies Story",...WithBreakPointXS.parameters?.docs?.source}}},WithBreakPointMobile.parameters={...WithBreakPointMobile.parameters,docs:{...WithBreakPointMobile.parameters?.docs,source:{originalSource:"{\n  name: 'With step Variants mobile (A1, A2, A3)',\n  render: TemplateExample,\n  parameters: {\n    viewport: {\n      defaultViewport: '--mobile',\n      viewPortHeight: 1550\n    }\n  }\n} satisfies Story",...WithBreakPointMobile.parameters?.docs?.source}}},WithMultipleSteps.parameters={...WithMultipleSteps.parameters,docs:{...WithMultipleSteps.parameters?.docs,source:{originalSource:"{\n  name: 'With steps (A6, A8, A9)',\n  render: TemplateMultipleSteps,\n  parameters: {\n    imageSnapshot: {\n      disable: true\n    }\n  },\n  play: async ({\n    canvasElement\n  }): Promise<void> => {\n    const canvas = within(canvasElement);\n    const nextText = dsI18n.t('ds_collections:steplist.Next');\n    const editText = dsI18n.t('ds_collections:steplist.Edit');\n    await userEvent.click(canvas.getByText(nextText));\n    await userEvent.click(canvas.getByText(editText));\n    await userEvent.click(canvas.getByText(nextText));\n    await userEvent.click(canvas.getByText(nextText));\n    await userEvent.click(canvas.getByText(nextText));\n    await userEvent.click(canvas.getByText('Ja'));\n    await userEvent.click(canvas.getByText(nextText));\n    await expect(canvas.queryByText(nextText)).not.toBeInTheDocument();\n    await expect(canvas.queryByText(editText)).not.toBeInTheDocument();\n  }\n} satisfies Story",...WithMultipleSteps.parameters?.docs?.source}}};const __namedExportsOrder=["WithRef","WithAttributes","WithVariants","WithBreakPointS","WithBreakPointXS","WithBreakPointMobile","WithMultipleSteps"]}}]);